var $jscomp={scope:{},getGlobal:function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global?global:e}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.initSymbol=function(){$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol);$jscomp.initSymbol=function(){}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(e){return"jscomp_symbol_"+e+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};
$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator();if(e[$jscomp.global.Symbol.iterator])return e[$jscomp.global.Symbol.iterator]();if(!(e instanceof Array||"string"==typeof e||e instanceof String))throw new TypeError(e+" is not iterable");var b=0;return{next:function(){return b==e.length?{done:!0}:{done:!1,value:e[b++]}}}};$jscomp.arrayFromIterator=function(e){for(var b,d=[];!(b=e.next()).done;)d.push(b.value);return d};
$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))};$jscomp.arrayFromArguments=function(e){for(var b=[],d=0;d<e.length;d++)b.push(e[d]);return b};$jscomp.inherits=function(e,b){function d(){}d.prototype=b.prototype;e.prototype=new d;e.prototype.constructor=e;for(var c in b)if($jscomp.global.Object.defineProperties){var h=$jscomp.global.Object.getOwnPropertyDescriptor(b,c);$jscomp.global.Object.defineProperty(e,c,h)}else e[c]=b[c]};
$jscomp.array=$jscomp.array||{};$jscomp.array.done_=function(){return{done:!0,value:void 0}};$jscomp.array.arrayIterator_=function(e,b){e instanceof String&&(e=String(e));var d=0;$jscomp.initSymbol();$jscomp.initSymbolIterator();var c={},h=(c.next=function(){if(d<e.length){var c=d++;return{value:b(c,e[c]),done:!1}}h.next=$jscomp.array.done_;return $jscomp.array.done_()},c[Symbol.iterator]=function(){return h},c);return h};
$jscomp.array.findInternal_=function(e,b,d){e instanceof String&&(e=String(e));for(var c=e.length,h=0;h<c;h++){var f=e[h];if(b.call(d,f,h,e))return{i:h,v:f}}return{i:-1,v:void 0}};
$jscomp.array.from=function(e,b,d){b=void 0===b?function(b){return b}:b;var c=[];$jscomp.initSymbol();$jscomp.initSymbolIterator();if(e[Symbol.iterator]){$jscomp.initSymbol();$jscomp.initSymbolIterator();e=e[Symbol.iterator]();for(var h;!(h=e.next()).done;)c.push(b.call(d,h.value))}else{h=e.length;for(var f=0;f<h;f++)c.push(b.call(d,e[f]))}return c};$jscomp.array.of=function(e){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];return $jscomp.array.from(b)};
$jscomp.array.entries=function(){return $jscomp.array.arrayIterator_(this,function(e,b){return[e,b]})};$jscomp.array.entries$install=function(){Array.prototype.entries||(Array.prototype.entries=$jscomp.array.entries)};$jscomp.array.keys=function(){return $jscomp.array.arrayIterator_(this,function(e){return e})};$jscomp.array.keys$install=function(){Array.prototype.keys||(Array.prototype.keys=$jscomp.array.keys)};$jscomp.array.values=function(){return $jscomp.array.arrayIterator_(this,function(e,b){return b})};
$jscomp.array.values$install=function(){Array.prototype.values||(Array.prototype.values=$jscomp.array.values)};$jscomp.array.copyWithin=function(e,b,d){var c=this.length;e=Number(e);b=Number(b);d=Number(null!=d?d:c);if(e<b)for(d=Math.min(d,c);b<d;)b in this?this[e++]=this[b++]:(delete this[e++],b++);else for(d=Math.min(d,c+b-e),e+=d-b;d>b;)--d in this?this[--e]=this[d]:delete this[e];return this};$jscomp.array.copyWithin$install=function(){Array.prototype.copyWithin||(Array.prototype.copyWithin=$jscomp.array.copyWithin)};
$jscomp.array.fill=function(e,b,d){null!=d&&e.length||(d=this.length||0);d=Number(d);for(b=Number((void 0===b?0:b)||0);b<d;b++)this[b]=e;return this};$jscomp.array.fill$install=function(){Array.prototype.fill||(Array.prototype.fill=$jscomp.array.fill)};$jscomp.array.find=function(e,b){return $jscomp.array.findInternal_(this,e,b).v};$jscomp.array.find$install=function(){Array.prototype.find||(Array.prototype.find=$jscomp.array.find)};
$jscomp.array.findIndex=function(e,b){return $jscomp.array.findInternal_(this,e,b).i};$jscomp.array.findIndex$install=function(){Array.prototype.findIndex||(Array.prototype.findIndex=$jscomp.array.findIndex)};$jscomp.Map=function(e){e=void 0===e?[]:e;this.data_={};this.head_=$jscomp.Map.createHead_();this.size=0;if(e){e=$jscomp.makeIterator(e);for(var b=e.next();!b.done;b=e.next())b=b.value,this.set(b[0],b[1])}};
$jscomp.Map.checkBrowserConformance_=function(){var e=$jscomp.global.Map;if(!e||!e.prototype.entries||!Object.seal)return!1;try{var b=Object.seal({x:4}),d=new e($jscomp.makeIterator([[b,"s"]]));if("s"!=d.get(b)||1!=d.size||d.get({x:4})||d.set({x:4},"t")!=d||2!=d.size)return!1;var c=d.entries(),h=c.next();if(h.done||h.value[0]!=b||"s"!=h.value[1])return!1;h=c.next();return h.done||4!=h.value[0].x||"t"!=h.value[1]||!c.next().done?!1:!0}catch(f){return!1}};
$jscomp.Map.createHead_=function(){var e={};return e.previous=e.next=e.head=e};$jscomp.Map.getId_=function(e){if(!(e instanceof Object))return String(e);$jscomp.Map.key_ in e||e instanceof Object&&Object.isExtensible&&Object.isExtensible(e)&&$jscomp.Map.defineProperty_(e,$jscomp.Map.key_,++$jscomp.Map.index_);return $jscomp.Map.key_ in e?e[$jscomp.Map.key_]:" "+e};
$jscomp.Map.prototype.set=function(e,b){var d=this.maybeGetEntry_(e),c=d.id,h=d.list,d=d.entry;h||(h=this.data_[c]=[]);d?d.value=b:(d={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:b},h.push(d),this.head_.previous.next=d,this.head_.previous=d,this.size++);return this};
$jscomp.Map.prototype["delete"]=function(e){var b=this.maybeGetEntry_(e);e=b.id;var d=b.list,c=b.index;return(b=b.entry)&&d?(d.splice(c,1),d.length||delete this.data_[e],b.previous.next=b.next,b.next.previous=b.previous,b.head=null,this.size--,!0):!1};$jscomp.Map.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=$jscomp.Map.createHead_();this.size=0};$jscomp.Map.prototype.has=function(e){return!!this.maybeGetEntry_(e).entry};
$jscomp.Map.prototype.get=function(e){return(e=this.maybeGetEntry_(e).entry)&&e.value};$jscomp.Map.prototype.maybeGetEntry_=function(e){var b=$jscomp.Map.getId_(e),d=this.data_[b];if(d)for(var c=0;c<d.length;c++){var h=d[c];if(e!==e&&h.key!==h.key||e===h.key)return{id:b,list:d,index:c,entry:h}}return{id:b,list:d,index:-1,entry:void 0}};$jscomp.Map.prototype.entries=function(){return this.iter_(function(e){return[e.key,e.value]})};$jscomp.Map.prototype.keys=function(){return this.iter_(function(e){return e.key})};
$jscomp.Map.prototype.values=function(){return this.iter_(function(e){return e.value})};$jscomp.Map.prototype.forEach=function(e,b){for(var d=$jscomp.makeIterator(this.entries()),c=d.next();!c.done;c=d.next())c=c.value,e.call(b,c[1],c[0],this)};
$jscomp.Map.prototype.iter_=function(e){var b=this,d=this.head_;$jscomp.initSymbol();$jscomp.initSymbolIterator();var c={};return c.next=function(){if(d){for(;d.head!=b.head_;)d=d.previous;for(;d.next!=d.head;)return d=d.next,{done:!1,value:e(d)};d=null}return{done:!0,value:void 0}},c[Symbol.iterator]=function(){return this},c};$jscomp.Map.index_=0;$jscomp.Map.defineProperty_=Object.defineProperty?function(e,b,d){Object.defineProperty(e,b,{value:String(d)})}:function(e,b,d){e[b]=String(d)};
$jscomp.Map.Entry_=function(){};$jscomp.Map.ASSUME_NO_NATIVE=!1;$jscomp.Map$install=function(){$jscomp.initSymbol();$jscomp.initSymbolIterator();!$jscomp.Map.ASSUME_NO_NATIVE&&$jscomp.Map.checkBrowserConformance_()?$jscomp.Map=$jscomp.global.Map:($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Map.prototype[Symbol.iterator]=$jscomp.Map.prototype.entries,$jscomp.initSymbol(),$jscomp.Map.key_=Symbol("map-id-key"));$jscomp.Map$install=function(){}};$jscomp.math=$jscomp.math||{};
$jscomp.math.clz32=function(e){e=Number(e)>>>0;if(0===e)return 32;var b=0;0===(e&4294901760)&&(e<<=16,b+=16);0===(e&4278190080)&&(e<<=8,b+=8);0===(e&4026531840)&&(e<<=4,b+=4);0===(e&3221225472)&&(e<<=2,b+=2);0===(e&2147483648)&&b++;return b};$jscomp.math.imul=function(e,b){e=Number(e);b=Number(b);var d=e&65535,c=b&65535;return d*c+((e>>>16&65535)*c+d*(b>>>16&65535)<<16>>>0)|0};$jscomp.math.sign=function(e){e=Number(e);return 0===e||isNaN(e)?e:0<e?1:-1};
$jscomp.math.log10=function(e){return Math.log(e)/Math.LN10};$jscomp.math.log2=function(e){return Math.log(e)/Math.LN2};$jscomp.math.log1p=function(e){e=Number(e);if(.25>e&&-.25<e){for(var b=e,d=1,c=e,h=0,f=1;h!=c;)b*=e,f*=-1,c=(h=c)+f*b/++d;return c}return Math.log(1+e)};$jscomp.math.expm1=function(e){e=Number(e);if(.25>e&&-.25<e){for(var b=e,d=1,c=e,h=0;h!=c;)b*=e/++d,c=(h=c)+b;return c}return Math.exp(e)-1};$jscomp.math.cosh=function(e){e=Number(e);return(Math.exp(e)+Math.exp(-e))/2};
$jscomp.math.sinh=function(e){e=Number(e);return 0===e?e:(Math.exp(e)-Math.exp(-e))/2};$jscomp.math.tanh=function(e){e=Number(e);if(0===e)return e;var b=Math.exp(2*-Math.abs(e)),b=(1-b)/(1+b);return 0>e?-b:b};$jscomp.math.acosh=function(e){e=Number(e);return Math.log(e+Math.sqrt(e*e-1))};$jscomp.math.asinh=function(e){e=Number(e);if(0===e)return e;var b=Math.log(Math.abs(e)+Math.sqrt(e*e+1));return 0>e?-b:b};
$jscomp.math.atanh=function(e){e=Number(e);return($jscomp.math.log1p(e)-$jscomp.math.log1p(-e))/2};
$jscomp.math.hypot=function(e,b,d){for(var c=[],h=2;h<arguments.length;++h)c[h-2]=arguments[h];e=Number(e);b=Number(b);for(var f=Math.max(Math.abs(e),Math.abs(b)),k=$jscomp.makeIterator(c),h=k.next();!h.done;h=k.next())f=Math.max(f,Math.abs(h.value));if(1E100<f||1E-100>f){e/=f;b/=f;k=e*e+b*b;c=$jscomp.makeIterator(c);for(h=c.next();!h.done;h=c.next())h=h.value,h=Number(h)/f,k+=h*h;return Math.sqrt(k)*f}f=e*e+b*b;c=$jscomp.makeIterator(c);for(h=c.next();!h.done;h=c.next())h=h.value,f+=h*h;return Math.sqrt(f)};
$jscomp.math.trunc=function(e){e=Number(e);if(isNaN(e)||Infinity===e||-Infinity===e||0===e)return e;var b=Math.floor(Math.abs(e));return 0>e?-b:b};$jscomp.math.cbrt=function(e){if(0===e)return e;e=Number(e);var b=Math.pow(Math.abs(e),1/3);return 0>e?-b:b};$jscomp.number=$jscomp.number||{};$jscomp.number.isFinite=function(e){return"number"!==typeof e?!1:!isNaN(e)&&Infinity!==e&&-Infinity!==e};$jscomp.number.isInteger=function(e){return $jscomp.number.isFinite(e)?e===Math.floor(e):!1};
$jscomp.number.isNaN=function(e){return"number"===typeof e&&isNaN(e)};$jscomp.number.isSafeInteger=function(e){return $jscomp.number.isInteger(e)&&Math.abs(e)<=$jscomp.number.MAX_SAFE_INTEGER};$jscomp.number.EPSILON=Math.pow(2,-52);$jscomp.number.MAX_SAFE_INTEGER=9007199254740991;$jscomp.number.MIN_SAFE_INTEGER=-9007199254740991;$jscomp.object=$jscomp.object||{};
$jscomp.object.assign=function(e,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];d=$jscomp.makeIterator(d);for(c=d.next();!c.done;c=d.next()){var c=c.value,h;for(h in c)Object.prototype.hasOwnProperty.call(c,h)&&(e[h]=c[h])}return e};$jscomp.object.is=function(e,b){return e===b?0!==e||1/e===1/b:e!==e&&b!==b};$jscomp.Set=function(e){e=void 0===e?[]:e;this.map_=new $jscomp.Map;if(e){e=$jscomp.makeIterator(e);for(var b=e.next();!b.done;b=e.next())this.add(b.value)}this.size=this.map_.size};
$jscomp.Set.checkBrowserConformance_=function(){var e=$jscomp.global.Set;if(!e||!e.prototype.entries||!Object.seal)return!1;var b=Object.seal({x:4}),e=new e($jscomp.makeIterator([b]));if(e.has(b)||1!=e.size||e.add(b)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var e=e.entries(),d=e.next();if(d.done||d.value[0]!=b||d.value[1]!=b)return!1;d=e.next();return d.done||d.value[0]==b||4!=d.value[0].x||d.value[1]!=d.value[0]?!1:e.next().done};
$jscomp.Set.prototype.add=function(e){this.map_.set(e,e);this.size=this.map_.size;return this};$jscomp.Set.prototype["delete"]=function(e){e=this.map_["delete"](e);this.size=this.map_.size;return e};$jscomp.Set.prototype.clear=function(){this.map_.clear();this.size=0};$jscomp.Set.prototype.has=function(e){return this.map_.has(e)};$jscomp.Set.prototype.entries=function(){return this.map_.entries()};$jscomp.Set.prototype.values=function(){return this.map_.values()};
$jscomp.Set.prototype.forEach=function(e,b){var d=this;this.map_.forEach(function(c){return e.call(b,c,c,d)})};$jscomp.Set.ASSUME_NO_NATIVE=!1;$jscomp.Set$install=function(){!$jscomp.Set.ASSUME_NO_NATIVE&&$jscomp.Set.checkBrowserConformance_()?$jscomp.Set=$jscomp.global.Set:($jscomp.Map$install(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Set.prototype[Symbol.iterator]=$jscomp.Set.prototype.values);$jscomp.Set$install=function(){}};$jscomp.string=$jscomp.string||{};
$jscomp.string.noRegExp_=function(e,b){if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");};
$jscomp.string.fromCodePoint=function(e){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];for(var d="",b=$jscomp.makeIterator(b),c=b.next();!c.done;c=b.next()){c=c.value;c=+c;if(0>c||1114111<c||c!==Math.floor(c))throw new RangeError("invalid_code_point "+c);65535>=c?d+=String.fromCharCode(c):(c-=65536,d+=String.fromCharCode(c>>>10&1023|55296),d+=String.fromCharCode(c&1023|56320))}return d};
$jscomp.string.repeat=function(e){var b=this.toString();if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var d="";e;)if(e&1&&(d+=b),e>>>=1)b+=b;return d};$jscomp.string.repeat$install=function(){String.prototype.repeat||(String.prototype.repeat=$jscomp.string.repeat)};
$jscomp.string.codePointAt=function(e){var b=this.toString(),d=b.length;e=Number(e)||0;if(0<=e&&e<d){e|=0;var c=b.charCodeAt(e);if(55296>c||56319<c||e+1===d)return c;e=b.charCodeAt(e+1);return 56320>e||57343<e?c:1024*(c-55296)+e+9216}};$jscomp.string.codePointAt$install=function(){String.prototype.codePointAt||(String.prototype.codePointAt=$jscomp.string.codePointAt)};
$jscomp.string.includes=function(e,b){b=void 0===b?0:b;$jscomp.string.noRegExp_(e,"includes");return-1!==this.toString().indexOf(e,b)};$jscomp.string.includes$install=function(){String.prototype.includes||(String.prototype.includes=$jscomp.string.includes)};
$jscomp.string.startsWith=function(e,b){b=void 0===b?0:b;$jscomp.string.noRegExp_(e,"startsWith");var d=this.toString();e+="";for(var c=d.length,h=e.length,f=Math.max(0,Math.min(b|0,d.length)),k=0;k<h&&f<c;)if(d[f++]!=e[k++])return!1;return k>=h};$jscomp.string.startsWith$install=function(){String.prototype.startsWith||(String.prototype.startsWith=$jscomp.string.startsWith)};
$jscomp.string.endsWith=function(e,b){$jscomp.string.noRegExp_(e,"endsWith");var d=this.toString();e+="";void 0===b&&(b=d.length);for(var c=Math.max(0,Math.min(b|0,d.length)),h=e.length;0<h&&0<c;)if(d[--c]!=e[--h])return!1;return 0>=h};$jscomp.string.endsWith$install=function(){String.prototype.endsWith||(String.prototype.endsWith=$jscomp.string.endsWith)};
(function(e){"object"===typeof exports&&"undefined"!==typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).videojs=e()})(function(){return function b(d,c,h){function f(g,l){if(!c[g]){if(!d[g]){var n="function"==typeof require&&require;if(!l&&n)return n(g,!0);if(k)return k(g,!0);n=Error("Cannot find module '"+g+"'");throw n.code="MODULE_NOT_FOUND",n;}n=c[g]={exports:{}};
    d[g][0].call(n.exports,function(b){var l=d[g][1][b];return f(l?l:b)},n,n.exports,b,d,c,h)}return c[g].exports}for(var k="function"==typeof require&&require,g=0;g<h.length;g++)f(h[g]);return f}({1:[function(b,d,c){c="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};c="undefined"!==typeof c?c:"undefined"!==typeof window?window:{};b=b("min-document");if("undefined"!==typeof document)d.exports=document;else{var h=c["__GLOBAL_DOCUMENT_CACHE@4"];h||
(h=c["__GLOBAL_DOCUMENT_CACHE@4"]=b);d.exports=h}},{"min-document":3}],2:[function(b,d,c){b="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};d.exports="undefined"!==typeof window?window:"undefined"!==typeof b?b:"undefined"!==typeof self?self:{}},{}],3:[function(b,d,c){},{}],4:[function(b,d,c){b=b("../internal/getNative")(Date,"now")||function(){return(new Date).getTime()};d.exports=b},{"../internal/getNative":20}],5:[function(b,d,c){var h=b("../lang/isObject"),
    f=b("../date/now"),k=Math.max;d.exports=function(b,c,l){function d(l,c){c&&clearTimeout(c);w=x=z=void 0;l&&(A=f(),v=b.apply(y,r),x||w||(r=y=void 0))}function p(){var b=c-(f()-u);0>=b||b>c?d(z,w):x=setTimeout(p,b)}function q(){d(E,x)}function t(){r=arguments;u=f();y=this;z=E&&(x||!D);if(!1===B)var l=D&&!x;else{w||D||(A=u);var d=B-(u-A),k=0>=d||d>B;k?(w&&(w=clearTimeout(w)),A=u,v=b.apply(y,r)):w||(w=setTimeout(q,d))}k&&x?x=clearTimeout(x):x||c===B||(x=setTimeout(p,c));l&&(k=!0,v=b.apply(y,r));!k||x||
w||(r=y=void 0);return v}var r,w,v,u,y,x,z,A=0,B=!1,E=!0;if("function"!=typeof b)throw new TypeError("Expected a function");c=0>c?0:+c||0;if(!0===l)var D=!0,E=!1;else h(l)&&(D=!!l.leading,B="maxWait"in l&&k(+l.maxWait||0,c),E="trailing"in l?!!l.trailing:E);t.cancel=function(){x&&clearTimeout(x);w&&clearTimeout(w);A=0;w=x=z=void 0};return t}},{"../date/now":4,"../lang/isObject":33}],6:[function(b,d,c){var h=Math.max;d.exports=function(b,c){if("function"!=typeof b)throw new TypeError("Expected a function");
    c=h(void 0===c?b.length-1:+c||0,0);return function(){for(var g=arguments,d=-1,l=h(g.length-c,0),n=Array(l);++d<l;)n[d]=g[c+d];switch(c){case 0:return b.call(this,n);case 1:return b.call(this,g[0],n);case 2:return b.call(this,g[0],g[1],n)}l=Array(c+1);for(d=-1;++d<c;)l[d]=g[d];l[c]=n;return b.apply(this,l)}}},{}],7:[function(b,d,c){var h=b("./debounce"),f=b("../lang/isObject");d.exports=function(b,g,c){var l=!0,d=!0;if("function"!=typeof b)throw new TypeError("Expected a function");!1===c?l=!1:f(c)&&
(l="leading"in c?!!c.leading:l,d="trailing"in c?!!c.trailing:d);return h(b,g,{leading:l,maxWait:+g,trailing:d})}},{"../lang/isObject":33,"./debounce":5}],8:[function(b,d,c){d.exports=function(b,c){var d=-1,g=b.length;for(c||(c=Array(g));++d<g;)c[d]=b[d];return c}},{}],9:[function(b,d,c){d.exports=function(b,c){for(var d=-1,g=b.length;++d<g&&!1!==c(b[d],d,b););return b}},{}],10:[function(b,d,c){d.exports=function(b,c,d){d||(d={});for(var g=-1,m=c.length;++g<m;){var l=c[g];d[l]=b[l]}return d}},{}],
    11:[function(b,d,c){b=b("./createBaseFor")();d.exports=b},{"./createBaseFor":18}],12:[function(b,d,c){var h=b("./baseFor"),f=b("../object/keysIn");d.exports=function(b,g){return h(b,g,f)}},{"../object/keysIn":39,"./baseFor":11}],13:[function(b,d,c){function h(b,c,d,v,u){if(!l(b))return b;var y=m(c)&&(g(c)||p(c)),x=y?void 0:q(c);f(x||c,function(g,l){x&&(l=g,g=c[l]);if(n(g))v||(v=[]),u||(u=[]),k(b,c,l,h,d,v,u);else{var f=b[l],m=d?d(f,g,l,b,c):void 0,p=void 0===m;p&&(m=g);void 0===m&&(!y||l in b)||!p&&
    (m===m?m===f:f!==f)||(b[l]=m)}});return b}var f=b("./arrayEach"),k=b("./baseMergeDeep"),g=b("../lang/isArray"),m=b("./isArrayLike"),l=b("../lang/isObject"),n=b("./isObjectLike"),p=b("../lang/isTypedArray"),q=b("../object/keys");d.exports=h},{"../lang/isArray":30,"../lang/isObject":33,"../lang/isTypedArray":36,"../object/keys":38,"./arrayEach":9,"./baseMergeDeep":14,"./isArrayLike":21,"./isObjectLike":26}],14:[function(b,d,c){var h=b("./arrayCopy"),f=b("../lang/isArguments"),k=b("../lang/isArray"),
        g=b("./isArrayLike"),m=b("../lang/isPlainObject"),l=b("../lang/isTypedArray"),n=b("../lang/toPlainObject");d.exports=function(b,c,d,r,w,v,u){for(var y=v.length,x=c[d];y--;)if(v[y]==x){b[d]=u[y];return}y=b[d];c=w?w(y,x,d,b,c):void 0;var z=void 0===c;z&&(c=x,g(x)&&(k(x)||l(x))?c=k(y)?y:g(y)?h(y):[]:m(x)||f(x)?c=f(y)?n(y):m(y)?y:{}:z=!1);v.push(x);u.push(c);if(z)b[d]=r(c,x,w,v,u);else if(c===c?c!==y:y===y)b[d]=c}},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isPlainObject":34,"../lang/isTypedArray":36,
        "../lang/toPlainObject":37,"./arrayCopy":8,"./isArrayLike":21}],15:[function(b,d,c){var h=b("./toObject");d.exports=function(b){return function(c){return null==c?void 0:h(c)[b]}}},{"./toObject":28}],16:[function(b,d,c){var h=b("../utility/identity");d.exports=function(b,c,g){if("function"!=typeof b)return h;if(void 0===c)return b;switch(g){case 1:return function(g){return b.call(c,g)};case 3:return function(g,l,d){return b.call(c,g,l,d)};case 4:return function(g,l,d,h){return b.call(c,g,l,d,h)};case 5:return function(g,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   l,d,h,q){return b.call(c,g,l,d,h,q)}}return function(){return b.apply(c,arguments)}}},{"../utility/identity":42}],17:[function(b,d,c){var h=b("./bindCallback"),f=b("./isIterateeCall"),k=b("../function/restParam");d.exports=function(b){return k(function(c,l){var d=-1,k=null==c?0:l.length,q=2<k?l[k-2]:void 0,t=2<k?l[2]:void 0,r=1<k?l[k-1]:void 0;"function"==typeof q?(q=h(q,r,5),k-=2):(q="function"==typeof r?r:void 0,k-=q?1:0);t&&f(l[0],l[1],t)&&(q=3>k?void 0:q,k=1);for(;++d<k;)(t=l[d])&&b(c,t,q);return c})}},
        {"../function/restParam":6,"./bindCallback":16,"./isIterateeCall":24}],18:[function(b,d,c){var h=b("./toObject");d.exports=function(b){return function(c,g,d){var l=h(c);d=d(c);for(var n=d.length,p=b?n:-1;b?p--:++p<n;){var q=d[p];if(!1===g(l[q],q,l))break}return c}}},{"./toObject":28}],19:[function(b,d,c){b=b("./baseProperty")("length");d.exports=b},{"./baseProperty":15}],20:[function(b,d,c){var h=b("../lang/isNative");d.exports=function(b,c){var g=null==b?void 0:b[c];return h(g)?g:void 0}},{"../lang/isNative":32}],
    21:[function(b,d,c){var h=b("./getLength"),f=b("./isLength");d.exports=function(b){return null!=b&&f(h(b))}},{"./getLength":19,"./isLength":25}],22:[function(b,d,c){b=function(){try{Object("[object Object]")}catch(b){return function(){return!1}}return function(b){return"function"!=typeof b.toString&&"string"==typeof(b+"")}}();d.exports=b},{}],23:[function(b,d,c){var h=/^\d+$/;d.exports=function(b,c){b="number"==typeof b||h.test(b)?+b:-1;return-1<b&&0==b%1&&b<(null==c?9007199254740991:c)}},{}],24:[function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   d,c){var h=b("./isArrayLike"),f=b("./isIndex"),k=b("../lang/isObject");d.exports=function(b,c,l){if(!k(l))return!1;var d=typeof c;return("number"==d?h(l)&&f(c,l.length):"string"==d&&c in l)?(c=l[c],b===b?b===c:c!==c):!1}},{"../lang/isObject":33,"./isArrayLike":21,"./isIndex":23}],25:[function(b,d,c){d.exports=function(b){return"number"==typeof b&&-1<b&&0==b%1&&9007199254740991>=b}},{}],26:[function(b,d,c){d.exports=function(b){return!!b&&"object"==typeof b}},{}],27:[function(b,d,c){var h=b("../lang/isArguments"),
        f=b("../lang/isArray"),k=b("./isIndex"),g=b("./isLength"),m=b("../lang/isString"),l=b("../object/keysIn"),n=Object.prototype.hasOwnProperty;d.exports=function(b){for(var c=l(b),d=c.length,r=d&&b.length,w=!!r&&g(r)&&(f(b)||h(b)||m(b)),v=-1,u=[];++v<d;){var y=c[v];(w&&k(y,r)||n.call(b,y))&&u.push(y)}return u}},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isString":35,"../object/keysIn":39,"./isIndex":23,"./isLength":25}],28:[function(b,d,c){var h=b("../lang/isObject"),f=b("../lang/isString"),
        k=b("../support");d.exports=function(b){if(k.unindexedChars&&f(b)){for(var c=-1,l=b.length,d=Object(b);++c<l;)d[c]=b.charAt(c);return d}return h(b)?b:Object(b)}},{"../lang/isObject":33,"../lang/isString":35,"../support":41}],29:[function(b,d,c){var h=b("../internal/isArrayLike"),f=b("../internal/isObjectLike");b=Object.prototype;var k=b.hasOwnProperty,g=b.propertyIsEnumerable;d.exports=function(b){return f(b)&&h(b)&&k.call(b,"callee")&&!g.call(b,"callee")}},{"../internal/isArrayLike":21,"../internal/isObjectLike":26}],
    30:[function(b,d,c){c=b("../internal/getNative");var h=b("../internal/isLength"),f=b("../internal/isObjectLike"),k=Object.prototype.toString;b=c(Array,"isArray")||function(b){return f(b)&&h(b.length)&&"[object Array]"==k.call(b)};d.exports=b},{"../internal/getNative":20,"../internal/isLength":25,"../internal/isObjectLike":26}],31:[function(b,d,c){var h=b("./isObject"),f=Object.prototype.toString;d.exports=function(b){return h(b)&&"[object Function]"==f.call(b)}},{"./isObject":33}],32:[function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       d,c){var h=b("./isFunction"),f=b("../internal/isHostObject"),k=b("../internal/isObjectLike"),g=/^\[object .+?Constructor\]$/,m=Function.prototype.toString,l=RegExp("^"+m.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");d.exports=function(b){return null==b?!1:h(b)?l.test(m.call(b)):k(b)&&(f(b)?l:g).test(b)}},{"../internal/isHostObject":22,"../internal/isObjectLike":26,"./isFunction":31}],33:[function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    d,c){d.exports=function(b){var c=typeof b;return!!b&&("object"==c||"function"==c)}},{}],34:[function(b,d,c){var h=b("../internal/baseForIn"),f=b("./isArguments"),k=b("../internal/isHostObject"),g=b("../internal/isObjectLike"),m=b("../support");b=Object.prototype;var l=b.hasOwnProperty,n=b.toString;d.exports=function(b){var c;if(!g(b)||"[object Object]"!=n.call(b)||k(b)||f(b)||!(l.call(b,"constructor")||(c=b.constructor,"function"!=typeof c||c instanceof c)))return!1;var d;if(m.ownLast)return h(b,
        function(b,g,c){d=l.call(c,g);return!1}),!1!==d;h(b,function(b,g){d=g});return void 0===d||l.call(b,d)}},{"../internal/baseForIn":12,"../internal/isHostObject":22,"../internal/isObjectLike":26,"../support":41,"./isArguments":29}],35:[function(b,d,c){var h=b("../internal/isObjectLike"),f=Object.prototype.toString;d.exports=function(b){return"string"==typeof b||h(b)&&"[object String]"==f.call(b)}},{"../internal/isObjectLike":26}],36:[function(b,d,c){var h=b("../internal/isLength"),f=b("../internal/isObjectLike"),
        k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0;k["[object Arguments]"]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Error]"]=k["[object Function]"]=k["[object Map]"]=k["[object Number]"]=k["[object Object]"]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=
        k["[object WeakMap]"]=!1;var g=Object.prototype.toString;d.exports=function(b){return f(b)&&h(b.length)&&!!k[g.call(b)]}},{"../internal/isLength":25,"../internal/isObjectLike":26}],37:[function(b,d,c){var h=b("../internal/baseCopy"),f=b("../object/keysIn");d.exports=function(b){return h(b,f(b))}},{"../internal/baseCopy":10,"../object/keysIn":39}],38:[function(b,d,c){c=b("../internal/getNative");var h=b("../internal/isArrayLike"),f=b("../lang/isObject"),k=b("../internal/shimKeys"),g=b("../support"),
        m=c(Object,"keys");d.exports=m?function(b){var c=null==b?void 0:b.constructor;return"function"==typeof c&&c.prototype===b||("function"==typeof b?g.enumPrototypes:h(b))?k(b):f(b)?m(b):[]}:k},{"../internal/getNative":20,"../internal/isArrayLike":21,"../internal/shimKeys":27,"../lang/isObject":33,"../support":41}],39:[function(b,d,c){c=b("../internal/arrayEach");var h=b("../lang/isArguments"),f=b("../lang/isArray"),k=b("../lang/isFunction"),g=b("../internal/isIndex"),m=b("../internal/isLength"),l=b("../lang/isObject"),
        n=b("../lang/isString"),p=b("../support"),q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),t=Error.prototype,r=Object.prototype,w=String.prototype,v=r.hasOwnProperty,u=r.toString,y={};y["[object Array]"]=y["[object Date]"]=y["[object Number]"]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0};y["[object Boolean]"]=y["[object String]"]={constructor:!0,toString:!0,valueOf:!0};y["[object Error]"]=y["[object Function]"]=y["[object RegExp]"]=
    {constructor:!0,toString:!0};y["[object Object]"]={constructor:!0};c(q,function(b){for(var g in y)if(v.call(y,g)){var c=y[g];c[b]=v.call(c,b)}});d.exports=function(b){if(null==b)return[];l(b)||(b=Object(b));for(var c=b.length,c=c&&m(c)&&(f(b)||h(b)||n(b))&&c||0,d=b.constructor,B=-1,d=k(d)&&d.prototype||r,E=d===b,D=Array(c),G=0<c,I=p.enumErrorProps&&(b===t||b instanceof Error),C=p.enumPrototypes&&k(b);++B<c;)D[B]=B+"";for(var J in b)C&&"prototype"==J||I&&("message"==J||"name"==J)||G&&g(J,c)||"constructor"==
    J&&(E||!v.call(b,J))||D.push(J);if(p.nonEnumShadows&&b!==r)for(c=b===w?"[object String]":b===t?"[object Error]":u.call(b),B=y[c]||y["[object Object]"],"[object Object]"==c&&(d=r),c=q.length;c--;)J=q[c],G=B[J],E&&G||(G?!v.call(b,J):b[J]===d[J])||D.push(J);return D}},{"../internal/arrayEach":9,"../internal/isIndex":23,"../internal/isLength":25,"../lang/isArguments":29,"../lang/isArray":30,"../lang/isFunction":31,"../lang/isObject":33,"../lang/isString":35,"../support":41}],40:[function(b,d,c){c=b("../internal/baseMerge");
        b=b("../internal/createAssigner")(c);d.exports=b},{"../internal/baseMerge":13,"../internal/createAssigner":17}],41:[function(b,d,c){var h=Error.prototype,f=Object.prototype.propertyIsEnumerable,k=Array.prototype.splice,g={};(function(b){var c=function(){this.x=b},d={0:b,length:b},p=[];c.prototype={valueOf:b,y:b};for(var q in new c)p.push(q);g.enumErrorProps=f.call(h,"message")||f.call(h,"name");g.enumPrototypes=f.call(c,"prototype");g.nonEnumShadows=!/valueOf/.test(p);g.ownLast="x"!=p[0];g.spliceObjects=
        (k.call(d,0,1),!d[0]);g.unindexedChars="xx"!="x"+Object("x")[0]})(1,0);d.exports=g},{}],42:[function(b,d,c){d.exports=function(b){return b}},{}],43:[function(b,d,c){var h=b("object-keys");d.exports=function(){$jscomp.initSymbol();if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;$jscomp.initSymbol();$jscomp.initSymbolIterator();if("symbol"===typeof Symbol.iterator)return!0;var b={};$jscomp.initSymbol();var c=Symbol("test");if("string"===typeof c)return!1;b[c]=
        42;for(c in b)return!1;if(0!==h(b).length||"function"===typeof Object.keys&&0!==Object.keys(b).length||"function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(b).length)return!1;var g=Object.getOwnPropertySymbols(b);return 1!==g.length||g[0]!==c||!Object.prototype.propertyIsEnumerable.call(b,c)||"function"===typeof Object.getOwnPropertyDescriptor&&(b=Object.getOwnPropertyDescriptor(b,c),42!==b.value||!0!==b.enumerable)?!1:!0}},{"object-keys":49}],44:[function(b,d,c){var h=b("object-keys");
        c=b("function-bind");var f=b("./hasSymbols")(),k=Object,g=c.call(Function.call,Array.prototype.push),m=c.call(Function.call,Object.prototype.propertyIsEnumerable);d.exports=function(b,c){if("undefined"===typeof b||null===b)throw new TypeError("target must be an object");var d=k(b),q,t,r,w,v,u;for(q=1;q<arguments.length;++q){t=k(arguments[q]);w=h(t);if(f&&Object.getOwnPropertySymbols)for(v=Object.getOwnPropertySymbols(t),r=0;r<v.length;++r)u=v[r],m(t,u)&&g(w,u);for(r=0;r<w.length;++r)u=w[r],v=t[u],
        m(t,u)&&(d[u]=v)}return d}},{"./hasSymbols":43,"function-bind":48,"object-keys":49}],45:[function(b,d,c){c=b("define-properties");var h=b("./implementation"),f=b("./polyfill");b=b("./shim");c(h,{implementation:h,getPolyfill:f,shim:b});d.exports=h},{"./implementation":44,"./polyfill":51,"./shim":52,"define-properties":46}],46:[function(b,d,c){var h=b("object-keys"),f=b("foreach");$jscomp.initSymbol();$jscomp.initSymbol();var k="function"===typeof Symbol&&"symbol"===typeof Symbol(),g=Object.prototype.toString,
        m=Object.defineProperty&&function(){var b={};try{Object.defineProperty(b,"x",{enumerable:!1,value:b});for(var c in b)return!1;return b.x===b}catch(g){return!1}}();b=function(b,c){var d=2<arguments.length?arguments[2]:{},q=h(c);k&&(q=q.concat(Object.getOwnPropertySymbols(c)));f(q,function(f){var h=c[f],k=d[f];if(!(f in b)||"function"===typeof k&&"[object Function]"===g.call(k)&&k())m?Object.defineProperty(b,f,{configurable:!0,enumerable:!1,value:h,writable:!0}):b[f]=h})};b.supportsDescriptors=!!m;
        d.exports=b},{foreach:47,"object-keys":49}],47:[function(b,d,c){var h=Object.prototype.hasOwnProperty,f=Object.prototype.toString;d.exports=function(b,c,d){if("[object Function]"!==f.call(c))throw new TypeError("iterator must be a function");var l=b.length;if(l===+l)for(var n=0;n<l;n++)c.call(d,b[n],n,b);else for(n in b)h.call(b,n)&&c.call(d,b[n],n,b)}},{}],48:[function(b,d,c){var h=Array.prototype.slice,f=Object.prototype.toString;d.exports=function(b){var c=this;if("function"!==typeof c||"[object Function]"!==
        f.call(c))throw new TypeError("Function.prototype.bind called on incompatible "+c);for(var d=h.call(arguments,1),l=Math.max(0,c.length-d.length),n=[],p=0;p<l;p++)n.push("$"+p);var q=Function("binder","return function ("+n.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof q){var l=c.apply(this,d.concat(h.call(arguments)));return Object(l)===l?l:this}return c.apply(b,d.concat(h.call(arguments)))});c.prototype&&(l=function(){},l.prototype=c.prototype,q.prototype=new l,
        l.prototype=null);return q}},{}],49:[function(b,d,c){var h=Object.prototype.hasOwnProperty,f=Object.prototype.toString,k=Array.prototype.slice,g=b("./isArguments"),m=!{toString:null}.propertyIsEnumerable("toString"),l=function(){}.propertyIsEnumerable("prototype"),n="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),p=function(b){var c=b.constructor;return c&&c.prototype===b},q={$console:!0,$frame:!0,$frameElement:!0,$frames:!0,$parent:!0,$self:!0,
        $webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},t=function(){if("undefined"===typeof window)return!1;for(var b in window)try{if(!q["$"+b]&&h.call(window,b)&&null!==window[b]&&"object"===typeof window[b])try{p(window[b])}catch(c){return!0}}catch(c){return!0}return!1}(),r=function(b){var c=null!==b&&"object"===typeof b,d="[object Function]"===f.call(b),k=g(b),q=c&&"[object String]"===f.call(b),r=[];if(!c&&!d&&!k)throw new TypeError("Object.keys called on a non-object");c=l&&d;if(q&&0<b.length&&
        !h.call(b,0))for(q=0;q<b.length;++q)r.push(String(q));if(k&&0<b.length)for(k=0;k<b.length;++k)r.push(String(k));else for(var A in b)c&&"prototype"===A||!h.call(b,A)||r.push(String(A));if(m){var B;if("undefined"!==typeof window&&t)try{B=p(b)}catch(E){B=!1}else B=p(b);for(k=0;k<n.length;++k)B&&"constructor"===n[k]||!h.call(b,n[k])||r.push(n[k])}return r};r.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var b=Object.keys;Object.keys=function(c){return g(c)?
        b(k.call(c)):b(c)}}}else Object.keys=r;return Object.keys||r};d.exports=r},{"./isArguments":50}],50:[function(b,d,c){var h=Object.prototype.toString;d.exports=function(b){var c=h.call(b),g="[object Arguments]"===c;g||(g="[object Array]"!==c&&null!==b&&"object"===typeof b&&"number"===typeof b.length&&0<=b.length&&"[object Function]"===h.call(b.callee));return g}},{}],51:[function(b,d,c){var h=b("./implementation");d.exports=function(){if(!Object.assign)return h;var b;if(Object.assign){for(var c="abcdefghijklmnopqrst".split(""),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         g={},d=0;d<c.length;++d)g[c[d]]=c[d];c=Object.assign({},g);g="";for(b in c)g+=b;b="abcdefghijklmnopqrst"!==g}else b=!1;if(b)return h;a:if(Object.assign&&Object.preventExtensions){b=Object.preventExtensions({1:2});try{Object.assign(b,"xy")}catch(l){b="y"===b[1];break a}b=void 0}else b=!1;return b?h:Object.assign}},{"./implementation":44}],52:[function(b,d,c){var h=b("define-properties"),f=b("./polyfill");d.exports=function(){var b=f();h(Object,{assign:b},{assign:function(){return Object.assign!==b}});
        return b}},{"./polyfill":51,"define-properties":46}],53:[function(b,d,c){d.exports=function(b,c){var d,g=null;try{d=JSON.parse(b,c)}catch(m){g=m}return[g,d]}},{}],54:[function(b,d,c){d.exports=function(b){for(var c="",d=0;d<arguments.length;d++)c+=b[d].replace(/\n\r?\s*/g,"")+(arguments[d+1]||"");return c}},{}],55:[function(b,d,c){function h(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return!0}function f(b,c,g){var d=b;n(c)?(g=c,"string"===typeof b&&(d={uri:b})):d=q(c,{uri:b});d.callback=g;
        return d}function k(b,c,d){c=f(b,c,d);return g(c)}function g(b){function c(b){clearTimeout(C);b instanceof Error||(b=Error(""+(b||"Unknown XMLHttpRequest Error")));b.statusCode=0;d(b,f)}function g(){if(!q){var c;clearTimeout(C);c=b.useXDR&&void 0===m.status?200:1223===m.status?204:m.status;var l=f,h=null;if(0!==c){l=void 0;m.response?l=m.response:"text"!==m.responseType&&m.responseType||(l=m.responseText||m.responseXML);if(I)try{l=JSON.parse(l)}catch(k){}l={body:l,statusCode:c,method:B,headers:{},
        url:A,rawRequest:m};m.getAllResponseHeaders&&(l.headers=p(m.getAllResponseHeaders()))}else h=Error("Internal XMLHttpRequest Error");d(h,l,l.body)}}var d=b.callback;if("undefined"===typeof d)throw Error("callback argument missing");var d=l(d),f={body:void 0,headers:{},statusCode:0,method:B,url:A,rawRequest:m},m=b.xhr||null;m||(m=b.cors||b.useXDR?new k.XDomainRequest:new k.XMLHttpRequest);var n,q,A=m.url=b.uri||b.url,B=m.method=b.method||"GET",E=b.body||b.data||null,D=m.headers=b.headers||{},G=!!b.sync,
        I=!1,C;"json"in b&&(I=!0,D.accept||D.Accept||(D.Accept="application/json"),"GET"!==B&&"HEAD"!==B&&(D["content-type"]||D["Content-Type"]||(D["Content-Type"]="application/json"),E=JSON.stringify(b.json)));m.onreadystatechange=function(){4===m.readyState&&g()};m.onload=g;m.onerror=c;m.onprogress=function(){};m.ontimeout=c;m.open(B,A,!G,b.username,b.password);G||(m.withCredentials=!!b.withCredentials);!G&&0<b.timeout&&(C=setTimeout(function(){q=!0;m.abort("timeout");var b=Error("XMLHttpRequest timeout");
        b.code="ETIMEDOUT";c(b)},b.timeout));if(m.setRequestHeader)for(n in D)D.hasOwnProperty(n)&&m.setRequestHeader(n,D[n]);else if(b.headers&&!h(b.headers))throw Error("Headers cannot be set on an XDomainRequest object");"responseType"in b&&(m.responseType=b.responseType);"beforeSend"in b&&"function"===typeof b.beforeSend&&b.beforeSend(m);m.send(E);return m}function m(){}c=b("global/window");var l=b("once"),n=b("is-function"),p=b("parse-headers"),q=b("xtend");d.exports=k;k.XMLHttpRequest=c.XMLHttpRequest||
        m;k.XDomainRequest="withCredentials"in new k.XMLHttpRequest?k.XMLHttpRequest:c.XDomainRequest;(function(b,c){for(var g=0;g<b.length;g++)c(b[g])})("get put post patch head delete".split(" "),function(b){k["delete"===b?"del":b]=function(c,d,l){d=f(c,d,l);d.method=b.toUpperCase();return g(d)}})},{"global/window":2,"is-function":56,once:57,"parse-headers":60,xtend:61}],56:[function(b,d,c){d.exports=function(b){var c=h.call(b);return"[object Function]"===c||"function"===typeof b&&"[object RegExp]"!==c||
        "undefined"!==typeof window&&(b===window.setTimeout||b===window.alert||b===window.confirm||b===window.prompt)};var h=Object.prototype.toString},{}],57:[function(b,d,c){function h(b){var c=!1;return function(){if(!c)return c=!0,b.apply(this,arguments)}}d.exports=h;h.proto=h(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return h(this)},configurable:!0})})},{}],58:[function(b,d,c){var h=b("is-function");d.exports=function(b,c,d){if(!h(c))throw new TypeError("iterator must be a function");
        3>arguments.length&&(d=this);if("[object Array]"===f.call(b))for(var n=d,p=0,q=b.length;p<q;p++)k.call(b,p)&&c.call(n,b[p],p,b);else if("string"===typeof b)for(n=d,p=0,q=b.length;p<q;p++)c.call(n,b.charAt(p),p,b);else for(p in n=d,b)k.call(b,p)&&c.call(n,b[p],p,b)};var f=Object.prototype.toString,k=Object.prototype.hasOwnProperty},{"is-function":56}],59:[function(b,d,c){c=d.exports=function(b){return b.replace(/^\s*|\s*$/g,"")};c.left=function(b){return b.replace(/^\s*/,"")};c.right=function(b){return b.replace(/\s*$/,
        "")}},{}],60:[function(b,d,c){var h=b("trim"),f=b("for-each");d.exports=function(b){if(!b)return{};var c={};f(h(b).split("\n"),function(b){var d=b.indexOf(":"),f=h(b.slice(0,d)).toLowerCase();b=h(b.slice(d+1));"undefined"===typeof c[f]?c[f]=b:"[object Array]"===Object.prototype.toString.call(c[f])?c[f].push(b):c[f]=[c[f],b]});return c}},{"for-each":58,trim:59}],61:[function(b,d,c){d.exports=function(){for(var b={},c=0;c<arguments.length;c++){var d=arguments[c],m;for(m in d)h.call(d,m)&&(b[m]=d[m])}return b};
        var h=Object.prototype.hasOwnProperty},{}],62:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("./button.js"),f=f&&f.__esModule?f:{"default":f};b=(b=b("./component.js"))&&b.__esModule?b:{"default":b};
        f=function(b){function c(d,l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,l)}h(c,b);c.prototype.buildCSSClass=function(){return"vjs-big-play-button"};c.prototype.handleClick=function(){this.player_.play()};return c}(f["default"]);f.prototype.controlText_="Play Video";b["default"].registerComponent("BigPlayButton",f);c["default"]=f;d.exports=c["default"]},{"./button.js":63,"./component.js":66}],63:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;
        var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&b.__esModule?b:{"default":b}}function k(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var g=
        b("./clickable-component.js"),g=f(g),m=b("./component"),l=f(m),m=b("./utils/events.js");h(m);m=b("./utils/fn.js");h(m);var m=b("./utils/log.js"),n=f(m),m=b("global/document");f(m);b=b("object.assign");var p=f(b);b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g)}k(c,b);c.prototype.createEl=function(){var b=0>=arguments.length||void 0===arguments[0]?"button":arguments[0],c=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],
        d=2>=arguments.length||void 0===arguments[2]?{}:arguments[2],c=p["default"]({className:this.buildCSSClass()},c);"button"!==b&&n["default"].warn("Creating a Button with an HTML element of "+b+" is deprecated; use ClickableComponent instead.");d=p["default"]({type:"button","aria-live":"polite"},d);b=l["default"].prototype.createEl.call(this,b,c,d);this.createControlTextEl(b);return b};c.prototype.addChild=function(b){var c=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];n["default"].warn("Adding an actionable (user controllable) child to a Button ("+
        this.constructor.name+") is not supported; use a ClickableComponent instead.");return l["default"].prototype.addChild.call(this,b,c)};c.prototype.handleKeyPress=function(c){32!==c.which&&13!==c.which&&b.prototype.handleKeyPress.call(this,c)};return c}(g["default"]);l["default"].registerComponent("Button",b);c["default"]=b;d.exports=c["default"]},{"./clickable-component.js":64,"./component":66,"./utils/events.js":132,"./utils/fn.js":133,"./utils/log.js":136,"global/document":1,"object.assign":45}],
    64:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&b.__esModule?b:{"default":b}}function k(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?
        Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var g=b("./component"),g=f(g),m=b("./utils/dom.js"),l=h(m),m=b("./utils/events.js"),n=h(m),m=b("./utils/fn.js"),p=h(m),m=b("./utils/log.js"),q=f(m),m=b("global/document"),t=f(m);b=b("object.assign");var r=f(b);b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.emitTapEvents();this.on("tap",this.handleClick);this.on("click",this.handleClick);this.on("focus",this.handleFocus);
        this.on("blur",this.handleBlur)}k(c,b);c.prototype.createEl=function(){var c=0>=arguments.length||void 0===arguments[0]?"div":arguments[0],d=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],g=2>=arguments.length||void 0===arguments[2]?{}:arguments[2],d=r["default"]({className:this.buildCSSClass(),tabIndex:0},d);"button"===c&&q["default"].error("Creating a ClickableComponent with an HTML element of "+c+" is not supported; use a Button instead.");g=r["default"]({role:"button","aria-live":"polite"},
        g);c=b.prototype.createEl.call(this,c,d,g);this.createControlTextEl(c);return c};c.prototype.createControlTextEl=function(b){this.controlTextEl_=l.createEl("span",{className:"vjs-control-text"});b&&b.appendChild(this.controlTextEl_);this.controlText(this.controlText_);return this.controlTextEl_};c.prototype.controlText=function(b){if(!b)return this.controlText_||"Need Text";this.controlText_=b;this.controlTextEl_.innerHTML=this.localize(this.controlText_);return this};c.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+
        b.prototype.buildCSSClass.call(this)};c.prototype.addChild=function(c){return b.prototype.addChild.call(this,c,1>=arguments.length||void 0===arguments[1]?{}:arguments[1])};c.prototype.handleClick=function(){};c.prototype.handleFocus=function(){n.on(t["default"],"keydown",p.bind(this,this.handleKeyPress))};c.prototype.handleKeyPress=function(c){32===c.which||13===c.which?(c.preventDefault(),this.handleClick(c)):b.prototype.handleKeyPress&&b.prototype.handleKeyPress.call(this,c)};c.prototype.handleBlur=
        function(){n.off(t["default"],"keydown",p.bind(this,this.handleKeyPress))};return c}(g["default"]);g["default"].registerComponent("ClickableComponent",b);c["default"]=b;d.exports=c["default"]},{"./component":66,"./utils/dom.js":131,"./utils/events.js":132,"./utils/fn.js":133,"./utils/log.js":136,"global/document":1,"object.assign":45}],65:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=
        Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("./button"),f=f&&f.__esModule?f:{"default":f};b=(b=b("./component"))&&b.__esModule?b:{"default":b};f=function(b){function c(d,l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,l);this.controlText(l&&l.controlText||this.localize("Close"))}h(c,b);c.prototype.buildCSSClass=
        function(){return"vjs-close-button "+b.prototype.buildCSSClass.call(this)};c.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})};return c}(f["default"]);b["default"].registerComponent("CloseButton",f);c["default"]=f;d.exports=c["default"]},{"./button":63,"./component":66}],66:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&b.__esModule?
        b:{"default":b}}c.__esModule=!0;var k=b("global/window"),g=f(k),k=b("./utils/dom.js"),m=h(k),k=b("./utils/fn.js"),l=h(k),k=b("./utils/guid.js"),n=h(k),k=b("./utils/events.js"),p=h(k),k=b("./utils/log.js"),q=f(k),k=b("./utils/to-title-case.js"),t=f(k),k=b("object.assign"),r=f(k);b=b("./utils/merge-options.js");var w=f(b);b=function(){function b(c,d,g){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.player_=!c&&this.play?c=this:c;this.options_=w["default"]({},this.options_);
        d=this.options_=w["default"](this.options_,d);this.id_=d.id||d.el&&d.el.id;this.id_||(this.id_=(c&&c.id&&c.id()||"no_player")+"_component_"+n.newGUID());this.name_=d.name||null;d.el?this.el_=d.el:!1!==d.createEl&&(this.el_=this.createEl());this.children_=[];this.childIndex_={};this.childNameIndex_={};!1!==d.initChildren&&this.initChildren();this.ready(g);!1!==d.reportTouchActivity&&this.enableTouchActivity()}b.prototype.dispose=function(){this.trigger({type:"dispose",bubbles:!1});if(this.children_)for(var b=
        this.children_.length-1;0<=b;b--)this.children_[b].dispose&&this.children_[b].dispose();this.childNameIndex_=this.childIndex_=this.children_=null;this.off();this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_);m.removeElData(this.el_);this.el_=null};b.prototype.player=function(){return this.player_};b.prototype.options=function(b){q["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0");return b?this.options_=w["default"](this.options_,b):this.options_};
        b.prototype.el=function(){return this.el_};b.prototype.createEl=function(b,c,d){return m.createEl(b,c,d)};b.prototype.localize=function(b){var c=this.player_.language&&this.player_.language(),d=this.player_.languages&&this.player_.languages();if(!c||!d)return b;var g=d[c];if(g&&g[b])return g[b];c=c.split("-")[0];return(d=d[c])&&d[b]?d[b]:b};b.prototype.contentEl=function(){return this.contentEl_||this.el_};b.prototype.id=function(){return this.id_};b.prototype.name=function(){return this.name_};b.prototype.children=
            function(){return this.children_};b.prototype.getChildById=function(b){return this.childIndex_[b]};b.prototype.getChild=function(b){return this.childNameIndex_[b]};b.prototype.addChild=function(c){var d=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],g=2>=arguments.length||void 0===arguments[2]?this.children_.length:arguments[2],l=void 0,f=void 0;if("string"===typeof c){f=c;d||(d={});!0===d&&(q["default"].warn("Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`."),
            d={});l=d.componentClass||t["default"](f);d.name=f;var m=b.getComponent(l);if(!m)throw Error("Component "+l+" does not exist");if("function"!==typeof m)return null;l=new m(this.player_||this,d)}else l=c;this.children_.splice(g,0,l);"function"===typeof l.id&&(this.childIndex_[l.id()]=l);(f=f||l.name&&l.name())&&(this.childNameIndex_[f]=l);"function"===typeof l.el&&l.el()&&(d=this.contentEl().children[g]||null,this.contentEl().insertBefore(l.el(),d));return l};b.prototype.removeChild=function(b){"string"===
        typeof b&&(b=this.getChild(b));if(b&&this.children_){for(var c=!1,d=this.children_.length-1;0<=d;d--)if(this.children_[d]===b){c=!0;this.children_.splice(d,1);break}c&&(this.childIndex_[b.id()]=null,this.childNameIndex_[b.name()]=null,(c=b.el())&&c.parentNode===this.contentEl()&&this.contentEl().removeChild(b.el()))}};b.prototype.initChildren=function(){var c=this,d=this.options_.children;d&&function(){var g=c.options_,l=void 0,f=b.getComponent("Tech"),l=Array.isArray(d)?d:Object.keys(d);l.concat(Object.keys(c.options_).filter(function(b){return!l.some(function(c){return"string"===
        typeof c?b===c:b===c.name})})).map(function(b){var g=void 0,l=void 0;"string"===typeof b?(g=b,l=d[g]||c.options_[g]||{}):(g=b.name,l=b);return{name:g,opts:l}}).filter(function(c){return(c=b.getComponent(c.opts.componentClass||t["default"](c.name)))&&!f.isTech(c)}).forEach(function(b){var d=b.name;b=b.opts;void 0!==g[d]&&(b=g[d]);!1!==b&&(!0===b&&(b={}),b.playerOptions=c.options_.playerOptions,(b=c.addChild(d,b))&&(c[d]=b))})}()};b.prototype.buildCSSClass=function(){return""};b.prototype.on=function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                c,d){var g=this;if("string"===typeof b||Array.isArray(b))p.on(this.el_,b,l.bind(this,c));else(function(){var f=l.bind(g,d),m=function(){return g.off(b,c,f)};m.guid=f.guid;g.on("dispose",m);var h=function(){return g.off("dispose",m)};h.guid=f.guid;b.nodeName?(p.on(b,c,f),p.on(b,"dispose",h)):"function"===typeof b.on&&(b.on(c,f),b.on("dispose",h))})();return this};b.prototype.off=function(b,c,d){!b||"string"===typeof b||Array.isArray(b)?p.off(this.el_,b,c):(d=l.bind(this,d),this.off("dispose",d),b.nodeName?
            (p.off(b,c,d),p.off(b,"dispose",d)):(b.off(c,d),b.off("dispose",d)));return this};b.prototype.one=function(b,c,d){var g=this,f=arguments;if("string"===typeof b||Array.isArray(b))p.one(this.el_,b,l.bind(this,c));else(function(){var m=b,h=c,k=l.bind(g,d),n=function C(){g.off(m,h,C);k.apply(null,f)};n.guid=k.guid;g.on(m,h,n)})();return this};b.prototype.trigger=function(b,c){p.trigger(this.el_,b,c);return this};b.prototype.ready=function(b){var c=1>=arguments.length||void 0===arguments[1]?!1:arguments[1];
            b&&(this.isReady_?c?b.call(this):this.setTimeout(b,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(b)));return this};b.prototype.triggerReady=function(){this.isReady_=!0;this.setTimeout(function(){var b=this.readyQueue_;this.readyQueue_=[];b&&0<b.length&&b.forEach(function(b){b.call(this)},this);this.trigger("ready")},1)};b.prototype.$=function(b,c){return m.$(b,c||this.contentEl())};b.prototype.$$=function(b,c){return m.$$(b,c||this.contentEl())};b.prototype.hasClass=function(b){return m.hasElClass(this.el_,
            b)};b.prototype.addClass=function(b){m.addElClass(this.el_,b);return this};b.prototype.removeClass=function(b){m.removeElClass(this.el_,b);return this};b.prototype.toggleClass=function(b,c){m.toggleElClass(this.el_,b,c);return this};b.prototype.show=function(){this.removeClass("vjs-hidden");return this};b.prototype.hide=function(){this.addClass("vjs-hidden");return this};b.prototype.lockShowing=function(){this.addClass("vjs-lock-showing");return this};b.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing");
            return this};b.prototype.width=function(b,c){return this.dimension("width",b,c)};b.prototype.height=function(b,c){return this.dimension("height",b,c)};b.prototype.dimensions=function(b,c){return this.width(b,!0).height(c)};b.prototype.dimension=function(b,c,d){if(void 0!==c){if(null===c||c!==c)c=0;-1!==(""+c).indexOf("%")||-1!==(""+c).indexOf("px")?this.el_.style[b]=c:this.el_.style[b]="auto"===c?"":c+"px";d||this.trigger("resize");return this}if(!this.el_)return 0;c=this.el_.style[b];d=c.indexOf("px");
            return-1!==d?parseInt(c.slice(0,d),10):parseInt(this.el_["offset"+t["default"](b)],10)};b.prototype.emitTapEvents=function(){var b=0,c=null,d=void 0;this.on("touchstart",function(g){1===g.touches.length&&(c=r["default"]({},g.touches[0]),b=(new Date).getTime(),d=!0)});this.on("touchmove",function(b){if(1<b.touches.length)d=!1;else if(c){var g=b.touches[0].pageX-c.pageX;b=b.touches[0].pageY-c.pageY;10<Math.sqrt(g*g+b*b)&&(d=!1)}});var g=function(){d=!1};this.on("touchleave",g);this.on("touchcancel",
            g);this.on("touchend",function(g){c=null;!0===d&&200>(new Date).getTime()-b&&(g.preventDefault(),this.trigger("tap"))})};b.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var b=l.bind(this.player(),this.player().reportUserActivity),c=void 0;this.on("touchstart",function(){b();this.clearInterval(c);c=this.setInterval(b,250)});var d=function(d){b();this.clearInterval(c)};this.on("touchmove",b);this.on("touchend",d);this.on("touchcancel",d)}};b.prototype.setTimeout=
            function(b,c){b=l.bind(this,b);var d=g["default"].setTimeout(b,c),f=function(){this.clearTimeout(d)};f.guid="vjs-timeout-"+d;this.on("dispose",f);return d};b.prototype.clearTimeout=function(b){g["default"].clearTimeout(b);var c=function(){};c.guid="vjs-timeout-"+b;this.off("dispose",c);return b};b.prototype.setInterval=function(b,c){b=l.bind(this,b);var d=g["default"].setInterval(b,c),f=function(){this.clearInterval(d)};f.guid="vjs-interval-"+d;this.on("dispose",f);return d};b.prototype.clearInterval=
            function(b){g["default"].clearInterval(b);var c=function(){};c.guid="vjs-interval-"+b;this.off("dispose",c);return b};b.registerComponent=function(c,d){b.components_||(b.components_={});return b.components_[c]=d};b.getComponent=function(c){if(b.components_&&b.components_[c])return b.components_[c];if(g["default"]&&g["default"].videojs&&g["default"].videojs[c])return q["default"].warn("The "+c+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),
            g["default"].videojs[c]};b.extend=function(c){c=c||{};q["default"].warn("Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead");var d=c.init||c.init||this.prototype.init||this.prototype.init||function(){},g=function(){d.apply(this,arguments)};g.prototype=Object.create(this.prototype);g.prototype.constructor=g;g.extend=b.extend;for(var l in c)c.hasOwnProperty(l)&&(g.prototype[l]=c[l]);return g};return b}();b.registerComponent("Component",b);c["default"]=b;d.exports=c["default"]},
        {"./utils/dom.js":131,"./utils/events.js":132,"./utils/fn.js":133,"./utils/guid.js":135,"./utils/log.js":136,"./utils/merge-options.js":137,"./utils/to-title-case.js":140,"global/window":2,"object.assign":45}],67:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,
        configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("../component.js"),k=h(k),g=b("./play-toggle.js");h(g);g=b("./time-controls/current-time-display.js");h(g);g=b("./time-controls/duration-display.js");h(g);g=b("./time-controls/time-divider.js");h(g);g=b("./time-controls/remaining-time-display.js");h(g);g=b("./live-display.js");h(g);g=b("./progress-control/progress-control.js");h(g);g=b("./fullscreen-toggle.js");h(g);g=b("./volume-control/volume-control.js");
        h(g);g=b("./volume-menu-button.js");h(g);g=b("./mute-toggle.js");h(g);g=b("./text-track-controls/chapters-button.js");h(g);g=b("./text-track-controls/subtitles-button.js");h(g);g=b("./text-track-controls/captions-button.js");h(g);g=b("./playback-rate-menu/playback-rate-menu-button.js");h(g);b=b("./spacer-controls/custom-control-spacer.js");h(b);b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.apply(this,arguments)}f(c,b);c.prototype.createEl=
            function(){return b.prototype.createEl.call(this,"div",{className:"vjs-control-bar"},{role:"group"})};return c}(k["default"]);b.prototype.options_={loadEvent:"play",children:"playToggle volumeMenuButton currentTimeDisplay timeDivider durationDisplay progressControl liveDisplay remainingTimeDisplay customControlSpacer playbackRateMenuButton chaptersButton subtitlesButton captionsButton fullscreenToggle".split(" ")};k["default"].registerComponent("ControlBar",b);c["default"]=b;d.exports=c["default"]},
        {"../component.js":66,"./fullscreen-toggle.js":68,"./live-display.js":69,"./mute-toggle.js":70,"./play-toggle.js":71,"./playback-rate-menu/playback-rate-menu-button.js":72,"./progress-control/progress-control.js":77,"./spacer-controls/custom-control-spacer.js":79,"./text-track-controls/captions-button.js":82,"./text-track-controls/chapters-button.js":83,"./text-track-controls/subtitles-button.js":86,"./time-controls/current-time-display.js":89,"./time-controls/duration-display.js":90,"./time-controls/remaining-time-display.js":91,
            "./time-controls/time-divider.js":92,"./volume-control/volume-control.js":94,"./volume-menu-button.js":96}],68:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("../button.js"),f=f&&f.__esModule?
        f:{"default":f};b=(b=b("../component.js"))&&b.__esModule?b:{"default":b};f=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.apply(this,arguments)}h(c,b);c.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+b.prototype.buildCSSClass.call(this)};c.prototype.handleClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText("Fullscreen")):(this.player_.requestFullscreen(),this.controlText("Non-Fullscreen"))};
        return c}(f["default"]);f.prototype.controlText_="Fullscreen";b["default"].registerComponent("FullscreenToggle",f);c["default"]=f;d.exports=c["default"]},{"../button.js":63,"../component.js":66}],69:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,
        c):b.__proto__=c)}c.__esModule=!0;var f=b("../component"),f=f&&f.__esModule?f:{"default":f},k=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../utils/dom.js"));b=function(b){function c(d,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,f);this.updateShowing();this.on(this.player(),"durationchange",this.updateShowing)}h(c,b);c.prototype.createEl=
        function(){var c=b.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});this.contentEl_=k.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"});c.appendChild(this.contentEl_);return c};c.prototype.updateShowing=function(){Infinity===this.player().duration()?this.show():this.hide()};return c}(f["default"]);f["default"].registerComponent("LiveDisplay",b);c["default"]=
        b;d.exports=c["default"]},{"../component":66,"../utils/dom.js":131}],70:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("../button"),f=f&&f.__esModule?f:{"default":f},k=b("../component"),k=k&&
    k.__esModule?k:{"default":k},g=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../utils/dom.js"));b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.on(d,"volumechange",this.update);d.tech_&&!1===d.tech_.featuresVolumeControl&&this.addClass("vjs-hidden");this.on(d,"loadstart",function(){this.update();!1===d.tech_.featuresVolumeControl?
        this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}h(c,b);c.prototype.buildCSSClass=function(){return"vjs-mute-control "+b.prototype.buildCSSClass.call(this)};c.prototype.handleClick=function(){this.player_.muted(this.player_.muted()?!1:!0)};c.prototype.update=function(){var b=this.player_.volume(),c=3;0===b||this.player_.muted()?c=0:.33>b?c=1:.67>b&&(c=2);b=this.player_.muted()?"Unmute":"Mute";this.controlText()!==b&&this.controlText(b);for(b=0;4>b;b++)g.removeElClass(this.el_,"vjs-vol-"+
        b);g.addElClass(this.el_,"vjs-vol-"+c)};return c}(f["default"]);b.prototype.controlText_="Mute";k["default"].registerComponent("MuteToggle",b);c["default"]=b;d.exports=c["default"]},{"../button":63,"../component":66,"../utils/dom.js":131}],71:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});
        c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("../button.js"),f=f&&f.__esModule?f:{"default":f};b=(b=b("../component.js"))&&b.__esModule?b:{"default":b};f=function(b){function c(d,l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,l);this.on(d,"play",this.handlePlay);this.on(d,"pause",this.handlePause)}h(c,b);c.prototype.buildCSSClass=function(){return"vjs-play-control "+b.prototype.buildCSSClass.call(this)};
        c.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()};c.prototype.handlePlay=function(){this.removeClass("vjs-paused");this.addClass("vjs-playing");this.controlText("Pause")};c.prototype.handlePause=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.controlText("Play")};return c}(f["default"]);f.prototype.controlText_="Play";b["default"].registerComponent("PlayToggle",f);c["default"]=f;d.exports=c["default"]},{"../button.js":63,
        "../component.js":66}],72:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("../../menu/menu-button.js"),k=h(k),g=b("../../menu/menu.js"),m=h(g),
        g=b("./playback-rate-menu-item.js"),l=h(g),g=b("../../component.js"),g=h(g),n=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../../utils/dom.js"));b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.updateVisibility();this.updateLabel();this.on(d,"loadstart",this.updateVisibility);this.on(d,"ratechange",this.updateLabel)}
        f(c,b);c.prototype.createEl=function(){var c=b.prototype.createEl.call(this);this.labelEl_=n.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1});c.appendChild(this.labelEl_);return c};c.prototype.buildCSSClass=function(){return"vjs-playback-rate "+b.prototype.buildCSSClass.call(this)};c.prototype.createMenu=function(){var b=new m["default"](this.player()),c=this.playbackRates();if(c)for(var d=c.length-1;0<=d;d--)b.addChild(new l["default"](this.player(),{rate:c[d]+"x"}));return b};c.prototype.updateARIAAttributes=
            function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())};c.prototype.handleClick=function(){for(var b=this.player().playbackRate(),c=this.playbackRates(),d=c[0],g=0;g<c.length;g++)if(c[g]>b){d=c[g];break}this.player().playbackRate(d)};c.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates};c.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&
            this.playbackRates()&&0<this.playbackRates().length};c.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")};c.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")};return c}(k["default"]);b.prototype.controlText_="Playback Rate";g["default"].registerComponent("PlaybackRateMenuButton",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"../../menu/menu-button.js":103,
        "../../menu/menu.js":105,"../../utils/dom.js":131,"./playback-rate-menu-item.js":73}],73:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("../../menu/menu-item.js"),f=f&&f.__esModule?f:{"default":f};
        b=(b=b("../../component.js"))&&b.__esModule?b:{"default":b};f=function(b){function c(d,l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var f=l.rate,h=parseFloat(f,10);l.label=f;l.selected=1===h;b.call(this,d,l);this.label=f;this.rate=h;this.on(d,"ratechange",this.update)}h(c,b);c.prototype.handleClick=function(){b.prototype.handleClick.call(this);this.player().playbackRate(this.rate)};c.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)};
            return c}(f["default"]);f.prototype.contentElType="button";b["default"].registerComponent("PlaybackRateMenuItem",f);c["default"]=f;d.exports=c["default"]},{"../../component.js":66,"../../menu/menu-item.js":104}],74:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?
        Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("../../component.js"),f=f&&f.__esModule?f:{"default":f},k=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../../utils/dom.js"));b=function(b){function c(d,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,f);this.on(d,"progress",this.update)}h(c,b);c.prototype.createEl=function(){return b.prototype.createEl.call(this,
        "div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})};c.prototype.update=function(){var b=this.player_.buffered(),c=this.player_.duration(),d=this.player_.bufferedEnd(),g=this.el_.children,f=function(b,c){var d=b/c||0;return 100*(1<=d?1:d)+"%"};this.el_.style.width=f(d,c);for(c=0;c<b.length;c++){var h=b.start(c),m=b.end(c),v=g[c];v||(v=this.el_.appendChild(k.createEl()));v.style.left=f(h,d);v.style.width=f(m-h,d)}for(c=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  g.length;c>b.length;c--)this.el_.removeChild(g[c-1])};return c}(f["default"]);f["default"].registerComponent("LoadProgressBar",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"../../utils/dom.js":131}],75:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&b.__esModule?b:{"default":b}}function k(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
        typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var g=b("../../component.js"),g=f(g),m=b("../../utils/dom.js"),l=h(m),m=b("../../utils/fn.js"),n=h(m),m=b("../../utils/format-time.js"),p=f(m);b=b("lodash-compat/function/throttle");var q=f(b);b=function(b){function c(d,g){var l=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
        b.call(this,d,g);this.update(0,0);d.on("ready",function(){l.on(d.controlBar.progressControl.el(),"mousemove",q["default"](n.bind(l,l.handleMouseMove),25))})}k(c,b);c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})};c.prototype.handleMouseMove=function(b){var c=this.player_.duration(),c=this.calculateDistance(b)*c;b=b.pageX-l.findElPosition(this.el().parentNode).left;this.update(c,b)};c.prototype.update=function(b,c){var d=p["default"](b,this.player_.duration());
        this.el().style.left=c+"px";this.el().setAttribute("data-current-time",d)};c.prototype.calculateDistance=function(b){return l.getPointerPosition(this.el().parentNode,b).x};return c}(g["default"]);g["default"].registerComponent("MouseTimeDisplay",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"../../utils/dom.js":131,"../../utils/fn.js":133,"../../utils/format-time.js":134,"lodash-compat/function/throttle":7}],76:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==
        c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("../../component.js"),f=f&&f.__esModule?f:{"default":f},k=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../../utils/fn.js")),
        g=(b=b("../../utils/format-time.js"))&&b.__esModule?b:{"default":b};b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.updateDataAttr();this.on(d,"timeupdate",this.updateDataAttr);d.ready(k.bind(this,this.updateDataAttr))}h(c,b);c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+
    "</span>: 0%</span>"})};c.prototype.updateDataAttr=function(){var b=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",g["default"](b,this.player_.duration()))};return c}(f["default"]);f["default"].registerComponent("PlayProgressBar",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"../../utils/fn.js":133,"../../utils/format-time.js":134}],77:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}
        function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("../../component.js"),k=h(k),g=b("./seek-bar.js");h(g);b=b("./mouse-time-display.js");h(b);b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
            b.apply(this,arguments)}f(c,b);c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};return c}(k["default"]);b.prototype.options_={children:["seekBar"]};k["default"].registerComponent("ProgressControl",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"./mouse-time-display.js":75,"./seek-bar.js":78}],78:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&
        null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("../../slider/slider.js"),k=h(k),g=b("../../component.js"),g=h(g),m=b("./load-progress-bar.js");h(m);m=b("./play-progress-bar.js");h(m);var l=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,
        d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../../utils/fn.js")),m=b("../../utils/format-time.js"),n=h(m);b=b("object.assign");h(b);b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.on(d,"timeupdate",this.updateARIAAttributes);d.ready(l.bind(this,this.updateARIAAttributes))}f(c,b);c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"video progress bar"})};
        c.prototype.updateARIAAttributes=function(){var b=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2));this.el_.setAttribute("aria-valuetext",n["default"](b,this.player_.duration()))};c.prototype.getPercent=function(){var b=this.player_.currentTime()/this.player_.duration();return 1<=b?1:b};c.prototype.handleMouseDown=function(c){b.prototype.handleMouseDown.call(this,c);this.player_.scrubbing(!0);
            this.videoWasPlaying=!this.player_.paused();this.player_.pause()};c.prototype.handleMouseMove=function(b){b=this.calculateDistance(b)*this.player_.duration();b===this.player_.duration()&&(b-=.1);this.player_.currentTime(b)};c.prototype.handleMouseUp=function(c){b.prototype.handleMouseUp.call(this,c);this.player_.scrubbing(!1);this.videoWasPlaying&&this.player_.play()};c.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};c.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-
            5)};return c}(k["default"]);b.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"};b.prototype.playerEvent="timeupdate";g["default"].registerComponent("SeekBar",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"../../slider/slider.js":113,"../../utils/fn.js":133,"../../utils/format-time.js":134,"./load-progress-bar.js":74,"./play-progress-bar.js":76,"object.assign":45}],79:[function(b,d,c){function h(b,c){if("function"!==
        typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("./spacer.js"),f=f&&f.__esModule?f:{"default":f};b=(b=b("../../component.js"))&&b.__esModule?b:{"default":b};f=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
        b.apply(this,arguments)}h(c,b);c.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+b.prototype.buildCSSClass.call(this)};c.prototype.createEl=function(){var c=b.prototype.createEl.call(this,{className:this.buildCSSClass()});c.innerHTML="&nbsp;";return c};return c}(f["default"]);b["default"].registerComponent("CustomControlSpacer",f);c["default"]=f;d.exports=c["default"]},{"../../component.js":66,"./spacer.js":80}],80:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==
        c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;b=(b=b("../../component.js"))&&b.__esModule?b:{"default":b};var f=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.apply(this,arguments)}h(c,b);c.prototype.buildCSSClass=
        function(){return"vjs-spacer "+b.prototype.buildCSSClass.call(this)};c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};return c}(b["default"]);b["default"].registerComponent("Spacer",f);c["default"]=f;d.exports=c["default"]},{"../../component.js":66}],81:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&
        c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("./text-track-menu-item.js"),f=f&&f.__esModule?f:{"default":f};b=(b=b("../../component.js"))&&b.__esModule?b:{"default":b};f=function(b){function c(d,l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");l.track={kind:l.kind,player:d,label:l.kind+" settings",selectable:!1,"default":!1,mode:"disabled"};
        l.selectable=!1;b.call(this,d,l);this.addClass("vjs-texttrack-settings");this.controlText(", opens "+l.kind+" settings dialog")}h(c,b);c.prototype.handleClick=function(){this.player().getChild("textTrackSettings").show();this.player().getChild("textTrackSettings").el_.focus()};return c}(f["default"]);b["default"].registerComponent("CaptionSettingsMenuItem",f);c["default"]=f;d.exports=c["default"]},{"../../component.js":66,"./text-track-menu-item.js":88}],82:[function(b,d,c){function h(b){return b&&
    b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("./text-track-button.js"),k=h(k),g=b("../../component.js"),g=h(g);b=b("./caption-settings-menu-item.js");var m=h(b);b=function(b){function c(d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  g,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g,f);this.el_.setAttribute("aria-label","Captions Menu")}f(c,b);c.prototype.buildCSSClass=function(){return"vjs-captions-button "+b.prototype.buildCSSClass.call(this)};c.prototype.update=function(){var c=2;b.prototype.update.call(this);this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(c=1);this.items&&this.items.length>c?this.show():this.hide()};c.prototype.createItems=function(){var c=
        [];this.player().tech_&&this.player().tech_.featuresNativeTextTracks||c.push(new m["default"](this.player_,{kind:this.kind_}));return b.prototype.createItems.call(this,c)};return c}(k["default"]);b.prototype.kind_="captions";b.prototype.controlText_="Captions";g["default"].registerComponent("CaptionsButton",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"./caption-settings-menu-item.js":81,"./text-track-button.js":87}],83:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;
        var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&b.__esModule?b:{"default":b}}function k(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var g=
        b("./text-track-button.js"),g=f(g),m=b("../../component.js"),m=f(m),l=b("./text-track-menu-item.js"),n=f(l),l=b("./chapters-track-menu-item.js"),p=f(l),l=b("../../menu/menu.js"),q=f(l),l=b("../../utils/dom.js"),t=h(l),l=b("../../utils/fn.js");h(l);var l=b("../../utils/to-title-case.js"),r=f(l);b=b("global/window");f(b);b=function(b){function c(d,g,l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g,l);this.el_.setAttribute("aria-label","Chapters Menu")}
        k(c,b);c.prototype.buildCSSClass=function(){return"vjs-chapters-button "+b.prototype.buildCSSClass.call(this)};c.prototype.createItems=function(){var b=[],c=this.player_.textTracks();if(!c)return b;for(var d=0;d<c.length;d++){var g=c[d];g.kind===this.kind_&&b.push(new n["default"](this.player_,{track:g}))}return b};c.prototype.createMenu=function(){for(var b=this,c=this.player_.textTracks()||[],d=void 0,g=this.items=[],l=0,f=c.length;l<f;l++){var h=c[l];if(h.kind===this.kind_){d=h;break}}c=this.menu;
            void 0===c&&(c=new q["default"](this.player_),c.contentEl().appendChild(t.createEl("li",{className:"vjs-menu-title",innerHTML:r["default"](this.kind_),tabIndex:-1})));d&&null==d.cues&&(d.mode="hidden",(l=this.player_.remoteTextTrackEls().getTrackElementByTrack_(d))&&l.addEventListener("load",function(c){return b.update()}));if(d&&d.cues&&0<d.cues.length){for(var f=d.cues,m=void 0,l=0,h=f.length;l<h;l++)m=f[l],m=new p["default"](this.player_,{track:d,cue:m}),g.push(m),c.addChild(m);this.addChild(c)}0<
            this.items.length&&this.show();return c};return c}(g["default"]);b.prototype.kind_="chapters";b.prototype.controlText_="Chapters";m["default"].registerComponent("ChaptersButton",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"../../menu/menu.js":105,"../../utils/dom.js":131,"../../utils/fn.js":133,"../../utils/to-title-case.js":140,"./chapters-track-menu-item.js":84,"./text-track-button.js":87,"./text-track-menu-item.js":88,"global/window":2}],84:[function(b,d,c){function h(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("../../menu/menu-item.js"),f=f&&f.__esModule?f:{"default":f},k=b("../../component.js"),k=k&&k.__esModule?k:{"default":k},g=function(b){if(b&&b.__esModule)return b;var c={};if(null!=
        b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../../utils/fn.js"));b=function(b){function c(d,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var h=f.track,k=f.cue,r=d.currentTime();f.label=k.text;f.selected=k.startTime<=r&&r<k.endTime;b.call(this,d,f);this.track=h;this.cue=k;h.addEventListener("cuechange",g.bind(this,this.update))}h(c,b);c.prototype.handleClick=function(){b.prototype.handleClick.call(this);
        this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};c.prototype.update=function(){var b=this.cue,c=this.player_.currentTime();this.selected(b.startTime<=c&&c<b.endTime)};return c}(f["default"]);k["default"].registerComponent("ChaptersTrackMenuItem",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"../../menu/menu-item.js":104,"../../utils/fn.js":133}],85:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
        typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("./text-track-menu-item.js"),f=f&&f.__esModule?f:{"default":f};b=(b=b("../../component.js"))&&b.__esModule?b:{"default":b};f=function(b){function c(d,l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");l.track={kind:l.kind,player:d,label:l.kind+" off","default":!1,
        mode:"disabled"};l.selectable=!0;b.call(this,d,l);this.selected(!0)}h(c,b);c.prototype.handleTracksChange=function(b){b=this.player().textTracks();for(var c=!0,d=0,g=b.length;d<g;d++){var f=b[d];if(f.kind===this.track.kind&&"showing"===f.mode){c=!1;break}}this.selected(c)};return c}(f["default"]);b["default"].registerComponent("OffTextTrackMenuItem",f);c["default"]=f;d.exports=c["default"]},{"../../component.js":66,"./text-track-menu-item.js":88}],86:[function(b,d,c){function h(b,c){if("function"!==
        typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("./text-track-button.js"),f=f&&f.__esModule?f:{"default":f};b=(b=b("../../component.js"))&&b.__esModule?b:{"default":b};f=function(b){function c(d,l,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
        b.call(this,d,l,f);this.el_.setAttribute("aria-label","Subtitles Menu")}h(c,b);c.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+b.prototype.buildCSSClass.call(this)};return c}(f["default"]);f.prototype.kind_="subtitles";f.prototype.controlText_="Subtitles";b["default"].registerComponent("SubtitlesButton",f);c["default"]=f;d.exports=c["default"]},{"../../component.js":66,"./text-track-button.js":87}],87:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("../../menu/menu-button.js"),k=h(k),g=b("../../component.js"),g=h(g),m=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,
        d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../../utils/fn.js")),l=b("./text-track-menu-item.js"),n=h(l);b=b("./off-text-track-menu-item.js");var p=h(b);b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);var l=this.player_.textTracks();1>=this.items.length&&this.hide();if(l){var f=m.bind(this,this.update);l.addEventListener("removetrack",f);l.addEventListener("addtrack",f);this.player_.on("dispose",function(){l.removeEventListener("removetrack",
        f);l.removeEventListener("addtrack",f)})}}f(c,b);c.prototype.createItems=function(){var b=0>=arguments.length||void 0===arguments[0]?[]:arguments[0];b.push(new p["default"](this.player_,{kind:this.kind_}));var c=this.player_.textTracks();if(!c)return b;for(var d=0;d<c.length;d++){var g=c[d];g.kind===this.kind_&&b.push(new n["default"](this.player_,{selectable:!0,track:g}))}return b};return c}(k["default"]);g["default"].registerComponent("TextTrackButton",b);c["default"]=b;d.exports=c["default"]},
        {"../../component.js":66,"../../menu/menu-button.js":103,"../../utils/fn.js":133,"./off-text-track-menu-item.js":85,"./text-track-menu-item.js":88}],88:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,
        c):b.__proto__=c)}c.__esModule=!0;var k=b("../../menu/menu-item.js"),k=h(k),g=b("../../component.js"),g=h(g),m=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../../utils/fn.js")),l=b("global/window"),n=h(l);b=b("global/document");var p=h(b);b=function(b){function c(d,g){var l=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var f=g.track,h=d.textTracks();
        g.label=f.label||f.language||"Unknown";g.selected=f["default"]||"showing"===f.mode;b.call(this,d,g);this.track=f;h&&function(){var b=m.bind(l,l.handleTracksChange);h.addEventListener("change",b);l.on("dispose",function(){h.removeEventListener("change",b)})}();h&&void 0===h.onchange&&function(){var b=void 0;l.on(["tap","click"],function(){if("object"!==typeof n["default"].Event)try{b=new n["default"].Event("change")}catch(c){}b||(b=p["default"].createEvent("Event"),b.initEvent("change",!0,!0));h.dispatchEvent(b)})}()}
        f(c,b);c.prototype.handleClick=function(c){var d=this.track.kind,g=this.player_.textTracks();b.prototype.handleClick.call(this,c);if(g)for(c=0;c<g.length;c++){var l=g[c];l.kind===d&&(l.mode=l===this.track?"showing":"disabled")}};c.prototype.handleTracksChange=function(b){this.selected("showing"===this.track.mode)};return c}(k["default"]);g["default"].registerComponent("TextTrackMenuItem",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"../../menu/menu-item.js":104,"../../utils/fn.js":133,
        "global/document":1,"global/window":2}],89:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("../../component.js"),f=f&&f.__esModule?f:{"default":f},k=function(b){if(b&&b.__esModule)return b;var c=
    {};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../../utils/dom.js")),g=(b=b("../../utils/format-time.js"))&&b.__esModule?b:{"default":b};b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.on(d,"timeupdate",this.updateContent)}h(c,b);c.prototype.createEl=function(){var c=b.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});
        this.contentEl_=k.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"});c.appendChild(this.contentEl_);return c};c.prototype.updateContent=function(){var b=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),c=this.localize("Current Time"),b=g["default"](b,this.player_.duration());b!==this.formattedTime_&&(this.formattedTime_=b,this.contentEl_.innerHTML='<span class="vjs-control-text">'+
        c+"</span> "+b)};return c}(f["default"]);f["default"].registerComponent("CurrentTimeDisplay",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"../../utils/dom.js":131,"../../utils/format-time.js":134}],90:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?
        Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("../../component.js"),f=f&&f.__esModule?f:{"default":f},k=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../../utils/dom.js")),g=(b=b("../../utils/format-time.js"))&&b.__esModule?b:{"default":b};b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.on(d,
        "timeupdate",this.updateContent);this.on(d,"loadedmetadata",this.updateContent)}h(c,b);c.prototype.createEl=function(){var c=b.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});this.contentEl_=k.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"});c.appendChild(this.contentEl_);return c};c.prototype.updateContent=function(){var b=this.player_.duration();
        if(b&&this.duration_!==b){this.duration_=b;var c=this.localize("Duration Time"),b=g["default"](b);this.contentEl_.innerHTML='<span class="vjs-control-text">'+c+"</span> "+b}};return c}(f["default"]);f["default"].registerComponent("DurationDisplay",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"../../utils/dom.js":131,"../../utils/format-time.js":134}],91:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
        typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("../../component.js"),f=f&&f.__esModule?f:{"default":f},k=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../../utils/dom.js")),g=(b=b("../../utils/format-time.js"))&&b.__esModule?b:
    {"default":b};b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.on(d,"timeupdate",this.updateContent)}h(c,b);c.prototype.createEl=function(){var c=b.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});this.contentEl_=k.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"});
        c.appendChild(this.contentEl_);return c};c.prototype.updateContent=function(){if(this.player_.duration()){var b=this.localize("Remaining Time"),c=g["default"](this.player_.remainingTime());c!==this.formattedTime_&&(this.formattedTime_=c,this.contentEl_.innerHTML='<span class="vjs-control-text">'+b+"</span> -"+c)}};return c}(f["default"]);f["default"].registerComponent("RemainingTimeDisplay",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"../../utils/dom.js":131,"../../utils/format-time.js":134}],
    92:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;b=(b=b("../../component.js"))&&b.__esModule?b:{"default":b};var f=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
        b.apply(this,arguments)}h(c,b);c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};return c}(b["default"]);b["default"].registerComponent("TimeDivider",f);c["default"]=f;d.exports=c["default"]},{"../../component.js":66}],93:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
        typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("../../slider/slider.js"),k=h(k),g=b("../../component.js"),g=h(g),m=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../../utils/fn.js"));b=b("./volume-level.js");h(b);b=function(b){function c(d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.on(d,"volumechange",this.updateARIAAttributes);d.ready(m.bind(this,this.updateARIAAttributes))}f(c,b);c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})};c.prototype.handleMouseMove=function(b){this.checkMuted();this.player_.volume(this.calculateDistance(b))};c.prototype.checkMuted=function(){this.player_.muted()&&
    this.player_.muted(!1)};c.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()};c.prototype.stepForward=function(){this.checkMuted();this.player_.volume(this.player_.volume()+.1)};c.prototype.stepBack=function(){this.checkMuted();this.player_.volume(this.player_.volume()-.1)};c.prototype.updateARIAAttributes=function(){var b=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",b);this.el_.setAttribute("aria-valuetext",b+"%")};return c}(k["default"]);
        b.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};b.prototype.playerEvent="volumechange";g["default"].registerComponent("VolumeBar",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"../../slider/slider.js":113,"../../utils/fn.js":133,"./volume-level.js":95}],94:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,
        enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var f=b("../../component.js"),f=f&&f.__esModule?f:{"default":f};b("./volume-bar.js");b=function(b){function c(d,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,f);d.tech_&&!1===d.tech_.featuresVolumeControl&&this.addClass("vjs-hidden");this.on(d,"loadstart",function(){!1===d.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):
        this.removeClass("vjs-hidden")})}h(c,b);c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})};return c}(f["default"]);b.prototype.options_={children:["volumeBar"]};f["default"].registerComponent("VolumeControl",b);c["default"]=b;d.exports=c["default"]},{"../../component.js":66,"./volume-bar.js":93}],95:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
        typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;b=(b=b("../../component.js"))&&b.__esModule?b:{"default":b};var f=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.apply(this,arguments)}h(c,b);c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:"vjs-volume-level",
        innerHTML:'<span class="vjs-control-text"></span>'})};return c}(b["default"]);b["default"].registerComponent("VolumeLevel",f);c["default"]=f;d.exports=c["default"]},{"../../component.js":66}],96:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});
        c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../utils/fn.js")),g=b("../component.js"),g=h(g),m=b("../popup/popup.js"),l=h(m),m=b("../popup/popup-button.js"),m=h(m),n=b("./mute-toggle.js"),p=h(n),n=b("./volume-control/volume-bar.js"),q=h(n);b=b("global/document");var t=h(b);b=function(b){function c(d){function g(){d.tech_&&
    !1===d.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var f=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");void 0===f.inline&&(f.inline=!0);void 0===f.vertical&&(f.vertical=f.inline?!1:!0);f.volumeBar=f.volumeBar||{};f.volumeBar.vertical=!!f.vertical;b.call(this,d,f);this.on(d,"volumechange",this.volumeUpdate);this.on(d,"loadstart",this.volumeUpdate);g.call(this);this.on(d,
        "loadstart",g);this.on(this.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")});this.on(this.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")});this.on(this.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")});this.on(this.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")})}f(c,b);c.prototype.buildCSSClass=function(){var c="",c=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal";
        return"vjs-volume-menu-button "+b.prototype.buildCSSClass.call(this)+" "+c};c.prototype.createPopup=function(){var b=new l["default"](this.player_,{contentElType:"div"}),c=new q["default"](this.player_,this.options_.volumeBar);b.addChild(c);this.volumeBar=c;this.attachVolumeBarEvents();return b};c.prototype.handleClick=function(){p["default"].prototype.handleClick.call(this);b.prototype.handleClick.call(this)};c.prototype.attachVolumeBarEvents=function(){this.on(["mousedown","touchdown"],this.handleMouseDown)};
        c.prototype.handleMouseDown=function(b){this.on(["mousemove","touchmove"],k.bind(this.volumeBar,this.volumeBar.handleMouseMove));this.on(t["default"],["mouseup","touchend"],this.handleMouseUp)};c.prototype.handleMouseUp=function(b){this.off(["mousemove","touchmove"],k.bind(this.volumeBar,this.volumeBar.handleMouseMove))};return c}(m["default"]);b.prototype.volumeUpdate=p["default"].prototype.update;b.prototype.controlText_="Mute";g["default"].registerComponent("VolumeMenuButton",b);c["default"]=b;
        d.exports=c["default"]},{"../component.js":66,"../popup/popup-button.js":109,"../popup/popup.js":110,"../utils/fn.js":133,"./mute-toggle.js":70,"./volume-control/volume-bar.js":93,"global/document":1}],97:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,
        configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("./component"),k=h(k),g=b("./modal-dialog"),g=h(g);(function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c})(b("./utils/dom"));b=b("./utils/merge-options");b=h(b);var m=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,
        g);this.on(d,"error",this.open)}f(c,b);c.prototype.buildCSSClass=function(){return"vjs-error-display "+b.prototype.buildCSSClass.call(this)};c.prototype.content=function(){var b=this.player().error();return b?this.localize(b.message):""};return c}(g["default"]);m.prototype.options_=b["default"](g["default"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0});k["default"].registerComponent("ErrorDisplay",m);c["default"]=m;d.exports=c["default"]},{"./component":66,"./modal-dialog":106,"./utils/dom":131,
        "./utils/merge-options":137}],98:[function(b,d,c){c.__esModule=!0;var h=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("./utils/events.js"));b=function(){};b.prototype.allowedEvents_={};b.prototype.on=function(b,c){var d=this.addEventListener;this.addEventListener=Function.prototype;h.on(this,b,c);this.addEventListener=d};b.prototype.addEventListener=b.prototype.on;b.prototype.off=function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               c){h.off(this,b,c)};b.prototype.removeEventListener=b.prototype.off;b.prototype.one=function(b,c){h.one(this,b,c)};b.prototype.trigger=function(b){var c=b.type||b;"string"===typeof b&&(b={type:c});b=h.fixEvent(b);if(this.allowedEvents_[c]&&this["on"+c])this["on"+c](b);h.trigger(this,b)};b.prototype.dispatchEvent=b.prototype.trigger;c["default"]=b;d.exports=c["default"]},{"./utils/events.js":132}],99:[function(b,d,c){c.__esModule=!0;var h=(b=b("./utils/log"))&&b.__esModule?b:{"default":b},f=function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(b.super_=c)};c["default"]=function(b){var c=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],d=function(){b.apply(this,arguments)},l={};"object"===typeof c?("function"===typeof c.init&&(h["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),
        c.constructor=c.init),c.constructor!==Object.prototype.constructor&&(d=c.constructor),l=c):"function"===typeof c&&(d=c);f(d,b);for(var n in l)l.hasOwnProperty(n)&&(d.prototype[n]=l[n]);return d};d.exports=c["default"]},{"./utils/log":136}],100:[function(b,d,c){c.__esModule=!0;b=(b=b("global/document"))&&b.__esModule?b:{"default":b};for(var h={},f=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),
        "webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],k=f[0],g=void 0,m=0;m<f.length;m++)if(f[m][1]in b["default"]){g=f[m];break}if(g)for(m=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      0;m<g.length;m++)h[k[m]]=g[m];c["default"]=h;d.exports=c["default"]},{"global/document":1}],101:[function(b,d,c){function h(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;b=(b=b("./component"))&&b.__esModule?b:{"default":b};var f=
        function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.apply(this,arguments)}h(c,b);c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})};return c}(b["default"]);b["default"].registerComponent("LoadingSpinner",f);c["default"]=f;d.exports=c["default"]},{"./component":66}],102:[function(b,d,c){c.__esModule=!0;var h=(b=b("object.assign"))&&b.__esModule?b:{"default":b};b=function g(b){if("number"===
        typeof b)this.code=b;else if("string"===typeof b)this.message=b;else if("object"===typeof b)h["default"](this,b);this.message||(this.message=g.defaultMessages[this.code]||"")};b.prototype.code=0;b.prototype.message="";b.prototype.status=null;b.errorTypes="MEDIA_ERR_CUSTOM MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_ERR_ENCRYPTED".split(" ");b.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",
        3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var f=0;f<b.errorTypes.length;f++)b[b.errorTypes[f]]=f,b.prototype[b.errorTypes[f]]=f;c["default"]=b;d.exports=c["default"]},{"object.assign":45}],103:[function(b,d,c){function h(b){if(b&&
        b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&b.__esModule?b:{"default":b}}function k(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=
        c)}c.__esModule=!0;var g=b("../clickable-component.js"),g=f(g),m=b("../component.js"),m=f(m),l=b("./menu.js"),n=f(l),l=b("../utils/dom.js"),p=h(l),l=b("../utils/fn.js"),q=h(l);b=b("../utils/to-title-case.js");var t=f(b);b=function(b){function c(d){var g=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.update();this.el_.setAttribute("aria-haspopup",!0);this.el_.setAttribute("role","menuitem");
        this.on("keydown",this.handleSubmenuKeyPress)}k(c,b);c.prototype.update=function(){var b=this.createMenu();this.menu&&this.removeChild(this.menu);this.menu=b;this.addChild(b);this.buttonPressed_=!1;this.el_.setAttribute("aria-expanded",!1);this.items&&0===this.items.length?this.hide():this.items&&1<this.items.length&&this.show()};c.prototype.createMenu=function(){var b=new n["default"](this.player_);this.options_.title&&b.contentEl().appendChild(p.createEl("li",{className:"vjs-menu-title",innerHTML:t["default"](this.options_.title),
        tabIndex:-1}));if(this.items=this.createItems())for(var c=0;c<this.items.length;c++)b.addItem(this.items[c]);return b};c.prototype.createItems=function(){};c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};c.prototype.buildCSSClass=function(){var c="vjs-menu-button",c=!0===this.options_.inline?c+"-inline":c+"-popup";return"vjs-menu-button "+c+" "+b.prototype.buildCSSClass.call(this)};c.prototype.handleClick=function(){this.one("mouseout",
        q.bind(this,function(){this.menu.unlockShowing();this.el_.blur()}));this.buttonPressed_?this.unpressButton():this.pressButton()};c.prototype.handleKeyPress=function(c){27===c.which||9===c.which?(this.buttonPressed_&&this.unpressButton(),9!==c.which&&c.preventDefault()):38===c.which||40===c.which?this.buttonPressed_||(this.pressButton(),c.preventDefault()):b.prototype.handleKeyPress.call(this,c)};c.prototype.handleSubmenuKeyPress=function(b){if(27===b.which||9===b.which)this.buttonPressed_&&this.unpressButton(),
    9!==b.which&&b.preventDefault()};c.prototype.pressButton=function(){this.buttonPressed_=!0;this.menu.lockShowing();this.el_.setAttribute("aria-expanded",!0);this.menu.focus()};c.prototype.unpressButton=function(){this.buttonPressed_=!1;this.menu.unlockShowing();this.el_.setAttribute("aria-expanded",!1);this.el_.focus()};return c}(g["default"]);m["default"].registerComponent("MenuButton",b);c["default"]=b;d.exports=c["default"]},{"../clickable-component.js":64,"../component.js":66,"../utils/dom.js":131,
        "../utils/fn.js":133,"../utils/to-title-case.js":140,"./menu.js":105}],104:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("../clickable-component.js"),
        k=h(k),g=b("../component.js"),g=h(g);b=b("object.assign");var m=h(b);b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.selectable=g.selectable;this.selected(g.selected);this.selectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitem")}f(c,b);c.prototype.createEl=function(c,d,g){return b.prototype.createEl.call(this,"li",m["default"]({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),
        tabIndex:-1},d),g)};c.prototype.handleClick=function(){this.selected(!0)};c.prototype.selected=function(b){this.selectable&&(b?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked",!0),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked",!1),this.controlText(" ")))};return c}(k["default"]);g["default"].registerComponent("MenuItem",b);c["default"]=b;d.exports=c["default"]},{"../clickable-component.js":64,"../component.js":66,"object.assign":45}],
    105:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=
        !0;var k=b("../component.js"),k=k&&k.__esModule?k:{"default":k},g=b("../utils/dom.js"),m=h(g),g=b("../utils/fn.js"),l=h(g);b=b("../utils/events.js");var n=h(b);b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.focusedChild_=-1;this.on("keydown",this.handleKeyPress)}f(c,b);c.prototype.addItem=function(b){this.addChild(b);b.on("click",l.bind(this,function(){this.unlockShowing()}))};c.prototype.createEl=function(){this.contentEl_=
        m.createEl(this.options_.contentElType||"ul",{className:"vjs-menu-content"});this.contentEl_.setAttribute("role","menu");var c=b.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});c.setAttribute("role","presentation");c.appendChild(this.contentEl_);n.on(c,"click",function(b){b.preventDefault();b.stopImmediatePropagation()});return c};c.prototype.handleKeyPress=function(b){if(37===b.which||40===b.which)b.preventDefault(),this.stepForward();else if(38===b.which||39===
        b.which)b.preventDefault(),this.stepBack()};c.prototype.stepForward=function(){var b=0;void 0!==this.focusedChild_&&(b=this.focusedChild_+1);this.focus(b)};c.prototype.stepBack=function(){var b=0;void 0!==this.focusedChild_&&(b=this.focusedChild_-1);this.focus(b)};c.prototype.focus=function(){var b=0>=arguments.length||void 0===arguments[0]?0:arguments[0],c=this.children();0<c.length&&(0>b?b=0:b>=c.length&&(b=c.length-1),this.focusedChild_=b,c[b].el_.focus())};return c}(k["default"]);k["default"].registerComponent("Menu",
        b);c["default"]=b;d.exports=c["default"]},{"../component.js":66,"../utils/dom.js":131,"../utils/events.js":132,"../utils/fn.js":133}],106:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&b.__esModule?b:{"default":b}}function k(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);
        b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var g=b("global/document"),m=f(g),g=b("./utils/dom"),l=h(g),g=b("./utils/fn"),n=h(g),g=b("./utils/log");f(g);g=b("./component");g=f(g);b=b("./close-button");f(b);b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.opened_=this.hasBeenOpened_=
        this.hasBeenFilled_=!1;this.closeable(!this.options_.uncloseable);this.content(this.options_.content);this.contentEl_=l.createEl("div",{className:"vjs-modal-dialog-content"},{role:"document"});this.descEl_=l.createEl("p",{className:"vjs-modal-dialog-description vjs-offscreen",id:this.el().getAttribute("aria-describedby")});l.textContent(this.descEl_,this.description());this.el_.appendChild(this.descEl_);this.el_.appendChild(this.contentEl_)}k(c,b);c.prototype.createEl=function(){return b.prototype.createEl.call(this,
        "div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})};c.prototype.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+b.prototype.buildCSSClass.call(this)};c.prototype.handleKeyPress=function(b){27===b.which&&this.closeable()&&this.close()};c.prototype.label=function(){return this.options_.label||this.localize("Modal Window")};c.prototype.description=function(){var b=this.options_.description||
        this.localize("This is a modal window.");this.closeable()&&(b+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button."));return b};c.prototype.open=function(){if(!this.opened_){var b=this.player();this.trigger("beforemodalopen");this.opened_=!0;(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill();(this.wasPlaying_=!b.paused())&&b.pause();if(this.closeable())this.on(m["default"],"keydown",n.bind(this,this.handleKeyPress));
        b.controls(!1);this.show();this.el().setAttribute("aria-hidden","false");this.trigger("modalopen");this.hasBeenOpened_=!0}return this};c.prototype.opened=function(b){if("boolean"===typeof b)this[b?"open":"close"]();return this.opened_};c.prototype.close=function(){if(this.opened_){var b=this.player();this.trigger("beforemodalclose");this.opened_=!1;this.wasPlaying_&&b.play();this.closeable()&&this.off(m["default"],"keydown",n.bind(this,this.handleKeyPress));b.controls(!0);this.hide();this.el().setAttribute("aria-hidden",
        "true");this.trigger("modalclose");this.options_.temporary&&this.dispose()}return this};c.prototype.closeable=function(b){if("boolean"===typeof b){b=this.closeable_=!!b;var c=this.getChild("closeButton");if(b&&!c){var d=this.contentEl_;this.contentEl_=this.el_;c=this.addChild("closeButton");this.contentEl_=d;this.on(c,"close",this.close)}!b&&c&&(this.off(c,"close",this.close),this.removeChild(c),c.dispose())}return this.closeable_};c.prototype.fill=function(){return this.fillWith(this.content())};
        c.prototype.fillWith=function(b){var c=this.contentEl(),d=c.parentNode,g=c.nextSibling;this.trigger("beforemodalfill");this.hasBeenFilled_=!0;d.removeChild(c);this.empty();l.insertContent(c,b);this.trigger("modalfill");g?d.insertBefore(c,g):d.appendChild(c);return this};c.prototype.empty=function(){this.trigger("beforemodalempty");l.emptyEl(this.contentEl());this.trigger("modalempty");return this};c.prototype.content=function(b){"undefined"!==typeof b&&(this.content_=b);return this.content_};return c}(g["default"]);
        b.prototype.options_={temporary:!0};g["default"].registerComponent("ModalDialog",b);c["default"]=b;d.exports=c["default"]},{"./close-button":65,"./component":66,"./utils/dom":131,"./utils/fn":133,"./utils/log":136,"global/document":1}],107:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&b.__esModule?b:{"default":b}}function k(b,c){if("function"!==typeof c&&
        null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var g=b("./component.js"),m=f(g),g=b("global/document"),l=f(g),g=b("global/window"),n=f(g),g=b("./utils/events.js"),p=h(g),g=b("./utils/dom.js"),q=h(g),g=b("./utils/fn.js"),t=h(g),g=b("./utils/guid.js"),r=h(g),g=
        b("./utils/browser.js");h(g);var g=b("./utils/log.js"),w=f(g),g=b("./utils/to-title-case.js"),v=f(g),u=b("./utils/time-ranges.js"),y=b("./utils/buffer.js"),g=b("./utils/stylesheet.js"),x=h(g),g=b("./fullscreen-api.js"),z=f(g),g=b("./media-error.js"),A=f(g),g=b("safe-json-parse/tuple"),B=f(g),g=b("object.assign"),E=f(g),g=b("./utils/merge-options.js"),D=f(g),g=b("./tracks/text-track-list-converter.js"),G=f(g),g=b("./tech/loader.js");f(g);g=b("./poster-image.js");f(g);g=b("./tracks/text-track-display.js");
        f(g);g=b("./loading-spinner.js");f(g);g=b("./big-play-button.js");f(g);g=b("./control-bar/control-bar.js");f(g);g=b("./error-display.js");f(g);g=b("./tracks/text-track-settings.js");f(g);var g=b("./modal-dialog"),I=f(g),g=b("./tech/tech.js"),C=f(g);b=b("./tech/html5.js");f(b);b=function(b){function c(d,g,f){var l=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");d.id=d.id||"vjs_video_"+r.newGUID();g=E["default"](c.getTagSettings(d),g);g.initChildren=!1;g.createEl=
            !1;g.reportTouchActivity=!1;b.call(this,null,g,f);if(!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");this.tagAttributes=(this.tag=d)&&q.getElAttributes(d);this.language(this.options_.language);g.languages?function(){var b={};Object.getOwnPropertyNames(g.languages).forEach(function(c){b[c.toLowerCase()]=g.languages[c]});l.languages_=b}():this.languages_=
            c.prototype.options_.languages;this.cache_={};this.poster_=g.poster||"";this.controls_=!!g.controls;this.scrubbing_=d.controls=!1;this.el_=this.createEl();f=D["default"](this.options_);g.plugins&&function(){var b=g.plugins;Object.getOwnPropertyNames(b).forEach(function(c){if("function"===typeof this[c])this[c](b[c]);else w["default"].error("Unable to find plugin:",c)},l)}();this.options_.playerOptions=f;this.initChildren();this.isAudio("audio"===d.nodeName.toLowerCase());this.controls()?this.addClass("vjs-controls-enabled"):
            this.addClass("vjs-controls-disabled");this.isAudio()&&this.addClass("vjs-audio");this.flexNotSupported_()&&this.addClass("vjs-no-flex");c.players[this.id_]=this;this.userActive(!0);this.reportUserActivity();this.listenForUserActivity_();this.on("fullscreenchange",this.handleFullscreenChange_);this.on("stageclick",this.handleStageClick_)}k(c,b);c.prototype.dispose=function(){this.trigger("dispose");this.off("dispose");this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_);
            c.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);this.el_&&this.el_.player&&(this.el_.player=null);this.tech_&&this.tech_.dispose();b.prototype.dispose.call(this)};c.prototype.createEl=function(){var c=this.el_=b.prototype.createEl.call(this,"div"),d=this.tag;d.removeAttribute("width");d.removeAttribute("height");var g=q.getElAttributes(d);Object.getOwnPropertyNames(g).forEach(function(b){"class"===b?c.className=g[b]:c.setAttribute(b,g[b])});d.playerId=d.id;d.id+="_html5_api";
            d.className="vjs-tech";d.player=c.player=this;this.addClass("vjs-paused");this.styleEl_=x.createStyleElement("vjs-styles-dimensions");var f=q.$(".vjs-styles-defaults"),l=q.$("head");l.insertBefore(this.styleEl_,f?f.nextSibling:l.firstChild);this.width(this.options_.width);this.height(this.options_.height);this.fluid(this.options_.fluid);this.aspectRatio(this.options_.aspectRatio);d.initNetworkState_=d.networkState;d.parentNode&&d.parentNode.insertBefore(c,d);q.insertElFirst(d,c);this.children_.unshift(d);
            return this.el_=c};c.prototype.width=function(b){return this.dimension("width",b)};c.prototype.height=function(b){return this.dimension("height",b)};c.prototype.dimension=function(b,c){var d=b+"_";if(void 0===c)return this[d]||0;if(""===c)this[d]=void 0;else{var g=parseFloat(c);if(isNaN(g))return w["default"].error('Improper value "'+c+'" supplied for for '+b),this;this[d]=g}this.updateStyleEl_();return this};c.prototype.fluid=function(b){if(void 0===b)return!!this.fluid_;this.fluid_=!!b;b?this.addClass("vjs-fluid"):
            this.removeClass("vjs-fluid")};c.prototype.aspectRatio=function(b){if(void 0===b)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(b))throw Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=b;this.fluid(!0);this.updateStyleEl_()};c.prototype.updateStyleEl_=function(){var b=void 0,c=void 0,d=b=void 0,b=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()?this.videoWidth()+":"+this.videoHeight():
            "16:9",b=b.split(":"),g=b[1]/b[0],b=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/g:this.videoWidth()||300,c=void 0!==this.height_?this.height_:b*g,d=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions";this.addClass(d);x.setTextContent(this.styleEl_,"\n      ."+d+" {\n        width: "+b+"px;\n        height: "+c+"px;\n      }\n\n      ."+d+".vjs-fluid {\n        padding-top: "+100*g+"%;\n      }\n    ")};c.prototype.loadTech_=function(b,c){this.tech_&&
        this.unloadTech_();"Html5"!==b&&this.tag&&(C["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag=this.tag.player=null);this.techName_=b;this.isReady_=!1;var d=E["default"]({nativeControlsForTouch:this.options_.nativeControlsForTouch,source:c,playerId:this.id(),techId:this.id()+"_"+b+"_api",textTracks:this.textTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"]},
            this.options_[b.toLowerCase()]);this.tag&&(d.tag=this.tag);c&&(this.currentType_=c.type,c.src===this.cache_.src&&0<this.cache_.currentTime&&(d.startTime=this.cache_.currentTime),this.cache_.src=c.src);var g=C["default"].getTech(b);g||(g=m["default"].getComponent(b));this.tech_=new g(d);this.tech_.ready(t.bind(this,this.handleTechReady_),!0);G["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_);this.on(this.tech_,"loadstart",this.handleTechLoadStart_);this.on(this.tech_,"waiting",this.handleTechWaiting_);
            this.on(this.tech_,"canplay",this.handleTechCanPlay_);this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_);this.on(this.tech_,"playing",this.handleTechPlaying_);this.on(this.tech_,"ended",this.handleTechEnded_);this.on(this.tech_,"seeking",this.handleTechSeeking_);this.on(this.tech_,"seeked",this.handleTechSeeked_);this.on(this.tech_,"play",this.handleTechPlay_);this.on(this.tech_,"firstplay",this.handleTechFirstPlay_);this.on(this.tech_,"pause",this.handleTechPause_);this.on(this.tech_,
                "progress",this.handleTechProgress_);this.on(this.tech_,"durationchange",this.handleTechDurationChange_);this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_);this.on(this.tech_,"error",this.handleTechError_);this.on(this.tech_,"suspend",this.handleTechSuspend_);this.on(this.tech_,"abort",this.handleTechAbort_);this.on(this.tech_,"emptied",this.handleTechEmptied_);this.on(this.tech_,"stalled",this.handleTechStalled_);this.on(this.tech_,"loadedmetadata",this.handleTechLoadedMetaData_);
            this.on(this.tech_,"loadeddata",this.handleTechLoadedData_);this.on(this.tech_,"timeupdate",this.handleTechTimeUpdate_);this.on(this.tech_,"ratechange",this.handleTechRateChange_);this.on(this.tech_,"volumechange",this.handleTechVolumeChange_);this.on(this.tech_,"texttrackchange",this.handleTechTextTrackChange_);this.on(this.tech_,"loadedmetadata",this.updateStyleEl_);this.on(this.tech_,"posterchange",this.handleTechPosterChange_);this.usingNativeControls(this.techGet_("controls"));this.controls()&&
            !this.usingNativeControls()&&this.addTechControlsListeners_();this.tech_.el().parentNode===this.el()||"Html5"===b&&this.tag||q.insertElFirst(this.tech_.el(),this.el());this.tag&&(this.tag=this.tag.player=null)};c.prototype.unloadTech_=function(){this.textTracks_=this.textTracks();this.textTracksJson_=G["default"].textTracksToJson(this.tech_);this.isReady_=!1;this.tech_.dispose();this.tech_=!1};c.prototype.tech=function(b){if(b&&b.IWillNotUseThisInPlugins)return this.tech_;n["default"].alert("\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ");
            throw Error("\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ");};c.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_();this.on(this.tech_,"mousedown",this.handleTechClick_);this.on(this.tech_,"touchstart",this.handleTechTouchStart_);this.on(this.tech_,
            "touchmove",this.handleTechTouchMove_);this.on(this.tech_,"touchend",this.handleTechTouchEnd_);this.on(this.tech_,"tap",this.handleTechTap_)};c.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_);this.off(this.tech_,"touchstart",this.handleTechTouchStart_);this.off(this.tech_,"touchmove",this.handleTechTouchMove_);this.off(this.tech_,"touchend",this.handleTechTouchEnd_);this.off(this.tech_,"mousedown",this.handleTechClick_)};c.prototype.handleTechReady_=
            function(){this.triggerReady();this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume);this.handleTechPosterChange_();this.handleTechDurationChange_();this.src()&&this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())};c.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended");this.error(null);this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))};c.prototype.hasStarted=function(b){return void 0!==
        b?(this.hasStarted_!==b&&((this.hasStarted_=b)?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_};c.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(!0);this.trigger("play")};c.prototype.handleTechWaiting_=function(){this.addClass("vjs-waiting");this.trigger("waiting")};c.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting");
            this.trigger("canplay")};c.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")};c.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting");this.trigger("playing")};c.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking");this.trigger("seeking")};c.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking");this.trigger("seeked")};c.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime);
            this.addClass("vjs-has-started");this.trigger("firstplay")};c.prototype.handleTechPause_=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.trigger("pause")};c.prototype.handleTechProgress_=function(){this.trigger("progress")};c.prototype.handleTechEnded_=function(){this.addClass("vjs-ended");this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause();this.trigger("ended")};c.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))};
            c.prototype.handleTechClick_=function(b){0===b.button&&this.controls()&&(this.paused()?this.play():this.pause())};c.prototype.handleTechTap_=function(){this.userActive(!this.userActive())};c.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()};c.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()};c.prototype.handleTechTouchEnd_=function(b){b.preventDefault()};c.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):
                this.removeClass("vjs-fullscreen")};c.prototype.handleStageClick_=function(){this.reportUserActivity()};c.prototype.handleTechFullscreenChange_=function(b,c){c&&this.isFullscreen(c.isFullscreen);this.trigger("fullscreenchange")};c.prototype.handleTechError_=function(){var b=this.tech_.error();this.error(b&&b.code)};c.prototype.handleTechSuspend_=function(){this.trigger("suspend")};c.prototype.handleTechAbort_=function(){this.trigger("abort")};c.prototype.handleTechEmptied_=function(){this.trigger("emptied")};
            c.prototype.handleTechStalled_=function(){this.trigger("stalled")};c.prototype.handleTechLoadedMetaData_=function(){this.trigger("loadedmetadata")};c.prototype.handleTechLoadedData_=function(){this.trigger("loadeddata")};c.prototype.handleTechTimeUpdate_=function(){this.trigger("timeupdate")};c.prototype.handleTechRateChange_=function(){this.trigger("ratechange")};c.prototype.handleTechVolumeChange_=function(){this.trigger("volumechange")};c.prototype.handleTechTextTrackChange_=function(){this.trigger("texttrackchange")};
            c.prototype.getCache=function(){return this.cache_};c.prototype.techCall_=function(b,c){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[b](c)},!0);else try{this.tech_[b](c)}catch(d){throw w["default"](d),d;}};c.prototype.techGet_=function(b){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[b]()}catch(c){if(void 0===this.tech_[b])w["default"]("Video.js: "+b+" method not defined for "+this.techName_+" playback technology.",c);else if("TypeError"===c.name)w["default"]("Video.js: "+
                b+" unavailable on "+this.techName_+" playback technology element.",c),this.tech_.isReady_=!1;else w["default"](c);throw c;}};c.prototype.play=function(){this.techCall_("play");return this};c.prototype.pause=function(){this.techCall_("pause");return this};c.prototype.paused=function(){return!1===this.techGet_("paused")?!1:!0};c.prototype.scrubbing=function(b){return void 0!==b?(this.scrubbing_=!!b,b?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_};c.prototype.currentTime=
                function(b){return void 0!==b?(this.techCall_("setCurrentTime",b),this):this.cache_.currentTime=this.techGet_("currentTime")||0};c.prototype.duration=function(b){if(void 0===b)return this.cache_.duration||0;b=parseFloat(b)||0;0>b&&(b=Infinity);b!==this.cache_.duration&&(this.cache_.duration=b,Infinity===b?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"));return this};c.prototype.remainingTime=function(){return this.duration()-this.currentTime()};c.prototype.buffered=
                function(){var b=this.techGet_("buffered");b&&b.length||(b=u.createTimeRange(0,0));return b};c.prototype.bufferedPercent=function(){return y.bufferedPercent(this.buffered(),this.duration())};c.prototype.bufferedEnd=function(){var b=this.buffered(),c=this.duration(),b=b.end(b.length-1);b>c&&(b=c);return b};c.prototype.volume=function(b){var c=void 0;if(void 0!==b)return c=Math.max(0,Math.min(1,parseFloat(b))),this.cache_.volume=c,this.techCall_("setVolume",c),this;c=parseFloat(this.techGet_("volume"));
                return isNaN(c)?1:c};c.prototype.muted=function(b){return void 0!==b?(this.techCall_("setMuted",b),this):this.techGet_("muted")||!1};c.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1};c.prototype.isFullscreen=function(b){return void 0!==b?(this.isFullscreen_=!!b,this):!!this.isFullscreen_};c.prototype.requestFullscreen=function(){var b=z["default"];this.isFullscreen(!0);b.requestFullscreen?(p.on(l["default"],b.fullscreenchange,t.bind(this,function N(c){this.isFullscreen(l["default"][b.fullscreenElement]);
                !1===this.isFullscreen()&&p.off(l["default"],b.fullscreenchange,N);this.trigger("fullscreenchange")})),this.el_[b.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"));return this};c.prototype.exitFullscreen=function(){var b=z["default"];this.isFullscreen(!1);if(b.requestFullscreen)l["default"][b.exitFullscreen]();else this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),
                this.trigger("fullscreenchange"));return this};c.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=l["default"].documentElement.style.overflow;p.on(l["default"],"keydown",t.bind(this,this.fullWindowOnEscKey));l["default"].documentElement.style.overflow="hidden";q.addElClass(l["default"].body,"vjs-full-window");this.trigger("enterFullWindow")};c.prototype.fullWindowOnEscKey=function(b){27===b.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())};
            c.prototype.exitFullWindow=function(){this.isFullWindow=!1;p.off(l["default"],"keydown",this.fullWindowOnEscKey);l["default"].documentElement.style.overflow=this.docOrigOverflow;q.removeElClass(l["default"].body,"vjs-full-window");this.trigger("exitFullWindow")};c.prototype.canPlayType=function(b){for(var c=void 0,d=0,g=this.options_.techOrder;d<g.length;d++){var c=v["default"](g[d]),f=C["default"].getTech(c);f||(f=m["default"].getComponent(c));if(!f)w["default"].error('The "'+c+'" tech is undefined. Skipped browser support check for that tech.');
            else if(f.isSupported()&&(c=f.canPlayType(b)))return c}return""};c.prototype.selectSource=function(b){var c=this.options_.techOrder.map(v["default"]).map(function(b){return[b,C["default"].getTech(b)||m["default"].getComponent(b)]}).filter(function(b){var c=b[0];if(b=b[1])return b.isSupported();w["default"].error('The "'+c+'" tech is undefined. Skipped browser support check for that tech.');return!1}),d=function(b,c,d){var g=void 0;b.some(function(b){return c.some(function(c){if(g=d(b,c))return!0})});
                return g},g=void 0,g=function(b){return function(c,d){return b(d,c)}},f=function(b,c){var d=b[0];if(b[1].canPlaySource(c))return{source:c,tech:d}};return(g=this.options_.sourceOrder?d(b,c,g(f)):d(c,b,f))||!1};c.prototype.src=function(b){if(void 0===b)return this.techGet_("src");var c=C["default"].getTech(this.techName_);c||(c=m["default"].getComponent(this.techName_));Array.isArray(b)?this.sourceList_(b):"string"===typeof b?this.src({src:b}):b instanceof Object&&(b.type&&!c.canPlaySource(b)?this.sourceList_([b]):
                (this.cache_.src=b.src,this.currentType_=b.type||"",this.ready(function(){c.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",b):this.techCall_("src",b.src);"auto"===this.options_.preload&&this.load();this.options_.autoplay&&this.play()},!0)));return this};c.prototype.sourceList_=function(b){(b=this.selectSource(b))?b.tech===this.techName_?this.src(b.source):this.loadTech_(b.tech,b.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},
                0),this.triggerReady())};c.prototype.load=function(){this.techCall_("load");return this};c.prototype.reset=function(){this.loadTech_(v["default"](this.options_.techOrder[0]),null);this.techCall_("reset");return this};c.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""};c.prototype.currentType=function(){return this.currentType_||""};c.prototype.preload=function(b){return void 0!==b?(this.techCall_("setPreload",b),this.options_.preload=b,this):this.techGet_("preload")};
            c.prototype.autoplay=function(b){return void 0!==b?(this.techCall_("setAutoplay",b),this.options_.autoplay=b,this):this.techGet_("autoplay",b)};c.prototype.loop=function(b){return void 0!==b?(this.techCall_("setLoop",b),this.options_.loop=b,this):this.techGet_("loop")};c.prototype.poster=function(b){if(void 0===b)return this.poster_;b||(b="");this.poster_=b;this.techCall_("setPoster",b);this.trigger("posterchange");return this};c.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&
            this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))};c.prototype.controls=function(b){return void 0!==b?(b=!!b,this.controls_!==b&&(this.controls_=b,this.usingNativeControls()&&this.techCall_("setControls",b),b?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),
                this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_};c.prototype.usingNativeControls=function(b){return void 0!==b?(b=!!b,this.usingNativeControls_!==b&&((this.usingNativeControls_=b)?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_};c.prototype.error=function(b){if(void 0===b)return this.error_||
                null;if(null===b)return this.error_=b,this.removeClass("vjs-error"),this.errorDisplay.close(),this;this.error_=b instanceof A["default"]?b:new A["default"](b);this.addClass("vjs-error");w["default"].error("(CODE:"+this.error_.code+" "+A["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_);this.trigger("error");return this};c.prototype.ended=function(){return this.techGet_("ended")};c.prototype.seeking=function(){return this.techGet_("seeking")};c.prototype.seekable=function(){return this.techGet_("seekable")};
            c.prototype.reportUserActivity=function(b){this.userActivity_=!0};c.prototype.userActive=function(b){if(void 0!==b){b=!!b;if(b!==this.userActive_)if(this.userActive_=b)this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");else{this.userActivity_=!1;if(this.tech_)this.tech_.one("mousemove",function(b){b.stopPropagation();b.preventDefault()});this.removeClass("vjs-user-active");this.addClass("vjs-user-inactive");this.trigger("userinactive")}return this}return this.userActive_};
            c.prototype.listenForUserActivity_=function(){var b=void 0,c=void 0,d=void 0,g=t.bind(this,this.reportUserActivity);this.on("mousedown",function(){g();this.clearInterval(b);b=this.setInterval(g,250)});this.on("mousemove",function(b){if(b.screenX!==c||b.screenY!==d)c=b.screenX,d=b.screenY,g()});this.on("mouseup",function(c){g();this.clearInterval(b)});this.on("keydown",g);this.on("keyup",g);var f=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1;this.userActive(!0);this.clearTimeout(f);
                var b=this.options_.inactivityTimeout;0<b&&(f=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},b))}},250)};c.prototype.playbackRate=function(b){return void 0!==b?(this.techCall_("setPlaybackRate",b),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1};c.prototype.isAudio=function(b){return void 0!==b?(this.isAudio_=!!b,this):!!this.isAudio_};c.prototype.networkState=function(){return this.techGet_("networkState")};c.prototype.readyState=function(){return this.techGet_("readyState")};
            c.prototype.textTracks=function(){return this.tech_&&this.tech_.textTracks()};c.prototype.remoteTextTracks=function(){return this.tech_&&this.tech_.remoteTextTracks()};c.prototype.remoteTextTrackEls=function(){return this.tech_&&this.tech_.remoteTextTrackEls()};c.prototype.addTextTrack=function(b,c,d){return this.tech_&&this.tech_.addTextTrack(b,c,d)};c.prototype.addRemoteTextTrack=function(b){return this.tech_&&this.tech_.addRemoteTextTrack(b)};c.prototype.removeRemoteTextTrack=function(b){this.tech_&&
            this.tech_.removeRemoteTextTrack(b)};c.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0};c.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0};c.prototype.language=function(b){if(void 0===b)return this.language_;this.language_=(""+b).toLowerCase();return this};c.prototype.languages=function(){return D["default"](c.prototype.options_.languages,this.languages_)};c.prototype.toJSON=function(){var b=
                D["default"](this.options_),c=b.tracks;b.tracks=[];for(var d=0;d<c.length;d++){var g=c[d],g=D["default"](g);g.player=void 0;b.tracks[d]=g}return b};c.prototype.createModal=function(b,c){var d=this;c=c||{};c.content=b||"";var g=new I["default"](d,c);d.addChild(g);g.on("dispose",function(){d.removeChild(g)});return g.open()};c.getTagSettings=function(b){var c={sources:[],tracks:[]},d=q.getElAttributes(b),g=d["data-setup"];if(null!==g){var f=B["default"](g||"{}"),g=f[0],f=f[1];g&&w["default"].error(g);
                E["default"](d,f)}E["default"](c,d);if(b.hasChildNodes())for(b=b.childNodes,d=0,g=b.length;d<g;d++){var f=b[d],l=f.nodeName.toLowerCase();"source"===l?c.sources.push(q.getElAttributes(f)):"track"===l&&c.tracks.push(q.getElAttributes(f))}return c};return c}(m["default"]);b.players={};g=n["default"].navigator;b.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2E3,playbackRates:[],children:"mediaLoader posterImage textTrackDisplay loadingSpinner bigPlayButton controlBar errorDisplay textTrackSettings".split(" "),
            language:l["default"].getElementsByTagName("html")[0].getAttribute("lang")||g.languages&&g.languages[0]||g.userLanguage||g.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."};b.prototype.flexNotSupported_=function(){var b=l["default"].createElement("i");return!("flexBasis"in b.style||"webkitFlexBasis"in b.style||"mozFlexBasis"in b.style||"msFlexBasis"in b.style||"msFlexOrder"in b.style)};m["default"].registerComponent("Player",b);c["default"]=b;d.exports=
            c["default"]},{"./big-play-button.js":62,"./component.js":66,"./control-bar/control-bar.js":67,"./error-display.js":97,"./fullscreen-api.js":100,"./loading-spinner.js":101,"./media-error.js":102,"./modal-dialog":106,"./poster-image.js":111,"./tech/html5.js":116,"./tech/loader.js":117,"./tech/tech.js":118,"./tracks/text-track-display.js":122,"./tracks/text-track-list-converter.js":124,"./tracks/text-track-settings.js":126,"./utils/browser.js":128,"./utils/buffer.js":129,"./utils/dom.js":131,"./utils/events.js":132,
        "./utils/fn.js":133,"./utils/guid.js":135,"./utils/log.js":136,"./utils/merge-options.js":137,"./utils/stylesheet.js":138,"./utils/time-ranges.js":139,"./utils/to-title-case.js":140,"global/document":1,"global/window":2,"object.assign":45,"safe-json-parse/tuple":53}],108:[function(b,d,c){c.__esModule=!0;var h=(b=b("./player.js"))&&b.__esModule?b:{"default":b};c["default"]=function(b,c){h["default"].prototype[b]=c};d.exports=c["default"]},{"./player.js":107}],109:[function(b,d,c){function h(b){if(b&&
        b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&b.__esModule?b:{"default":b}}function k(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=
        c)}c.__esModule=!0;var g=b("../clickable-component.js"),g=f(g),m=b("../component.js"),m=f(m),l=b("./popup.js");f(l);l=b("../utils/dom.js");h(l);l=b("../utils/fn.js");h(l);b=b("../utils/to-title-case.js");f(b);b=function(b){function c(d){var g=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.update()}k(c,b);c.prototype.update=function(){var b=this.createPopup();this.popup&&this.removeChild(this.popup);
        this.popup=b;this.addChild(b);this.items&&0===this.items.length?this.hide():this.items&&1<this.items.length&&this.show()};c.prototype.createPopup=function(){};c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};c.prototype.buildCSSClass=function(){var c="vjs-menu-button",c=!0===this.options_.inline?c+"-inline":c+"-popup";return"vjs-menu-button "+c+" "+b.prototype.buildCSSClass.call(this)};return c}(g["default"]);m["default"].registerComponent("PopupButton",
        b);c["default"]=b;d.exports=c["default"]},{"../clickable-component.js":64,"../component.js":66,"../utils/dom.js":131,"../utils/fn.js":133,"../utils/to-title-case.js":140,"./popup.js":110}],110:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);
        b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("../component.js"),k=k&&k.__esModule?k:{"default":k},g=b("../utils/dom.js"),m=h(g),g=b("../utils/fn.js"),l=h(g);b=b("../utils/events.js");var n=h(b);b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.apply(this,arguments)}f(c,b);c.prototype.addItem=
        function(b){this.addChild(b);b.on("click",l.bind(this,function(){this.unlockShowing()}))};c.prototype.createEl=function(){this.contentEl_=m.createEl(this.options_.contentElType||"ul",{className:"vjs-menu-content"});var c=b.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});c.appendChild(this.contentEl_);n.on(c,"click",function(b){b.preventDefault();b.stopImmediatePropagation()});return c};return c}(k["default"]);k["default"].registerComponent("Popup",b);c["default"]=
        b;d.exports=c["default"]},{"../component.js":66,"../utils/dom.js":131,"../utils/events.js":132,"../utils/fn.js":133}],111:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,
        writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("./clickable-component.js"),k=k&&k.__esModule?k:{"default":k},g=b("./component.js"),g=g&&g.__esModule?g:{"default":g},m=b("./utils/fn.js"),l=h(m),m=b("./utils/dom.js"),n=h(m);b=b("./utils/browser.js");var p=h(b);b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.update();d.on("posterchange",l.bind(this,
        this.update))}f(c,b);c.prototype.dispose=function(){this.player().off("posterchange",this.update);b.prototype.dispose.call(this)};c.prototype.createEl=function(){var b=n.createEl("div",{className:"vjs-poster",tabIndex:-1});p.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=n.createEl("img"),b.appendChild(this.fallbackImg_));return b};c.prototype.update=function(){var b=this.player().poster();this.setSrc(b);b?this.show():this.hide()};c.prototype.setSrc=function(b){if(this.fallbackImg_)this.fallbackImg_.src=
        b;else{var c="";b&&(c='url("'+b+'")');this.el_.style.backgroundImage=c}};c.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()};return c}(k["default"]);g["default"].registerComponent("PosterImage",b);c["default"]=b;d.exports=c["default"]},{"./clickable-component.js":64,"./component.js":66,"./utils/browser.js":128,"./utils/dom.js":131,"./utils/fn.js":133}],112:[function(b,d,c){c.__esModule=!0;d=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,
        d)&&(c[d]=b[d]);c["default"]=b;return c}(b("./utils/events.js"));var h=b("global/document"),f=h&&h.__esModule?h:{"default":h};b=(b=b("global/window"))&&b.__esModule?b:{"default":b};var k=!1,g=void 0,m=function(){var b=f["default"].getElementsByTagName("video"),c=f["default"].getElementsByTagName("audio"),d=[];if(b&&0<b.length)for(var h=0,m=b.length;h<m;h++)d.push(b[h]);if(c&&0<c.length)for(h=0,m=c.length;h<m;h++)d.push(c[h]);if(d&&0<d.length)for(h=0,m=d.length;h<m;h++)if((b=d[h])&&b.getAttribute)void 0===
    b.player&&null!==b.getAttribute("data-setup")&&g(b);else{l(1);break}else k||l(1)},l=function(b,c){g=c;setTimeout(m,b)};if("complete"===f["default"].readyState)k=!0;else d.one(b["default"],"load",function(){k=!0});c.autoSetup=m;c.autoSetupTimeout=l;c.hasLoaded=function(){return k}},{"./utils/events.js":132,"global/document":1,"global/window":2}],113:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
        typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("../component.js"),k=h(k),g=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../utils/dom.js")),m=b("global/document"),l=h(m);b=b("object.assign");var n=h(b);b=function(b){function c(d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.bar=this.getChild(this.options_.barName);this.vertical(!!this.options_.vertical);this.on("mousedown",this.handleMouseDown);this.on("touchstart",this.handleMouseDown);this.on("focus",this.handleFocus);this.on("blur",this.handleBlur);this.on("click",this.handleClick);this.on(d,"controlsvisible",this.update);this.on(d,this.playerEvent,this.update)}f(c,b);c.prototype.createEl=function(c){var d=1>=
    arguments.length||void 0===arguments[1]?{}:arguments[1],g=2>=arguments.length||void 0===arguments[2]?{}:arguments[2];d.className+=" vjs-slider";d=n["default"]({tabIndex:0},d);g=n["default"]({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},g);return b.prototype.createEl.call(this,c,d,g)};c.prototype.handleMouseDown=function(b){b.preventDefault();g.blockTextSelection();this.addClass("vjs-sliding");this.trigger("slideractive");this.on(l["default"],"mousemove",this.handleMouseMove);
        this.on(l["default"],"mouseup",this.handleMouseUp);this.on(l["default"],"touchmove",this.handleMouseMove);this.on(l["default"],"touchend",this.handleMouseUp);this.handleMouseMove(b)};c.prototype.handleMouseMove=function(){};c.prototype.handleMouseUp=function(){g.unblockTextSelection();this.removeClass("vjs-sliding");this.trigger("sliderinactive");this.off(l["default"],"mousemove",this.handleMouseMove);this.off(l["default"],"mouseup",this.handleMouseUp);this.off(l["default"],"touchmove",this.handleMouseMove);
        this.off(l["default"],"touchend",this.handleMouseUp);this.update()};c.prototype.update=function(){if(this.el_){var b=this.getPercent(),c=this.bar;if(c){if("number"!==typeof b||b!==b||0>b||Infinity===b)b=0;b=(100*b).toFixed(2)+"%";this.vertical()?c.el().style.height=b:c.el().style.width=b}}};c.prototype.calculateDistance=function(b){b=g.getPointerPosition(this.el_,b);return this.vertical()?b.y:b.x};c.prototype.handleFocus=function(){this.on(l["default"],"keydown",this.handleKeyPress)};c.prototype.handleKeyPress=
        function(b){if(37===b.which||40===b.which)b.preventDefault(),this.stepBack();else if(38===b.which||39===b.which)b.preventDefault(),this.stepForward()};c.prototype.handleBlur=function(){this.off(l["default"],"keydown",this.handleKeyPress)};c.prototype.handleClick=function(b){b.stopImmediatePropagation();b.preventDefault()};c.prototype.vertical=function(b){if(void 0===b)return this.vertical_||!1;(this.vertical_=!!b)?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal");return this};
        return c}(k["default"]);k["default"].registerComponent("Slider",b);c["default"]=b;d.exports=c["default"]},{"../component.js":66,"../utils/dom.js":131,"global/document":1,"object.assign":45}],114:[function(b,d,c){c.__esModule=!0;c["default"]=function(b){b.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"};b.streamFromParts=function(b,c){return b+"&"+c};b.streamToParts=function(b){var c={connection:"",stream:""};if(!b)return c;var d=b.search(/&(?!\w+=)/),h=void 0;-1!==d?h=d+1:(d=h=b.lastIndexOf("/")+
        1,0===d&&(d=h=b.length));c.connection=b.substring(0,d);c.stream=b.substring(h,b.length);return c};b.isStreamingType=function(c){return c in b.streamingFormats};b.RTMP_RE=/^rtmp[set]?:\/\//i;b.isStreamingSrc=function(c){return b.RTMP_RE.test(c)};b.rtmpSourceHandler={};b.rtmpSourceHandler.canPlayType=function(c){return b.isStreamingType(c)?"maybe":""};b.rtmpSourceHandler.canHandleSource=function(c){var d=b.rtmpSourceHandler.canPlayType(c.type);return d?d:b.isStreamingSrc(c.src)?"maybe":""};b.rtmpSourceHandler.handleSource=
        function(c,d){var g=b.streamToParts(c.src);d.setRtmpConnection(g.connection);d.setRtmpStream(g.stream)};b.registerSourceHandler(b.rtmpSourceHandler);return b};d.exports=c["default"]},{}],115:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&b.__esModule?b:{"default":b}}function k(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
        typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}function g(b){var c=b.charAt(0).toUpperCase()+b.slice(1);z["set"+c]=function(c){return this.el_.vjs_setProperty(b,c)}}function m(b){z[b]=function(){return this.el_.vjs_getProperty(b)}}c.__esModule=!0;var l=b("./tech"),l=f(l),n=b("../utils/dom.js"),p=h(n),n=b("../utils/url.js"),q=h(n),t=b("../utils/time-ranges.js"),
        n=b("./flash-rtmp"),n=f(n),r=b("../component"),r=f(r),w=b("global/window"),v=f(w);b=b("object.assign");var u=f(b),y=v["default"].navigator,x=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);d.source&&this.ready(function(){this.setSource(d.source)},!0);d.startTime&&this.ready(function(){this.load();this.play();this.currentTime(d.startTime)},!0);v["default"].videojs=v["default"].videojs||{};v["default"].videojs.Flash=v["default"].videojs.Flash||
        {};v["default"].videojs.Flash.onReady=c.onReady;v["default"].videojs.Flash.onEvent=c.onEvent;v["default"].videojs.Flash.onError=c.onError;this.on("seeked",function(){this.lastSeekTarget_=void 0})}k(c,b);c.prototype.createEl=function(){var b=this.options_;b.swf||(b.swf="//vjs.zencdn.net/swf/5.0.1/video-js.swf");var d=b.techId,g=u["default"]({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:b.autoplay,preload:b.preload,
        loop:b.loop,muted:b.muted},b.flashVars),f=u["default"]({wmode:"opaque",bgcolor:"#000000"},b.params),d=u["default"]({id:d,name:d,"class":"vjs-tech"},b.attributes);this.el_=c.embed(b.swf,g,f,d);this.el_.tech=this;return this.el_};c.prototype.play=function(){this.ended()&&this.setCurrentTime(0);this.el_.vjs_play()};c.prototype.pause=function(){this.el_.vjs_pause()};c.prototype.src=function(b){return void 0===b?this.currentSrc():this.setSrc(b)};c.prototype.setSrc=function(b){b=q.getAbsoluteURL(b);this.el_.vjs_src(b);
        if(this.autoplay()){var c=this;this.setTimeout(function(){c.play()},0)}};c.prototype.seeking=function(){return void 0!==this.lastSeekTarget_};c.prototype.setCurrentTime=function(c){var d=this.seekable();d.length&&(c=c>d.start(0)?c:d.start(0),this.lastSeekTarget_=c=c<d.end(d.length-1)?c:d.end(d.length-1),this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",c),b.prototype.setCurrentTime.call(this))};c.prototype.currentTime=function(b){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")};
        c.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")};c.prototype.load=function(){this.el_.vjs_load()};c.prototype.poster=function(){this.el_.vjs_getProperty("poster")};c.prototype.setPoster=function(){};c.prototype.seekable=function(){var b=this.duration();return 0===b?t.createTimeRange():t.createTimeRange(0,b)};c.prototype.buffered=function(){var b=this.el_.vjs_getProperty("buffered");return 0===b.length?t.createTimeRange():
            t.createTimeRange(b[0][0],b[0][1])};c.prototype.supportsFullScreen=function(){return!1};c.prototype.enterFullScreen=function(){return!1};return c}(l["default"]),z=x.prototype;b="rtmpConnection rtmpStream preload defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" ");for(var w="networkState readyState initialTime duration startOffsetTime paused ended videoTracks audioTracks videoWidth videoHeight".split(" "),A=0;A<b.length;A++)m(b[A]),g(b[A]);
        for(A=0;A<w.length;A++)m(w[A]);x.isSupported=function(){return 10<=x.version()[0]};l["default"].withSourceHandlers(x);x.nativeSourceHandler={};x.nativeSourceHandler.canPlayType=function(b){return b in x.formats?"maybe":""};x.nativeSourceHandler.canHandleSource=function(b){b=b.type?b.type.replace(/;.*/,"").toLowerCase():(b=q.getFileExtension(b.src))?"video/"+b:"";return x.nativeSourceHandler.canPlayType(b)};x.nativeSourceHandler.handleSource=function(b,c){c.setSrc(b.src)};x.nativeSourceHandler.dispose=
            function(){};x.registerSourceHandler(x.nativeSourceHandler);x.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};x.onReady=function(b){(b=(b=p.getEl(b))&&b.tech)&&b.el()&&x.checkReady(b)};x.checkReady=function(b){b.el()&&(b.el().vjs_getProperty?b.triggerReady():this.setTimeout(function(){x.checkReady(b)},50))};x.onEvent=function(b,c){p.getEl(b).tech.trigger(c)};x.onError=function(b,c){var d=p.getEl(b).tech;if("srcnotfound"===c)return d.error(4);d.error("FLASH: "+c)};
        x.version=function(){var b="0,0,0";try{b=(new v["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(c){try{y.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(b=(y.plugins["Shockwave Flash 2.0"]||y.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(d){}}return b.split(",")};x.embed=function(b,c,d,g){b=x.getEmbedCode(b,c,d,g);return p.createEl("div",{innerHTML:b}).childNodes[0]};
        x.getEmbedCode=function(b,c,d,g){var f="",l="",h="";c&&Object.getOwnPropertyNames(c).forEach(function(b){f+=b+"="+c[b]+"&amp;"});d=u["default"]({movie:b,flashvars:f,allowScriptAccess:"always",allowNetworking:"all"},d);Object.getOwnPropertyNames(d).forEach(function(b){l+='<param name="'+b+'" value="'+d[b]+'" />'});g=u["default"]({data:b,width:"100%",height:"100%"},g);Object.getOwnPropertyNames(g).forEach(function(b){h+=b+'="'+g[b]+'" '});return'<object type="application/x-shockwave-flash" '+h+">"+
            l+"</object>"};n["default"](x);r["default"].registerComponent("Flash",x);l["default"].registerTech("Flash",x);c["default"]=x;d.exports=c["default"]},{"../component":66,"../utils/dom.js":131,"../utils/time-ranges.js":139,"../utils/url.js":141,"./flash-rtmp":114,"./tech":118,"global/window":2,"object.assign":45}],116:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&
    b.__esModule?b:{"default":b}}function k(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var g=b("./tech.js"),g=f(g),m=b("../component"),m=f(m),l=b("../utils/dom.js"),n=h(l),l=b("../utils/url.js"),p=h(l),l=b("../utils/fn.js"),q=h(l),
        l=b("../utils/log.js"),t=f(l),l=b("../utils/browser.js"),r=h(l),l=b("global/document"),w=f(l),l=b("global/window"),v=f(l),l=b("object.assign"),u=f(l);b=b("../utils/merge-options.js");var y=f(b),x=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);var f=d.source;f&&(this.el_.currentSrc!==f.src||d.tag&&3===d.tag.initNetworkState_)?this.setSource(f):this.handleLateInit_(this.el_);if(this.el_.hasChildNodes()){for(var l=this.el_.childNodes,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    h=l.length,f=[];h--;){var m=l[h];"track"===m.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(m),this.remoteTextTracks().addTrack_(m.track)):f.push(m))}for(l=0;l<f.length;l++)this.el_.removeChild(f[l])}this.featuresNativeTextTracks&&(this.handleTextTrackChange_=q.bind(this,this.handleTextTrackChange),this.handleTextTrackAdd_=q.bind(this,this.handleTextTrackAdd),this.handleTextTrackRemove_=q.bind(this,this.handleTextTrackRemove),this.proxyNativeTextTracks_());
        (r.TOUCH_ENABLED&&!0===d.nativeControlsForTouch||r.IS_IPHONE||r.IS_NATIVE_ANDROID)&&this.setControls(!0);this.triggerReady()}k(c,b);c.prototype.dispose=function(){var d=this.el().textTracks,g=this.textTracks();d&&d.removeEventListener&&(d.removeEventListener("change",this.handleTextTrackChange_),d.removeEventListener("addtrack",this.handleTextTrackAdd_),d.removeEventListener("removetrack",this.handleTextTrackRemove_));for(d=g.length;d--;)g.removeTrack_(g[d]);c.disposeMediaElement(this.el_);b.prototype.dispose.call(this)};
        c.prototype.createEl=function(){var b=this.options_.tag;if(!b||!1===this.movingMediaElementInDOM)if(b){var d=b.cloneNode(!0);b.parentNode.insertBefore(d,b);c.disposeMediaElement(b);b=d}else b=w["default"].createElement("video"),d=this.options_.tag&&n.getElAttributes(this.options_.tag),d=y["default"]({},d),r.TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete d.controls,n.setElAttributes(b,u["default"](d,{id:this.options_.techId,"class":"vjs-tech"}));for(var d=["autoplay","preload","loop",
            "muted"],g=d.length-1;0<=g;g--){var f=d[g],l={};"undefined"!==typeof this.options_[f]&&(l[f]=this.options_[f]);n.setElAttributes(b,l)}return b};c.prototype.handleLateInit_=function(b){var c=this;if(0!==b.networkState&&3!==b.networkState){if(0===b.readyState){var d=function(){var b=!1,d=function(){b=!0};c.on("loadstart",d);var g=function(){b||this.trigger("loadstart")};c.on("loadedmetadata",g);c.ready(function(){this.off("loadstart",d);this.off("loadedmetadata",g);b||this.trigger("loadstart")});return{v:void 0}}();
            if("object"===typeof d)return d.v}var g=["loadstart"];g.push("loadedmetadata");2<=b.readyState&&g.push("loadeddata");3<=b.readyState&&g.push("canplay");4<=b.readyState&&g.push("canplaythrough");this.ready(function(){g.forEach(function(b){this.trigger(b)},this)})}};c.prototype.proxyNativeTextTracks_=function(){var b=this.el().textTracks;b&&b.addEventListener&&(b.addEventListener("change",this.handleTextTrackChange_),b.addEventListener("addtrack",this.handleTextTrackAdd_),b.addEventListener("removetrack",
            this.handleTextTrackRemove_))};c.prototype.handleTextTrackChange=function(b){b=this.textTracks();this.textTracks().trigger({type:"change",target:b,currentTarget:b,srcElement:b})};c.prototype.handleTextTrackAdd=function(b){this.textTracks().addTrack_(b.track)};c.prototype.handleTextTrackRemove=function(b){this.textTracks().removeTrack_(b.track)};c.prototype.play=function(){this.el_.play()};c.prototype.pause=function(){this.el_.pause()};c.prototype.paused=function(){return this.el_.paused};c.prototype.currentTime=
            function(){return this.el_.currentTime};c.prototype.setCurrentTime=function(b){try{this.el_.currentTime=b}catch(c){t["default"](c,"Video is not ready. (Video.js)")}};c.prototype.duration=function(){return this.el_.duration||0};c.prototype.buffered=function(){return this.el_.buffered};c.prototype.volume=function(){return this.el_.volume};c.prototype.setVolume=function(b){this.el_.volume=b};c.prototype.muted=function(){return this.el_.muted};c.prototype.setMuted=function(b){this.el_.muted=b};c.prototype.width=
            function(){return this.el_.offsetWidth};c.prototype.height=function(){return this.el_.offsetHeight};c.prototype.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var b=v["default"].navigator.userAgent;if(/Android/.test(b)||!/Chrome|Mac OS X 10.5/.test(b))return!0}return!1};c.prototype.enterFullScreen=function(){var b=this.el_;if("webkitDisplayingFullscreen"in b)this.one("webkitbeginfullscreen",function(){this.one("webkitendfullscreen",function(){this.trigger("fullscreenchange",
            {isFullscreen:!1})});this.trigger("fullscreenchange",{isFullscreen:!0})});b.paused&&b.networkState<=b.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){b.pause();b.webkitEnterFullScreen()},0)):b.webkitEnterFullScreen()};c.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};c.prototype.src=function(b){if(void 0===b)return this.el_.src;this.setSrc(b)};c.prototype.setSrc=function(b){this.el_.src=b};c.prototype.load=function(){this.el_.load()};c.prototype.reset=function(){c.resetMediaElement(this.el_)};
        c.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc};c.prototype.poster=function(){return this.el_.poster};c.prototype.setPoster=function(b){this.el_.poster=b};c.prototype.preload=function(){return this.el_.preload};c.prototype.setPreload=function(b){this.el_.preload=b};c.prototype.autoplay=function(){return this.el_.autoplay};c.prototype.setAutoplay=function(b){this.el_.autoplay=b};c.prototype.controls=function(){return this.el_.controls};c.prototype.setControls=
            function(b){this.el_.controls=!!b};c.prototype.loop=function(){return this.el_.loop};c.prototype.setLoop=function(b){this.el_.loop=b};c.prototype.error=function(){return this.el_.error};c.prototype.seeking=function(){return this.el_.seeking};c.prototype.seekable=function(){return this.el_.seekable};c.prototype.ended=function(){return this.el_.ended};c.prototype.defaultMuted=function(){return this.el_.defaultMuted};c.prototype.playbackRate=function(){return this.el_.playbackRate};c.prototype.played=
            function(){return this.el_.played};c.prototype.setPlaybackRate=function(b){this.el_.playbackRate=b};c.prototype.networkState=function(){return this.el_.networkState};c.prototype.readyState=function(){return this.el_.readyState};c.prototype.videoWidth=function(){return this.el_.videoWidth};c.prototype.videoHeight=function(){return this.el_.videoHeight};c.prototype.textTracks=function(){return b.prototype.textTracks.call(this)};c.prototype.addTextTrack=function(c,d,g){return this.featuresNativeTextTracks?
            this.el_.addTextTrack(c,d,g):b.prototype.addTextTrack.call(this,c,d,g)};c.prototype.addRemoteTextTrack=function(){var c=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];if(!this.featuresNativeTextTracks)return b.prototype.addRemoteTextTrack.call(this,c);var d=w["default"].createElement("track");c.kind&&(d.kind=c.kind);c.label&&(d.label=c.label);if(c.language||c.srclang)d.srclang=c.language||c.srclang;c["default"]&&(d["default"]=c["default"]);c.id&&(d.id=c.id);c.src&&(d.src=c.src);this.el().appendChild(d);
            this.remoteTextTrackEls().addTrackElement_(d);this.remoteTextTracks().addTrack_(d.track);return d};c.prototype.removeRemoteTextTrack=function(c){if(!this.featuresNativeTextTracks)return b.prototype.removeRemoteTextTrack.call(this,c);var d=void 0,g=void 0,d=this.remoteTextTrackEls().getTrackElementByTrack_(c);this.remoteTextTrackEls().removeTrackElement_(d);this.remoteTextTracks().removeTrack_(c);d=this.$$("track");for(g=d.length;g--;)c!==d[g]&&c!==d[g].track||this.el().removeChild(d[g])};return c}(g["default"]);
        x.TEST_VID=w["default"].createElement("video");b=w["default"].createElement("track");b.kind="captions";b.srclang="en";b.label="English";x.TEST_VID.appendChild(b);x.isSupported=function(){try{x.TEST_VID.volume=.5}catch(b){return!1}return!!x.TEST_VID.canPlayType};g["default"].withSourceHandlers(x);x.nativeSourceHandler={};x.nativeSourceHandler.canPlayType=function(b){try{return x.TEST_VID.canPlayType(b)}catch(c){return""}};x.nativeSourceHandler.canHandleSource=function(b){return b.type?x.nativeSourceHandler.canPlayType(b.type):
            b.src?(b=p.getFileExtension(b.src),x.nativeSourceHandler.canPlayType("video/"+b)):""};x.nativeSourceHandler.handleSource=function(b,c){c.setSrc(b.src)};x.nativeSourceHandler.dispose=function(){};x.registerSourceHandler(x.nativeSourceHandler);x.canControlVolume=function(){var b=x.TEST_VID.volume;x.TEST_VID.volume=b/2+.1;return b!==x.TEST_VID.volume};x.canControlPlaybackRate=function(){var b=x.TEST_VID.playbackRate;x.TEST_VID.playbackRate=b/2+.1;return b!==x.TEST_VID.playbackRate};x.supportsNativeTextTracks=
            function(){var b;(b=!!x.TEST_VID.textTracks)&&0<x.TEST_VID.textTracks.length&&(b="number"!==typeof x.TEST_VID.textTracks[0].mode);b&&r.IS_FIREFOX&&(b=!1);!b||"onremovetrack"in x.TEST_VID.textTracks||(b=!1);return b};x.Events="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" ");x.prototype.featuresVolumeControl=x.canControlVolume();x.prototype.featuresPlaybackRate=
            x.canControlPlaybackRate();x.prototype.movingMediaElementInDOM=!r.IS_IOS;x.prototype.featuresFullscreenResize=!0;x.prototype.featuresProgressEvents=!0;x.prototype.featuresNativeTextTracks=x.supportsNativeTextTracks();var z=void 0,A=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,B=/^video\/mp4/i;x.patchCanPlayType=function(){4<=r.ANDROID_VERSION&&(z||(z=x.TEST_VID.constructor.prototype.canPlayType),x.TEST_VID.constructor.prototype.canPlayType=function(b){return b&&A.test(b)?"maybe":z.call(this,b)});r.IS_OLD_ANDROID&&
        (z||(z=x.TEST_VID.constructor.prototype.canPlayType),x.TEST_VID.constructor.prototype.canPlayType=function(b){return b&&B.test(b)?"maybe":z.call(this,b)})};x.unpatchCanPlayType=function(){var b=x.TEST_VID.constructor.prototype.canPlayType;x.TEST_VID.constructor.prototype.canPlayType=z;z=null;return b};x.patchCanPlayType();x.disposeMediaElement=function(b){if(b){for(b.parentNode&&b.parentNode.removeChild(b);b.hasChildNodes();)b.removeChild(b.firstChild);b.removeAttribute("src");if("function"===typeof b.load)try{b.load()}catch(c){}}};
        x.resetMediaElement=function(b){if(b){for(var c=b.querySelectorAll("source"),d=c.length;d--;)b.removeChild(c[d]);b.removeAttribute("src");if("function"===typeof b.load)try{b.load()}catch(g){}}};m["default"].registerComponent("Html5",x);g["default"].registerTech("Html5",x);c["default"]=x;d.exports=c["default"]},{"../component":66,"../utils/browser.js":128,"../utils/dom.js":131,"../utils/fn.js":133,"../utils/log.js":136,"../utils/merge-options.js":137,"../utils/url.js":141,"./tech.js":118,"global/document":1,
        "global/window":2,"object.assign":45}],117:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("../component.js"),g=h(k),k=b("./tech.js"),m=h(k),
        k=b("global/window");h(k);b=b("../utils/to-title-case.js");var l=h(b);b=function(b){function c(d,f,h){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,f,h);if(f.playerOptions.sources&&0!==f.playerOptions.sources.length)d.src(f.playerOptions.sources);else for(h=0,f=f.playerOptions.techOrder;h<f.length;h++){var k=l["default"](f[h]),v=m["default"].getTech(k);k||(v=g["default"].getComponent(k));if(v&&v.isSupported()){d.loadTech_(k);break}}}f(c,b);return c}(g["default"]);
        g["default"].registerComponent("MediaLoader",b);c["default"]=b;d.exports=c["default"]},{"../component.js":66,"../utils/to-title-case.js":140,"./tech.js":118,"global/window":2}],118:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&
    (Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=b("../component"),k=h(k),g=b("../tracks/html-track-element"),m=h(g),g=b("../tracks/html-track-element-list"),l=h(g),g=b("../utils/merge-options.js"),n=h(g),g=b("../tracks/text-track"),p=h(g),g=b("../tracks/text-track-list"),q=h(g),t=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../utils/fn.js")),g=b("../utils/log.js"),
        r=h(g),w=b("../utils/time-ranges.js"),v=b("../utils/buffer.js"),g=b("../media-error.js"),u=h(g),g=b("global/window"),y=h(g);b=b("global/document");var x=h(b);b=function(b){function c(){var d=0>=arguments.length||void 0===arguments[0]?{}:arguments[0],g=1>=arguments.length||void 0===arguments[1]?function(){}:arguments[1];if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");d.reportTouchActivity=!1;b.call(this,null,d,g);this.hasStarted_=!1;this.on("playing",function(){this.hasStarted_=
        !0});this.on("loadstart",function(){this.hasStarted_=!1});this.textTracks_=d.textTracks;this.featuresProgressEvents||this.manualProgressOn();this.featuresTimeupdateEvents||this.manualTimeUpdatesOn();if(!1===d.nativeCaptions||!1===d.nativeTextTracks)this.featuresNativeTextTracks=!1;if(!this.featuresNativeTextTracks)this.on("ready",this.emulateTextTracks);this.initTextTrackListeners();this.emitTapEvents()}f(c,b);c.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange);
        this.manualProgress=!0;this.one("ready",this.trackProgress)};c.prototype.manualProgressOff=function(){this.manualProgress=!1;this.stopTrackingProgress();this.off("durationchange",this.onDurationChange)};c.prototype.trackProgress=function(){this.stopTrackingProgress();this.progressInterval=this.setInterval(t.bind(this,function(){var b=this.bufferedPercent();this.bufferedPercent_!==b&&this.trigger("progress");this.bufferedPercent_=b;1===b&&this.stopTrackingProgress()}),500)};c.prototype.onDurationChange=
        function(){this.duration_=this.duration()};c.prototype.buffered=function(){return w.createTimeRange(0,0)};c.prototype.bufferedPercent=function(){return v.bufferedPercent(this.buffered(),this.duration_)};c.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)};c.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime)};c.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=
        !1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};c.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)};c.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval);this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})};
        c.prototype.dispose=function(){var c=this.textTracks();if(c)for(var d=c.length;d--;)this.removeRemoteTextTrack(c[d]);this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();b.prototype.dispose.call(this)};c.prototype.reset=function(){};c.prototype.error=function(b){void 0!==b&&(this.error_=b instanceof u["default"]?b:new u["default"](b),this.trigger("error"));return this.error_};c.prototype.played=function(){return this.hasStarted_?w.createTimeRange(0,0):
            w.createTimeRange()};c.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})};c.prototype.initTextTrackListeners=function(){var b=t.bind(this,function(){this.trigger("texttrackchange")}),c=this.textTracks();c&&(c.addEventListener("removetrack",b),c.addEventListener("addtrack",b),this.on("dispose",t.bind(this,function(){c.removeEventListener("removetrack",b);c.removeEventListener("addtrack",b)})))};c.prototype.emulateTextTracks=
            function(){var b=this,c=this.textTracks();if(c){if(!y["default"].WebVTT&&null!=this.el().parentNode){var d=x["default"].createElement("script");d.src=this.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js";this.el().parentNode.appendChild(d);y["default"].WebVTT=!0}var g=function(){return b.trigger("texttrackchange")},f=function(){g();for(var b=0;b<c.length;b++){var d=c[b];d.removeEventListener("cuechange",g);"showing"===d.mode&&d.addEventListener("cuechange",g)}};
                f();c.addEventListener("change",f);this.on("dispose",function(){c.removeEventListener("change",f)})}};c.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new q["default"]};c.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new q["default"]};c.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new l["default"]};c.prototype.addTextTrack=function(b,c,d){if(!b)throw Error("TextTrack kind is required but was not provided");
            return z(this,b,c,d)};c.prototype.addRemoteTextTrack=function(b){b=n["default"](b,{tech:this});b=new m["default"](b);this.remoteTextTrackEls().addTrackElement_(b);this.remoteTextTracks().addTrack_(b.track);this.textTracks().addTrack_(b.track);return b};c.prototype.removeRemoteTextTrack=function(b){this.textTracks().removeTrack_(b);var c=this.remoteTextTrackEls().getTrackElementByTrack_(b);this.remoteTextTrackEls().removeTrackElement_(c);this.remoteTextTracks().removeTrack_(b)};c.prototype.setPoster=
            function(){};c.prototype.canPlayType=function(){return""};c.isTech=function(b){return b.prototype instanceof c||b instanceof c||b===c};c.registerTech=function(b,d){c.techs_||(c.techs_={});if(!c.isTech(d))throw Error("Tech "+b+" must be a Tech");return c.techs_[b]=d};c.getTech=function(b){if(c.techs_&&c.techs_[b])return c.techs_[b];if(y["default"]&&y["default"].videojs&&y["default"].videojs[b])return r["default"].warn("The "+b+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),
            y["default"].videojs[b]};return c}(k["default"]);b.prototype.textTracks_;var z=function(b,c,d,g){var f=4>=arguments.length||void 0===arguments[4]?{}:arguments[4],l=b.textTracks();f.kind=c;d&&(f.label=d);g&&(f.language=g);f.tech=b;f=new p["default"](f);l.addTrack_(f);return f};b.prototype.featuresVolumeControl=!0;b.prototype.featuresFullscreenResize=!1;b.prototype.featuresPlaybackRate=!1;b.prototype.featuresProgressEvents=!1;b.prototype.featuresTimeupdateEvents=!1;b.prototype.featuresNativeTextTracks=
        !1;b.withSourceHandlers=function(b){b.registerSourceHandler=function(c,d){var g=b.sourceHandlers;g||(g=b.sourceHandlers=[]);void 0===d&&(d=g.length);g.splice(d,0,c)};b.canPlayType=function(c){for(var d=b.sourceHandlers||[],g=void 0,f=0;f<d.length;f++)if(g=d[f].canPlayType(c))return g;return""};b.selectSourceHandler=function(c){for(var d=b.sourceHandlers||[],g=void 0,f=0;f<d.length;f++)if(g=d[f].canHandleSource(c))return d[f];return null};b.canPlaySource=function(c){var d=b.selectSourceHandler(c);
        return d?d.canHandleSource(c):""};["seekable","duration"].forEach(function(b){var c=this[b];"function"===typeof c&&(this[b]=function(){return this.sourceHandler_&&this.sourceHandler_[b]?this.sourceHandler_[b].apply(this.sourceHandler_,arguments):c.apply(this,arguments)})},b.prototype);b.prototype.setSource=function(c){var d=b.selectSourceHandler(c);d||(b.nativeSourceHandler?d=b.nativeSourceHandler:r["default"].error("No source hander found for the current source."));this.disposeSourceHandler();this.off("dispose",
        this.disposeSourceHandler);this.currentSource_=c;this.sourceHandler_=d.handleSource(c,this);this.on("dispose",this.disposeSourceHandler);return this};b.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&this.sourceHandler_.dispose()}};k["default"].registerComponent("Tech",b);k["default"].registerComponent("MediaTechController",b);b.registerTech("Tech",b);c["default"]=b;d.exports=c["default"]},{"../component":66,"../media-error.js":102,"../tracks/html-track-element":120,
        "../tracks/html-track-element-list":119,"../tracks/text-track":127,"../tracks/text-track-list":125,"../utils/buffer.js":129,"../utils/fn.js":133,"../utils/log.js":136,"../utils/merge-options.js":137,"../utils/time-ranges.js":139,"global/document":1,"global/window":2}],119:[function(b,d,c){c.__esModule=!0;var h=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../utils/browser.js")),f=(b=b("global/document"))&&
    b.__esModule?b:{"default":b};b=function(){function b(){var c=0>=arguments.length||void 0===arguments[0]?[]:arguments[0];if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d=this;if(h.IS_IE8){var d=f["default"].createElement("custom"),l;for(l in b.prototype)"constructor"!==l&&(d[l]=b.prototype[l])}d.trackElements_=[];Object.defineProperty(d,"length",{get:function(){return this.trackElements_.length}});l=0;for(var n=c.length;l<n;l++)d.addTrackElement_(c[l]);if(h.IS_IE8)return d}
        b.prototype.addTrackElement_=function(b){this.trackElements_.push(b)};b.prototype.getTrackElementByTrack_=function(b){for(var c=void 0,d=0,f=this.trackElements_.length;d<f;d++)if(b===this.trackElements_[d].track){c=this.trackElements_[d];break}return c};b.prototype.removeTrackElement_=function(b){for(var c=0,d=this.trackElements_.length;c<d;c++)if(b===this.trackElements_[c]){this.trackElements_.splice(c,1);break}};return b}();c["default"]=b;d.exports=c["default"]},{"../utils/browser.js":128,"global/document":1}],
    120:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}c.__esModule=!0;var k=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,
        d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../utils/browser.js")),g=b("global/document"),m=h(g),g=b("../event-target"),g=h(g);b=b("../tracks/text-track");var l=h(b);b=function(b){function c(){var d=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this);var g=void 0,f=this;if(k.IS_IE8){var f=m["default"].createElement("custom"),h;for(h in c.prototype)"constructor"!==h&&(f[h]=c.prototype[h])}var v=new l["default"](d);
        f.kind=v.kind;f.src=v.src;f.srclang=v.language;f.label=v.label;f["default"]=v["default"];Object.defineProperty(f,"readyState",{get:function(){return g}});Object.defineProperty(f,"track",{get:function(){return v}});g=0;v.addEventListener("loadeddata",function(){g=2;f.trigger({type:"load",target:f})});if(k.IS_IE8)return f}f(c,b);return c}(g["default"]);b.prototype.allowedEvents_={load:"load"};b.NONE=0;b.LOADING=1;b.LOADED=2;b.ERROR=3;c["default"]=b;d.exports=c["default"]},{"../event-target":98,"../tracks/text-track":127,
        "../utils/browser.js":128,"global/document":1}],121:[function(b,d,c){function h(b){var c=this;if(f.IS_IE8){var c=k["default"].createElement("custom"),d;for(d in h.prototype)"constructor"!==d&&(c[d]=h.prototype[d])}h.prototype.setCues_.call(c,b);Object.defineProperty(c,"length",{get:function(){return this.length_}});if(f.IS_IE8)return c}c.__esModule=!0;var f=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=
        b;return c}(b("../utils/browser.js")),k=(b=b("global/document"))&&b.__esModule?b:{"default":b};h.prototype.setCues_=function(b){var c=this.length||0,d=0,f=b.length;this.cues_=b;this.length_=b.length;b=function(b){""+b in this||Object.defineProperty(this,""+b,{get:function(){return this.cues_[b]}})};if(c<f)for(d=c;d<f;d++)b.call(this,d)};h.prototype.getCueById=function(b){for(var c=null,d=0,f=this.length;d<f;d++){var h=this[d];if(h.id===b){c=h;break}}return c};c["default"]=h;d.exports=c["default"]},
        {"../utils/browser.js":128,"global/document":1}],122:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}function k(b,c){return"rgba("+parseInt(b[1]+b[1],16)+","+parseInt(b[2]+
            b[2],16)+","+parseInt(b[3]+b[3],16)+","+c+")"}c.__esModule=!0;var g=b("../component"),g=h(g),m=b("../menu/menu.js");h(m);m=b("../menu/menu-item.js");h(m);m=b("../menu/menu-button.js");h(m);var l=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("../utils/fn.js")),m=b("global/document");h(m);b=b("global/window");var n=h(b),p={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',
        monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};b=function(b){function c(d,g,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g,f);d.on("loadstart",l.bind(this,this.toggleDisplay));d.on("texttrackchange",l.bind(this,this.updateDisplay));d.ready(l.bind(this,
        function(){if(d.tech_&&d.tech_.featuresNativeTextTracks)this.hide();else{d.on("fullscreenchange",l.bind(this,this.updateDisplay));for(var b=this.options_.playerOptions.tracks||[],c=0;c<b.length;c++)this.player_.addRemoteTextTrack(b[c])}}))}f(c,b);c.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()};c.prototype.createEl=function(){return b.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})};c.prototype.clearDisplay=
        function(){"function"===typeof n["default"].WebVTT&&n["default"].WebVTT.processCues(n["default"],[],this.el_)};c.prototype.updateDisplay=function(){var b=this.player_.textTracks();this.clearDisplay();if(b)for(var c=0;c<b.length;c++){var d=b[c];"showing"===d.mode&&this.updateForTrack(d)}};c.prototype.updateForTrack=function(b){if("function"===typeof n["default"].WebVTT&&b.activeCues){for(var c=this.player_.textTrackSettings.getValues(),d=[],g=0;g<b.activeCues.length;g++)d.push(b.activeCues[g]);n["default"].WebVTT.processCues(n["default"],
        b.activeCues,this.el_);for(b=d.length;b--;)if(g=d[b]){g=g.displayState;c.color&&(g.firstChild.style.color=c.color);if(c.textOpacity){var f=k(c.color||"#fff",c.textOpacity);try{g.firstChild.style.color=f}catch(l){}}c.backgroundColor&&(g.firstChild.style.backgroundColor=c.backgroundColor);if(c.backgroundOpacity){f=k(c.backgroundColor||"#000",c.backgroundOpacity);try{g.firstChild.style.backgroundColor=f}catch(l){}}if(c.windowColor)if(c.windowOpacity){f=k(c.windowColor,c.windowOpacity);try{g.style.backgroundColor=
        f}catch(l){}}else g.style.backgroundColor=c.windowColor;c.edgeStyle&&("dropshadow"===c.edgeStyle?g.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===c.edgeStyle?g.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===c.edgeStyle?g.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===c.edgeStyle&&(g.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222"));
        c.fontPercent&&1!==c.fontPercent&&(f=n["default"].parseFloat(g.style.fontSize),g.style.fontSize=f*c.fontPercent+"px",g.style.height="auto",g.style.top="auto",g.style.bottom="2px");c.fontFamily&&"default"!==c.fontFamily&&("small-caps"===c.fontFamily?g.firstChild.style.fontVariant="small-caps":g.firstChild.style.fontFamily=p[c.fontFamily])}}};return c}(g["default"]);g["default"].registerComponent("TextTrackDisplay",b);c["default"]=b;d.exports=c["default"]},{"../component":66,"../menu/menu-button.js":103,
        "../menu/menu-item.js":104,"../menu/menu.js":105,"../utils/fn.js":133,"global/document":1,"global/window":2}],123:[function(b,d,c){c.__esModule=!0;c.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"};c.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"}},{}],124:[function(b,d,c){c.__esModule=!0;var h=function(b){return"kind label language id inBandMetadataTrackDispatchType mode src".split(" ").reduce(function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  d,h){b[d]&&(c[d]=b[d]);return c},{cues:b.cues&&Array.prototype.map.call(b.cues,function(b){return{startTime:b.startTime,endTime:b.endTime,text:b.text,id:b.id}})})};c["default"]={textTracksToJson:function(b){var c=b.$$("track"),d=Array.prototype.map.call(c,function(b){return b.track});return Array.prototype.map.call(c,function(b){var c=h(b.track);b.src&&(c.src=b.src);return c}).concat(Array.prototype.filter.call(b.textTracks(),function(b){return-1===d.indexOf(b)}).map(h))},jsonToTextTracks:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         c){b.forEach(function(b){var d=c.addRemoteTextTrack(b).track;!b.src&&b.cues&&b.cues.forEach(function(b){return d.addCue(b)})});return c.textTracks()},trackToJson_:h};d.exports=c["default"]},{}],125:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){var c=this;if(l.IS_IE8){var c=n["default"].createElement("custom"),d;for(d in f.prototype)"constructor"!==d&&(c[d]=f.prototype[d])}b=
        b||[];c.tracks_=[];Object.defineProperty(c,"length",{get:function(){return this.tracks_.length}});for(d=0;d<b.length;d++)c.addTrack_(b[d]);if(l.IS_IE8)return c}c.__esModule=!0;var k=b("../event-target"),k=k&&k.__esModule?k:{"default":k},g=b("../utils/fn.js"),m=h(g),g=b("../utils/browser.js"),l=h(g),n=(b=b("global/document"))&&b.__esModule?b:{"default":b};f.prototype=Object.create(k["default"].prototype);f.prototype.constructor=f;f.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};
        for(var p in f.prototype.allowedEvents_)f.prototype["on"+p]=null;f.prototype.addTrack_=function(b){var c=this.tracks_.length;""+c in this||Object.defineProperty(this,c,{get:function(){return this.tracks_[c]}});b.addEventListener("modechange",m.bind(this,function(){this.trigger("change")}));this.tracks_.push(b);this.trigger({type:"addtrack",track:b})};f.prototype.removeTrack_=function(b){for(var c=void 0,d=0,g=this.length;d<g;d++)if(this[d]===b){c=this[d];c.off&&c.off();this.tracks_.splice(d,1);break}c&&
        this.trigger({type:"removetrack",track:c})};f.prototype.getTrackById=function(b){for(var c=null,d=0,g=this.length;d<g;d++){var f=this[d];if(f.id===b){c=f;break}}return c};c["default"]=f;d.exports=c["default"]},{"../event-target":98,"../utils/browser.js":128,"../utils/fn.js":133,"global/document":1}],126:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&
    b.__esModule?b:{"default":b}}function k(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}function g(b){var c=void 0;b.selectedOptions?c=b.selectedOptions[0]:b.options&&(c=b.options[b.options.selectedIndex]);return c.value}function m(b,c){if(c){for(var d=
        void 0,d=0;d<b.options.length&&b.options[d].value!==c;d++);b.selectedIndex=d}}c.__esModule=!0;var l=b("../component"),l=f(l),n=b("../utils/events.js"),p=h(n),n=b("../utils/fn.js"),q=h(n),n=b("../utils/log.js"),t=f(n),n=b("safe-json-parse/tuple"),r=f(n);b=b("global/window");var w=f(b);b=function(b){function c(d,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b.call(this,d,g);this.hide();void 0===g.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=
        this.options_.playerOptions.persistTextTrackSettings);p.on(this.$(".vjs-done-button"),"click",q.bind(this,function(){this.saveSettings();this.hide()}));p.on(this.$(".vjs-default-button"),"click",q.bind(this,function(){this.$(".vjs-fg-color > select").selectedIndex=0;this.$(".vjs-bg-color > select").selectedIndex=0;this.$(".window-color > select").selectedIndex=0;this.$(".vjs-text-opacity > select").selectedIndex=0;this.$(".vjs-bg-opacity > select").selectedIndex=0;this.$(".vjs-window-opacity > select").selectedIndex=
        0;this.$(".vjs-edge-style select").selectedIndex=0;this.$(".vjs-font-family select").selectedIndex=0;this.$(".vjs-font-percent select").selectedIndex=2;this.updateDisplay()}));p.on(this.$(".vjs-fg-color > select"),"change",q.bind(this,this.updateDisplay));p.on(this.$(".vjs-bg-color > select"),"change",q.bind(this,this.updateDisplay));p.on(this.$(".window-color > select"),"change",q.bind(this,this.updateDisplay));p.on(this.$(".vjs-text-opacity > select"),"change",q.bind(this,this.updateDisplay));p.on(this.$(".vjs-bg-opacity > select"),
        "change",q.bind(this,this.updateDisplay));p.on(this.$(".vjs-window-opacity > select"),"change",q.bind(this,this.updateDisplay));p.on(this.$(".vjs-font-percent select"),"change",q.bind(this,this.updateDisplay));p.on(this.$(".vjs-edge-style select"),"change",q.bind(this,this.updateDisplay));p.on(this.$(".vjs-font-family select"),"change",q.bind(this,this.updateDisplay));this.options_.persistTextTrackSettings&&this.restoreSettings()}k(c,b);c.prototype.createEl=function(){return b.prototype.createEl.call(this,
        "div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:'<div class="vjs-tracksettings">\n      <div class="vjs-tracksettings-colors">\n        <div class="vjs-fg-color vjs-tracksetting">\n            <label class="vjs-label">Foreground</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-text-opacity vjs-opacity">\n              <select>\n                <option value="">---</option>\n                <option value="1">Opaque</option>\n                <option value="0.5">Semi-Opaque</option>\n              </select>\n            </span>\n        </div> \x3c!-- vjs-fg-color --\x3e\n        <div class="vjs-bg-color vjs-tracksetting">\n            <label class="vjs-label">Background</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-bg-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> \x3c!-- vjs-bg-color --\x3e\n        <div class="window-color vjs-tracksetting">\n            <label class="vjs-label">Window</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-window-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> \x3c!-- vjs-window-color --\x3e\n      </div> \x3c!-- vjs-tracksettings --\x3e\n      <div class="vjs-tracksettings-font">\n        <div class="vjs-font-percent vjs-tracksetting">\n          <label class="vjs-label">Font Size</label>\n          <select>\n            <option value="0.50">50%</option>\n            <option value="0.75">75%</option>\n            <option value="1.00" selected>100%</option>\n            <option value="1.25">125%</option>\n            <option value="1.50">150%</option>\n            <option value="1.75">175%</option>\n            <option value="2.00">200%</option>\n            <option value="3.00">300%</option>\n            <option value="4.00">400%</option>\n          </select>\n        </div> \x3c!-- vjs-font-percent --\x3e\n        <div class="vjs-edge-style vjs-tracksetting">\n          <label class="vjs-label">Text Edge Style</label>\n          <select>\n            <option value="none">None</option>\n            <option value="raised">Raised</option>\n            <option value="depressed">Depressed</option>\n            <option value="uniform">Uniform</option>\n            <option value="dropshadow">Dropshadow</option>\n          </select>\n        </div> \x3c!-- vjs-edge-style --\x3e\n        <div class="vjs-font-family vjs-tracksetting">\n          <label class="vjs-label">Font Family</label>\n          <select>\n            <option value="">Default</option>\n            <option value="monospaceSerif">Monospace Serif</option>\n            <option value="proportionalSerif">Proportional Serif</option>\n            <option value="monospaceSansSerif">Monospace Sans-Serif</option>\n            <option value="proportionalSansSerif">Proportional Sans-Serif</option>\n            <option value="casual">Casual</option>\n            <option value="script">Script</option>\n            <option value="small-caps">Small Caps</option>\n          </select>\n        </div> \x3c!-- vjs-font-family --\x3e\n      </div>\n    </div>\n    <div class="vjs-tracksettings-controls">\n      <button class="vjs-default-button">Defaults</button>\n      <button class="vjs-done-button">Done</button>\n    </div>'})};
        c.prototype.getValues=function(){var b=g(this.$(".vjs-edge-style select")),c=g(this.$(".vjs-font-family select")),d=g(this.$(".vjs-fg-color > select")),f=g(this.$(".vjs-text-opacity > select")),l=g(this.$(".vjs-bg-color > select")),h=g(this.$(".vjs-bg-opacity > select")),k=g(this.$(".window-color > select")),m=g(this.$(".vjs-window-opacity > select")),n=w["default"].parseFloat(g(this.$(".vjs-font-percent > select"))),b={backgroundOpacity:h,textOpacity:f,windowOpacity:m,edgeStyle:b,fontFamily:c,color:d,
            backgroundColor:l,windowColor:k,fontPercent:n},p;for(p in b)(""===b[p]||"none"===b[p]||"fontPercent"===p&&1===b[p])&&delete b[p];return b};c.prototype.setValues=function(b){m(this.$(".vjs-edge-style select"),b.edgeStyle);m(this.$(".vjs-font-family select"),b.fontFamily);m(this.$(".vjs-fg-color > select"),b.color);m(this.$(".vjs-text-opacity > select"),b.textOpacity);m(this.$(".vjs-bg-color > select"),b.backgroundColor);m(this.$(".vjs-bg-opacity > select"),b.backgroundOpacity);m(this.$(".window-color > select"),
            b.windowColor);m(this.$(".vjs-window-opacity > select"),b.windowOpacity);(b=b.fontPercent)&&(b=b.toFixed(2));m(this.$(".vjs-font-percent > select"),b)};c.prototype.restoreSettings=function(){var b=void 0,c=void 0;try{var d=r["default"](w["default"].localStorage.getItem("vjs-text-track-settings")),b=d[0],c=d[1];b&&t["default"].error(b)}catch(g){t["default"].warn(g)}c&&this.setValues(c)};c.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var b=this.getValues();try{0<Object.getOwnPropertyNames(b).length?
            w["default"].localStorage.setItem("vjs-text-track-settings",JSON.stringify(b)):w["default"].localStorage.removeItem("vjs-text-track-settings")}catch(c){t["default"].warn(c)}}};c.prototype.updateDisplay=function(){var b=this.player_.getChild("textTrackDisplay");b&&b.updateDisplay()};return c}(l["default"]);l["default"].registerComponent("TextTrackSettings",b);c["default"]=b;d.exports=c["default"]},{"../component":66,"../utils/events.js":132,"../utils/fn.js":133,"../utils/log.js":136,"global/window":2,
        "safe-json-parse/tuple":53}],127:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&b.__esModule?b:{"default":b}}function k(){var b=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];if(!b.tech)throw Error("A tech was not provided.");var c=this;if(p.IS_IE8){var c=w["default"].createElement("custom"),d;for(d in k.prototype)"constructor"!==d&&(c[d]=
        k.prototype[d])}c.tech_=b.tech;var g=q.TextTrackMode[b.mode]||"disabled",f=q.TextTrackKind[b.kind]||"subtitles",h=b.label||"",v=b.language||b.srclang||"",y=b.id||"vjs_text_track_"+n.newGUID();if("metadata"===f||"chapters"===f)g="hidden";c.cues_=[];c.activeCues_=[];var r=new m["default"](c.cues_),u=new m["default"](c.activeCues_),x=!1,t=l.bind(c,function(){this.activeCues;x&&(this.trigger("cuechange"),x=!1)});if("disabled"!==g)c.tech_.on("timeupdate",t);Object.defineProperty(c,"kind",{get:function(){return f},
        set:Function.prototype});Object.defineProperty(c,"label",{get:function(){return h},set:Function.prototype});Object.defineProperty(c,"language",{get:function(){return v},set:Function.prototype});Object.defineProperty(c,"id",{get:function(){return y},set:Function.prototype});Object.defineProperty(c,"mode",{get:function(){return g},set:function(b){if(q.TextTrackMode[b]){g=b;if("showing"===g)this.tech_.on("timeupdate",t);this.trigger("modechange")}}});Object.defineProperty(c,"cues",{get:function(){return this.loaded_?
        r:null},set:Function.prototype});Object.defineProperty(c,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return u;for(var b=this.tech_.currentTime(),c=[],d=0,g=this.cues.length;d<g;d++){var f=this.cues[d];f.startTime<=b&&f.endTime>=b?c.push(f):f.startTime===f.endTime&&f.startTime<=b&&f.startTime+.5>=b&&c.push(f)}x=!1;if(c.length!==this.activeCues_.length)x=!0;else for(d=0;d<c.length;d++)-1===A.call(this.activeCues_,c[d])&&(x=!0);this.activeCues_=c;u.setCues_(this.activeCues_);
        return u},set:Function.prototype});b.src?(c.src=b.src,z(b.src,c)):c.loaded_=!0;if(p.IS_IE8)return c}c.__esModule=!0;var g=b("./text-track-cue-list"),m=f(g),g=b("../utils/fn.js"),l=h(g),g=b("../utils/guid.js"),n=h(g),g=b("../utils/browser.js"),p=h(g),g=b("./text-track-enums"),q=h(g),g=b("../utils/log.js"),t=f(g),g=b("../event-target"),g=f(g),r=b("global/document"),w=f(r),r=b("global/window"),v=f(r),u=b("../utils/url.js");b=b("xhr");var y=f(b);k.prototype=Object.create(g["default"].prototype);k.prototype.constructor=
        k;k.prototype.allowedEvents_={cuechange:"cuechange"};k.prototype.addCue=function(b){var c=this.tech_.textTracks();if(c)for(var d=0;d<c.length;d++)c[d]!==this&&c[d].removeCue(b);this.cues_.push(b);this.cues.setCues_(this.cues_)};k.prototype.removeCue=function(b){for(var c=!1,d=0,g=this.cues_.length;d<g;d++)this.cues_[d]===b&&(this.cues_.splice(d,1),c=!0);c&&this.cues.setCues_(this.cues_)};var x=function(b,c){var d=new v["default"].WebVTT.Parser(v["default"],v["default"].vttjs,v["default"].WebVTT.StringDecoder());
        d.oncue=function(b){c.addCue(b)};d.onparsingerror=function(b){t["default"].error(b)};d.onflush=function(){c.trigger({type:"loadeddata",target:c})};d.parse(b);d.flush()},z=function(b,c){var d={uri:b},g=u.isCrossOrigin(b);g&&(d.cors=g);y["default"](d,l.bind(this,function(b,d,g){if(b)return t["default"].error(b,d);c.loaded_=!0;"function"!==typeof v["default"].WebVTT?v["default"].setTimeout(function(){x(g,c)},100):x(g,c)}))},A=function(b,c){if(null==this)throw new TypeError('"this" is null or not defined');
        var d=Object(this),g=d.length>>>0;if(0===g)return-1;var f=+c||0;Infinity===Math.abs(f)&&(f=0);if(f>=g)return-1;for(f=Math.max(0<=f?f:g-Math.abs(f),0);f<g;){if(f in d&&d[f]===b)return f;f++}return-1};c["default"]=k;d.exports=c["default"]},{"../event-target":98,"../utils/browser.js":128,"../utils/fn.js":133,"../utils/guid.js":135,"../utils/log.js":136,"../utils/url.js":141,"./text-track-cue-list":121,"./text-track-enums":123,"global/document":1,"global/window":2,xhr:55}],128:[function(b,d,c){c.__esModule=
        !0;d=(d=b("global/document"))&&d.__esModule?d:{"default":d};b=(b=b("global/window"))&&b.__esModule?b:{"default":b};var h=b["default"].navigator.userAgent,f=/AppleWebKit\/([\d.]+)/i.exec(h),f=f?parseFloat(f.pop()):null,k=/iPad/i.test(h);c.IS_IPAD=k;var g=/iPhone/i.test(h)&&!k;c.IS_IPHONE=g;var m=/iPod/i.test(h);c.IS_IPOD=m;c.IS_IOS=g||k||m;k=function(){var b=h.match(/OS (\d+)_/i);if(b&&b[1])return b[1]}();c.IOS_VERSION=k;k=/Android/i.test(h);c.IS_ANDROID=k;g=function(){var b=h.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),
        c,d;if(!b)return null;c=b[1]&&parseFloat(b[1]);d=b[2]&&parseFloat(b[2]);return c&&d?parseFloat(b[1]+"."+b[2]):c?c:null}();c.ANDROID_VERSION=g;m=k&&/webkit/i.test(h)&&2.3>g;c.IS_OLD_ANDROID=m;c.IS_NATIVE_ANDROID=k&&5>g&&537>f;f=/Firefox/i.test(h);c.IS_FIREFOX=f;f=/Chrome/i.test(h);c.IS_CHROME=f;f=/MSIE\s8\.0/.test(h);c.IS_IE8=f;c.TOUCH_ENABLED=!!("ontouchstart"in b["default"]||b["default"].DocumentTouch&&d["default"]instanceof b["default"].DocumentTouch);d="backgroundSize"in d["default"].createElement("video").style;
        c.BACKGROUND_SIZE_SUPPORTED=d},{"global/document":1,"global/window":2}],129:[function(b,d,c){c.__esModule=!0;c.bufferedPercent=function(b,c){var d=0,m,l;if(!c)return 0;b&&b.length||(b=h.createTimeRange(0,0));for(var n=0;n<b.length;n++)m=b.start(n),l=b.end(n),l>c&&(l=c),d+=l-m;return d/c};var h=b("./time-ranges.js")},{"./time-ranges.js":139}],130:[function(b,d,c){c.__esModule=!0;var h=(b=b("./log.js"))&&b.__esModule?b:{"default":b},f={get:function(b,c){return b[c]},set:function(b,c,d){b[c]=d;return!0}};
        c["default"]=function(b){var c=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];if("function"===typeof Proxy){var d=function(){var d={};Object.keys(c).forEach(function(b){f.hasOwnProperty(b)&&(d[b]=function(){h["default"].warn(c[b]);return f[b].apply(this,arguments)})});return{v:new Proxy(b,d)}}();if("object"===typeof d)return d.v}return b};d.exports=c["default"]},{"./log.js":136}],131:[function(b,d,c){function h(b){return b&&b.__esModule?b:{"default":b}}function f(b){if(/\s/.test(b))throw Error("class has illegal whitespace characters");
    }function k(b){return function(c,d){if("string"!==typeof c||!/\S/.test(c))return u["default"][b](null);"string"===typeof d&&/\S/.test(d)&&(d=u["default"].querySelector(d));return(p(d)?d:u["default"])[b](c)}}function g(b,c){if(b.classList)return b.classList.contains(c);f(c);return(new RegExp("(^|\\s)"+c+"($|\\s)")).test(b.className)}function m(b,c){b.classList?b.classList.add(c):g(b,c)||(b.className=(b.className+" "+c).trim());return b}function l(b,c){b.classList?b.classList.remove(c):(f(c),b.className=
        b.className.split(/\s+/).filter(function(b){return b!==c}).join(" "));return b}function n(b){var c=void 0;b.getBoundingClientRect&&b.parentNode&&(c=b.getBoundingClientRect());if(!c)return{left:0,top:0};b=u["default"].documentElement;var d=u["default"].body;return{left:Math.round(c.left+(y["default"].pageXOffset||d.scrollLeft)-(b.clientLeft||d.clientLeft||0)),top:Math.round(c.top+(y["default"].pageYOffset||d.scrollTop)-(b.clientTop||d.clientTop||0))}}function p(b){return!!b&&"object"===typeof b&&1===
        b.nodeType}function q(b){return!!b&&"object"===typeof b&&3===b.nodeType}function t(b){for(;b.firstChild;)b.removeChild(b.firstChild);return b}function r(b){"function"===typeof b&&(b=b());return(Array.isArray(b)?b:[b]).map(function(b){"function"===typeof b&&(b=b());if(p(b)||q(b))return b;if("string"===typeof b&&/\S/.test(b))return u["default"].createTextNode(b)}).filter(function(b){return b})}function w(b,c){r(c).forEach(function(c){return b.appendChild(c)});return b}c.__esModule=!0;c.getEl=function(b){0===
    b.indexOf("#")&&(b=b.slice(1));return u["default"].getElementById(b)};c.createEl=function(){var b=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],c=2>=arguments.length||void 0===arguments[2]?{}:arguments[2],d=u["default"].createElement(0>=arguments.length||void 0===arguments[0]?"div":arguments[0]);Object.getOwnPropertyNames(b).forEach(function(c){var g=b[c];-1!==c.indexOf("aria-")||"role"===c||"type"===c?(z["default"].warn(A["default"](v,c,g)),d.setAttribute(c,g)):d[c]=g});Object.getOwnPropertyNames(c).forEach(function(b){d.setAttribute(b,
        c[b])});return d};c.textContent=function(b,c){"undefined"===typeof b.textContent?b.innerText=c:b.textContent=c};c.insertElFirst=function(b,c){c.firstChild?c.insertBefore(b,c.firstChild):c.appendChild(b)};c.getElData=function(b){var c=b[E];c||(c=b[E]=x.newGUID());B[c]||(B[c]={});return B[c]};c.hasElData=function(b){return(b=b[E])?!!Object.getOwnPropertyNames(B[b]).length:!1};c.removeElData=function(b){var c=b[E];if(c){delete B[c];try{delete b[E]}catch(d){b.removeAttribute?b.removeAttribute(E):b[E]=
        null}}};c.hasElClass=g;c.addElClass=m;c.removeElClass=l;c.toggleElClass=function(b,c,d){var f=g(b,c);"function"===typeof d&&(d=d(b,c));"boolean"!==typeof d&&(d=!f);if(d!==f)return d?m(b,c):l(b,c),b};c.setElAttributes=function(b,c){Object.getOwnPropertyNames(c).forEach(function(d){var g=c[d];null===g||"undefined"===typeof g||!1===g?b.removeAttribute(d):b.setAttribute(d,!0===g?"":g)})};c.getElAttributes=function(b){var c,d,g,f;c={};if(b&&b.attributes&&0<b.attributes.length){d=b.attributes;for(var h=
        d.length-1;0<=h;h--){g=d[h].name;f=d[h].value;if("boolean"===typeof b[g]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+g+","))f=null!==f?!0:!1;c[g]=f}}return c};c.blockTextSelection=function(){u["default"].body.focus();u["default"].onselectstart=function(){return!1}};c.unblockTextSelection=function(){u["default"].onselectstart=function(){return!0}};c.findElPosition=n;c.getPointerPosition=function(b,c){var d={},g=n(b),f=b.offsetWidth,h=b.offsetHeight,l=g.top,g=g.left,k=c.pageY,m=c.pageX;
        c.changedTouches&&(m=c.changedTouches[0].pageX,k=c.changedTouches[0].pageY);d.y=Math.max(0,Math.min(1,(l-k+h)/h));d.x=Math.max(0,Math.min(1,(m-g)/f));return d};c.isEl=p;c.isTextNode=q;c.emptyEl=t;c.normalizeContent=r;c.appendContent=w;c.insertContent=function(b,c){return w(t(b),c)};var v=function(b,c){b.raw=c;return b}(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set ",
        " to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);d=b("global/document");var u=h(d);d=b("global/window");var y=h(d),x=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}(b("./guid.js"));d=b("./log.js");var z=h(d);b=b("tsml");
        var A=h(b),B={},E="vdata"+(new Date).getTime();b=k("querySelector");c.$=b;b=k("querySelectorAll");c.$$=b},{"./guid.js":135,"./log.js":136,"global/document":1,"global/window":2,tsml:54}],132:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b,c,d){if(Array.isArray(c))return p(f,b,c,d);var g=q.getElData(b);g.handlers||(g.handlers={});g.handlers[c]||(g.handlers[c]=[]);
        d.guid||(d.guid=t.newGUID());g.handlers[c].push(d);g.dispatcher||(g.disabled=!1,g.dispatcher=function(c,d){if(!g.disabled){c=l(c);var f=g.handlers[c.type];if(f)for(var f=f.slice(0),h=0,k=f.length;h<k&&!c.isImmediatePropagationStopped();h++)f[h].call(b,c,d)}});1===g.handlers[c].length&&(b.addEventListener?b.addEventListener(c,g.dispatcher,!1):b.attachEvent&&b.attachEvent("on"+c,g.dispatcher))}function k(b,c,d){if(q.hasElData(b)){var g=q.getElData(b);if(g.handlers){if(Array.isArray(c))return p(k,b,
        c,d);if(c){var f=g.handlers[c];if(f){if(!d)g.handlers[c]=[];else if(d.guid)for(g=0;g<f.length;g++)f[g].guid===d.guid&&f.splice(g--,1);n(b,c)}}else for(f in g.handlers)c=f,g.handlers[c]=[],n(b,c)}}}function g(b,c,d){var f=q.hasElData(b)?q.getElData(b):{},h=b.parentNode||b.ownerDocument;"string"===typeof c&&(c={type:c,target:b});c=l(c);f.dispatcher&&f.dispatcher.call(b,c,d);if(h&&!c.isPropagationStopped()&&!0===c.bubbles)g.call(null,h,c,d);else if(!h&&!c.defaultPrevented&&(b=q.getElData(c.target),c.target[c.type])){b.disabled=
        !0;if("function"===typeof c.target[c.type])c.target[c.type]();b.disabled=!1}return!c.defaultPrevented}function m(b,c,d){if(Array.isArray(c))return p(m,b,c,d);var g=function A(){k(b,c,A);d.apply(this,arguments)};g.guid=d.guid=d.guid||t.newGUID();f(b,c,g)}function l(b){function c(){return!0}function d(){return!1}if(!b||!b.isPropagationStopped){var g=b||r["default"].event;b={};for(var f in g)"layerX"!==f&&"layerY"!==f&&"keyLocation"!==f&&"webkitMovementX"!==f&&"webkitMovementY"!==f&&("returnValue"===
    f&&g.preventDefault||(b[f]=g[f]));b.target||(b.target=b.srcElement||w["default"]);b.relatedTarget||(b.relatedTarget=b.fromElement===b.target?b.toElement:b.fromElement);b.preventDefault=function(){g.preventDefault&&g.preventDefault();b.returnValue=!1;g.returnValue=!1;b.defaultPrevented=!0};b.defaultPrevented=!1;b.stopPropagation=function(){g.stopPropagation&&g.stopPropagation();b.cancelBubble=!0;g.cancelBubble=!0;b.isPropagationStopped=c};b.isPropagationStopped=d;b.stopImmediatePropagation=function(){g.stopImmediatePropagation&&
    g.stopImmediatePropagation();b.isImmediatePropagationStopped=c;b.stopPropagation()};b.isImmediatePropagationStopped=d;if(null!=b.clientX){f=w["default"].documentElement;var h=w["default"].body;b.pageX=b.clientX+(f&&f.scrollLeft||h&&h.scrollLeft||0)-(f&&f.clientLeft||h&&h.clientLeft||0);b.pageY=b.clientY+(f&&f.scrollTop||h&&h.scrollTop||0)-(f&&f.clientTop||h&&h.clientTop||0)}b.which=b.charCode||b.keyCode;null!=b.button&&(b.button=b.button&1?0:b.button&4?1:b.button&2?2:0)}return b}function n(b,c){var d=
        q.getElData(b);0===d.handlers[c].length&&(delete d.handlers[c],b.removeEventListener?b.removeEventListener(c,d.dispatcher,!1):b.detachEvent&&b.detachEvent("on"+c,d.dispatcher));0>=Object.getOwnPropertyNames(d.handlers).length&&(delete d.handlers,delete d.dispatcher,delete d.disabled);0===Object.getOwnPropertyNames(d).length&&q.removeElData(b)}function p(b,c,d,g){d.forEach(function(d){b(c,d,g)})}c.__esModule=!0;c.on=f;c.off=k;c.trigger=g;c.one=m;c.fixEvent=l;d=b("./dom.js");var q=h(d);d=b("./guid.js");
        var t=h(d),r=(d=b("global/window"))&&d.__esModule?d:{"default":d},w=(b=b("global/document"))&&b.__esModule?b:{"default":b}},{"./dom.js":131,"./guid.js":135,"global/document":1,"global/window":2}],133:[function(b,d,c){c.__esModule=!0;var h=b("./guid.js");c.bind=function(b,c,d){c.guid||(c.guid=h.newGUID());var m=function(){return c.apply(b,arguments)};m.guid=d?d+"_"+c.guid:c.guid;return m}},{"./guid.js":135}],134:[function(b,d,c){c.__esModule=!0;c["default"]=function(b){var c=1>=arguments.length||void 0===
    arguments[1]?b:arguments[1];b=0>b?0:b;var d=Math.floor(b%60),g=Math.floor(b/60%60),m=Math.floor(b/3600),l=Math.floor(c/60%60),c=Math.floor(c/3600);if(isNaN(b)||Infinity===b)m=g=d="-";m=0<m||0<c?m+":":"";return m+(((m||10<=l)&&10>g?"0"+g:g)+":")+(10>d?"0"+d:d)};d.exports=c["default"]},{}],135:[function(b,d,c){c.__esModule=!0;c.newGUID=function(){return h++};var h=1},{}],136:[function(b,d,c){function h(b,c){var d=Array.prototype.slice.call(c),h=function(){},h=f["default"].console||{log:h,warn:h,error:h};
        b?d.unshift(b.toUpperCase()+":"):b="log";k.history.push(d);d.unshift("VIDEOJS:");if(h[b].apply)h[b].apply(h,d);else h[b](d.join(" "))}c.__esModule=!0;var f=(b=b("global/window"))&&b.__esModule?b:{"default":b},k=function(){h(null,arguments)};k.history=[];k.error=function(){h("error",arguments)};k.warn=function(){h("warn",arguments)};c["default"]=k;d.exports=c["default"]},{"global/window":2}],137:[function(b,d,c){function h(b){return!!b&&"object"===typeof b&&"[object Object]"===b.toString()&&b.constructor===
        Object}function f(){var b=Array.prototype.slice.call(arguments);b.unshift({});b.push(g);k["default"].apply(null,b);return b[0]}c.__esModule=!0;c["default"]=f;var k=(b=b("lodash-compat/object/merge"))&&b.__esModule?b:{"default":b},g=function(b,c){if(!h(c))return c;if(!h(b))return f(c)};d.exports=c["default"]},{"lodash-compat/object/merge":40}],138:[function(b,d,c){c.__esModule=!0;var h=(b=b("global/document"))&&b.__esModule?b:{"default":b};c.createStyleElement=function(b){var c=h["default"].createElement("style");
        c.className=b;return c};c.setTextContent=function(b,c){b.styleSheet?b.styleSheet.cssText=c:b.textContent=c}},{"global/document":1}],139:[function(b,d,c){function h(b,c){return Array.isArray(b)?f(b):void 0===b||void 0===c?f():f([[b,c]])}function f(b){return void 0===b||0===b.length?{length:0,start:function(){throw Error("This TimeRanges object is empty");},end:function(){throw Error("This TimeRanges object is empty");}}:{length:b.length,start:k.bind(null,"start",0,b),end:k.bind(null,"end",1,b)}}function k(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      c,d,f){void 0===f&&(g["default"].warn("DEPRECATED: Function '"+b+"' on 'TimeRanges' called without an index argument."),f=0);var h=d.length-1;if(0>f||f>h)throw Error("Failed to execute '"+b+"' on 'TimeRanges': The index provided ("+f+") is greater than or equal to the maximum bound ("+h+").");return d[f][c]}c.__esModule=!0;c.createTimeRanges=h;var g=(b=b("./log.js"))&&b.__esModule?b:{"default":b};c.createTimeRange=h},{"./log.js":136}],140:[function(b,d,c){c.__esModule=!0;c["default"]=function(b){return b.charAt(0).toUpperCase()+
        b.slice(1)};d.exports=c["default"]},{}],141:[function(b,d,c){c.__esModule=!0;var h=(d=b("global/document"))&&d.__esModule?d:{"default":d},f=(b=b("global/window"))&&b.__esModule?b:{"default":b},k=function(b){var c="protocol hostname port pathname search hash host".split(" "),d=h["default"].createElement("a");d.href=b;var f=""===d.host&&"file:"!==d.protocol,k=void 0;f&&(k=h["default"].createElement("div"),k.innerHTML='<a href="'+b+'"></a>',d=k.firstChild,k.setAttribute("style","display:none; position:absolute;"),
        h["default"].body.appendChild(k));b={};for(var q=0;q<c.length;q++)b[c[q]]=d[c[q]];"http:"===b.protocol&&(b.host=b.host.replace(/:80$/,""));"https:"===b.protocol&&(b.host=b.host.replace(/:443$/,""));f&&h["default"].body.removeChild(k);return b};c.parseUrl=k;c.getAbsoluteURL=function(b){if(!b.match(/^https?:\/\//)){var c=h["default"].createElement("div");c.innerHTML='<a href="'+b+'">x</a>';b=c.firstChild.href}return b};c.getFileExtension=function(b){return"string"===typeof b&&(b=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(b))?
        b.pop().toLowerCase():""};c.isCrossOrigin=function(b){var c=f["default"].location;b=k(b);return(":"===b.protocol?c.protocol:b.protocol)+b.host!==c.protocol+c.host}},{"global/document":1,"global/window":2}],142:[function(b,d,c){function h(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c["default"]=b;return c}function f(b){return b&&b.__esModule?b:{"default":b}}c.__esModule=!0;var k=b("global/document"),g=f(k),k=b("./setup"),
        k=h(k),m=b("./utils/stylesheet.js"),m=h(m),l=b("./component"),n=f(l),l=b("./event-target"),l=f(l),p=b("./utils/events.js"),p=h(p),q=b("./player"),t=f(q),q=b("./plugins.js"),q=f(q),r=b("../../src/js/utils/merge-options.js"),r=f(r),w=b("./utils/fn.js"),w=h(w),v=b("./tracks/text-track.js"),v=f(v),u=b("object.assign");f(u);var u=b("./utils/time-ranges.js"),y=b("./utils/format-time.js"),y=f(y),x=b("./utils/log.js"),z=f(x),x=b("./utils/dom.js"),A=h(x),x=b("./utils/browser.js"),x=h(x),B=b("./utils/url.js"),
        B=h(B),E=b("./extend.js"),E=f(E),D=b("lodash-compat/object/merge"),G=f(D),D=b("./utils/create-deprecation-proxy.js"),D=f(D),I=b("xhr"),I=f(I),C=b("./tech/tech.js"),J=f(C),C=b("./tech/html5.js");f(C);b=b("./tech/flash.js");f(b);"undefined"===typeof HTMLVideoElement&&(g["default"].createElement("video"),g["default"].createElement("audio"),g["default"].createElement("track"));var F=function O(b,c,d){var g=void 0;if("string"===typeof b){0===b.indexOf("#")&&(b=b.slice(1));if(O.getPlayers()[b])return c&&
    z["default"].warn('Player "'+b+'" is already initialised. Options will not be applied.'),d&&O.getPlayers()[b].ready(d),O.getPlayers()[b];g=A.getEl(b)}else g=b;if(!g||!g.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return g.player||t["default"].players[g.playerId]||new t["default"](g,c,d)};b=A.$(".vjs-styles-defaults");b||(b=m.createStyleElement("vjs-styles-defaults"),g=A.$("head"),g.insertBefore(b,g.firstChild),m.setTextContent(b,"\n    .video-js {\n      width: 300px;\n      height: 150px;\n    }\n\n    .vjs-fluid {\n      padding-top: 56.25%\n    }\n  "));
        k.autoSetupTimeout(1,F);F.VERSION="5.8.0";F.options=t["default"].prototype.options_;F.getPlayers=function(){return t["default"].players};F.players=D["default"](t["default"].players,{get:"Access to videojs.players is deprecated; use videojs.getPlayers instead",set:"Modification of videojs.players is deprecated"});F.getComponent=n["default"].getComponent;F.registerComponent=function(b,c){J["default"].isTech(c)&&z["default"].warn("The "+b+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)");
            n["default"].registerComponent.call(n["default"],b,c)};F.getTech=J["default"].getTech;F.registerTech=J["default"].registerTech;F.browser=x;F.TOUCH_ENABLED=x.TOUCH_ENABLED;F.extend=E["default"];F.mergeOptions=r["default"];F.bind=w.bind;F.plugin=q["default"];F.addLanguage=function(b,c){var d;b=(""+b).toLowerCase();return G["default"](F.options.languages,(d={},d[b]=c,d))[b]};F.log=z["default"];F.createTimeRange=F.createTimeRanges=u.createTimeRanges;F.formatTime=y["default"];F.parseUrl=B.parseUrl;F.isCrossOrigin=
            B.isCrossOrigin;F.EventTarget=l["default"];F.on=p.on;F.one=p.one;F.off=p.off;F.trigger=p.trigger;F.xhr=I["default"];F.TextTrack=v["default"];F.isEl=A.isEl;F.isTextNode=A.isTextNode;F.createEl=A.createEl;F.hasClass=A.hasElClass;F.addClass=A.addElClass;F.removeClass=A.removeElClass;F.toggleClass=A.toggleElClass;F.setAttributes=A.setElAttributes;F.getAttributes=A.getElAttributes;F.emptyEl=A.emptyEl;F.appendContent=A.appendContent;F.insertContent=A.insertContent;"object"===typeof c&&"object"===typeof d&&
        (d.exports=F);c["default"]=F;d.exports=c["default"]},{"../../src/js/utils/merge-options.js":137,"./component":66,"./event-target":98,"./extend.js":99,"./player":107,"./plugins.js":108,"./setup":112,"./tech/flash.js":115,"./tech/html5.js":116,"./tech/tech.js":118,"./tracks/text-track.js":127,"./utils/browser.js":128,"./utils/create-deprecation-proxy.js":130,"./utils/dom.js":131,"./utils/events.js":132,"./utils/fn.js":133,"./utils/format-time.js":134,"./utils/log.js":136,"./utils/stylesheet.js":138,
        "./utils/time-ranges.js":139,"./utils/url.js":141,"global/document":1,"lodash-compat/object/merge":40,"object.assign":45,xhr:55}]},{},[142])(142)});(function(e){var b=e.vttjs={},d=b.VTTCue,c=b.VTTRegion,h=e.VTTCue,f=e.VTTRegion;b.shim=function(){b.VTTCue=d;b.VTTRegion=c};b.restore=function(){b.VTTCue=h;b.VTTRegion=f}})(this);
(function(e,b){function d(b){return"string"!==typeof b?!1:k[b.toLowerCase()]?b.toLowerCase():!1}function c(b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;for(e in d)b[e]=d[e]}return b}function h(b,e,h){var k=this,p=/MSIE\s8\.0/.test(navigator.userAgent),q={};p?k=document.createElement("custom"):q.enumerable=!0;k.hasBeenReset=!1;var t="",r=!1,w=b,v=e,u=h,y=null,x="",z=!0,A="auto",B="start",E=50,D="middle",G=50,I="middle";Object.defineProperty(k,"id",c({},q,{get:function(){return t},set:function(b){t=
    ""+b}}));Object.defineProperty(k,"pauseOnExit",c({},q,{get:function(){return r},set:function(b){r=!!b}}));Object.defineProperty(k,"startTime",c({},q,{get:function(){return w},set:function(b){if("number"!==typeof b)throw new TypeError("Start time must be set to a number.");w=b;this.hasBeenReset=!0}}));Object.defineProperty(k,"endTime",c({},q,{get:function(){return v},set:function(b){if("number"!==typeof b)throw new TypeError("End time must be set to a number.");v=b;this.hasBeenReset=!0}}));Object.defineProperty(k,
    "text",c({},q,{get:function(){return u},set:function(b){u=""+b;this.hasBeenReset=!0}}));Object.defineProperty(k,"region",c({},q,{get:function(){return y},set:function(b){y=b;this.hasBeenReset=!0}}));Object.defineProperty(k,"vertical",c({},q,{get:function(){return x},set:function(b){b="string"!==typeof b?!1:f[b.toLowerCase()]?b.toLowerCase():!1;if(!1===b)throw new SyntaxError("An invalid or illegal string was specified.");x=b;this.hasBeenReset=!0}}));Object.defineProperty(k,"snapToLines",c({},q,{get:function(){return z},
    set:function(b){z=!!b;this.hasBeenReset=!0}}));Object.defineProperty(k,"line",c({},q,{get:function(){return A},set:function(b){if("number"!==typeof b&&"auto"!==b)throw new SyntaxError("An invalid number or illegal string was specified.");A=b;this.hasBeenReset=!0}}));Object.defineProperty(k,"lineAlign",c({},q,{get:function(){return B},set:function(b){b=d(b);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");B=b;this.hasBeenReset=!0}}));Object.defineProperty(k,"position",c({},
    q,{get:function(){return E},set:function(b){if(0>b||100<b)throw Error("Position must be between 0 and 100.");E=b;this.hasBeenReset=!0}}));Object.defineProperty(k,"positionAlign",c({},q,{get:function(){return D},set:function(b){b=d(b);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");D=b;this.hasBeenReset=!0}}));Object.defineProperty(k,"size",c({},q,{get:function(){return G},set:function(b){if(0>b||100<b)throw Error("Size must be between 0 and 100.");G=b;this.hasBeenReset=
    !0}}));Object.defineProperty(k,"align",c({},q,{get:function(){return I},set:function(b){b=d(b);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");I=b;this.hasBeenReset=!0}}));k.displayState=void 0;if(p)return k}var f={"":!0,lr:!0,rl:!0},k={start:!0,middle:!0,end:!0,left:!0,right:!0};h.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};e.VTTCue=e.VTTCue||h;b.VTTCue=h})(this,this.vttjs||{});
(function(e,b){function d(b){return"number"===typeof b&&0<=b&&100>=b}function c(){var b=100,c=3,e=0,m=100,l=0,n=100,p="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return b},set:function(c){if(!d(c))throw Error("Width must be between 0 and 100.");b=c}},lines:{enumerable:!0,get:function(){return c},set:function(b){if("number"!==typeof b)throw new TypeError("Lines must be set to a number.");c=b}},regionAnchorY:{enumerable:!0,get:function(){return m},set:function(b){if(!d(b))throw Error("RegionAnchorX must be between 0 and 100.");
    m=b}},regionAnchorX:{enumerable:!0,get:function(){return e},set:function(b){if(!d(b))throw Error("RegionAnchorY must be between 0 and 100.");e=b}},viewportAnchorY:{enumerable:!0,get:function(){return n},set:function(b){if(!d(b))throw Error("ViewportAnchorY must be between 0 and 100.");n=b}},viewportAnchorX:{enumerable:!0,get:function(){return l},set:function(b){if(!d(b))throw Error("ViewportAnchorX must be between 0 and 100.");l=b}},scroll:{enumerable:!0,get:function(){return p},set:function(b){b=
    "string"!==typeof b?!1:h[b.toLowerCase()]?b.toLowerCase():!1;if(!1===b)throw new SyntaxError("An invalid or illegal string was specified.");p=b}}})}var h={"":!0,up:!0};e.VTTRegion=e.VTTRegion||c;b.VTTRegion=c})(this,this.vttjs||{});
(function(e){function b(b,c){this.name="ParsingError";this.code=b.code;this.message=c||b.message}function d(b){b=b.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);if(!b)return null;if(b[3]){var c=b[3].replace(":","");return 3600*(b[1]|0)+60*(b[2]|0)+(c|0)+(b[4]|0)/1E3}return 59<b[1]?3600*(b[1]|0)+60*(b[2]|0)+0+(b[4]|0)/1E3:0+60*(b[1]|0)+(b[2]|0)+(b[4]|0)/1E3}function c(){this.values=q(null)}function h(b,c,d,e){b=e?b.split(e):[b];for(var g in b)"string"===typeof b[g]&&(e=b[g].split(d),2===e.length&&c(e[0],
    e[1]))}function f(e,g,f){function l(){var c=d(e);if(null===c)throw new b(b.Errors.BadTimeStamp,"Malformed timestamp: "+m);e=e.replace(/^[^\sa-zA-Z-]+/,"");return c}function k(){e=e.replace(/^\s+/,"")}var m=e;k();g.startTime=l();k();if("--\x3e"!==e.substr(0,3))throw new b(b.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+m);e=e.substr(3);k();g.endTime=l();k();(function(b,d){var e=new c;h(b,function(b,c){switch(b){case "region":for(var d=f.length-1;0<=d;d--)if(f[d].id===
    c){e.set(b,f[d].region);break}break;case "vertical":e.alt(b,c,["rl","lr"]);break;case "line":var d=c.split(","),g=d[0];e.integer(b,g);e.percent(b,g)?e.set("snapToLines",!1):null;e.alt(b,g,["auto"]);2===d.length&&e.alt("lineAlign",d[1],["start","middle","end"]);break;case "position":d=c.split(",");e.percent(b,d[0]);2===d.length&&e.alt("positionAlign",d[1],["start","middle","end"]);break;case "size":e.percent(b,c);break;case "align":e.alt(b,c,["start","middle","end","left","right"])}},/:/,/\s/);d.region=
    e.get("region",null);d.vertical=e.get("vertical","");d.line=e.get("line","auto");d.lineAlign=e.get("lineAlign","start");d.snapToLines=e.get("snapToLines",!0);d.size=e.get("size",100);d.align=e.get("align","middle");d.position=e.get("position",{start:0,left:0,middle:50,end:100,right:100},d.align);d.positionAlign=e.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},d.align)})(e,g)}function k(b,c){function e(){if(!c)return null;var b=c.match(/^([^<]*)(<[^>]+>?)?/),
    b=b[1]?b[1]:b[2];c=c.substr(b.length);return b}function g(b){return t[b]}function f(b){for(;q=b.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)b=b.replace(q[0],g);return b}function h(c,d){var e=r[c];if(!e)return null;var g=b.document.createElement(e);g.localName=e;(e=w[c])&&d&&(g[e]=d.trim());return g}for(var l=b.document.createElement("div"),k=l,m,n=[];null!==(m=e());)if("<"===m[0])if("/"===m[1])n.length&&n[n.length-1]===m.substr(2).replace(">","")&&(n.pop(),k=k.parentNode);else{var p=d(m.substr(1,m.length-
    2));if(p)m=b.document.createProcessingInstruction("timestamp",p),k.appendChild(m);else{var q=m.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);q&&(!(m=h(q[1],q[3]))||v[m.localName]&&v[m.localName]!==k.localName||(q[2]&&(m.className=q[2].substr(1).replace("."," ")),n.push(q[1]),k.appendChild(m),k=m))}}else k.appendChild(b.document.createTextNode(f(m)));return l}function g(b){function c(b,d){for(var e=d.childNodes.length-1;0<=e;e--)b.push(d.childNodes[e])}function d(b){if(!b||!b.length)return null;
    var e=b.pop(),g=e.textContent||e.innerText;if(g)return(e=g.match(/^.*(\n|\r)/))?(b.length=0,e[0]):g;if("ruby"===e.tagName)return d(b);if(e.childNodes)return c(b,e),d(b)}var e=[],g="";if(!b||!b.childNodes)return"ltr";for(c(e,b);g=d(e);)for(var f=0;f<g.length;f++){b=g.charCodeAt(f);for(var h=0;h<u.length;h++)if(u[h]===b)return"rtl"}return"ltr"}function m(){}function l(b,c,d){var e=/MSIE\s8\.0/.test(navigator.userAgent),f="rgba(255, 255, 255, 1)",h="rgba(0, 0, 0, 0.8)";e&&(f="rgb(255, 255, 255)",h="rgb(0, 0, 0)");
    this.cue=c;this.cueDiv=k(b,c.text);f={color:f,backgroundColor:h,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};e||(f.writingMode=""===c.vertical?"horizontal-tb":"lr"===c.vertical?"vertical-lr":"vertical-rl",f.unicodeBidi="plaintext");this.applyStyles(f,this.cueDiv);this.div=b.document.createElement("div");f={textAlign:"middle"===c.align?"center":c.align,font:d.font,whiteSpace:"pre-line",position:"absolute"};e||(f.direction=g(this.cueDiv),f.writingMode=""===c.vertical?"horizontal-tb":
        "lr"===c.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext");this.applyStyles(f);this.div.appendChild(this.cueDiv);b=0;switch(c.positionAlign){case "start":b=c.position;break;case "middle":b=c.position-c.size/2;break;case "end":b=c.position-c.size}""===c.vertical?this.applyStyles({left:this.formatStyle(b,"%"),width:this.formatStyle(c.size,"%")}):this.applyStyles({top:this.formatStyle(b,"%"),height:this.formatStyle(c.size,"%")});this.move=function(b){this.applyStyles({top:this.formatStyle(b.top,
        "px"),bottom:this.formatStyle(b.bottom,"px"),left:this.formatStyle(b.left,"px"),right:this.formatStyle(b.right,"px"),height:this.formatStyle(b.height,"px"),width:this.formatStyle(b.width,"px")})}}function n(b){var c=/MSIE\s8\.0/.test(navigator.userAgent),d,e,g,f;if(b.div){e=b.div.offsetHeight;g=b.div.offsetWidth;f=b.div.offsetTop;var h=(h=b.div.childNodes)&&(h=h[0])&&h.getClientRects&&h.getClientRects();b=b.div.getBoundingClientRect();d=h?Math.max(h[0]&&h[0].height||0,b.height/h.length):0}this.left=
    b.left;this.right=b.right;this.top=b.top||f;this.height=b.height||e;this.bottom=b.bottom||f+(b.height||e);this.width=b.width||g;this.lineHeight=void 0!==d?d:b.lineHeight;c&&!this.lineHeight&&(this.lineHeight=13)}function p(){}var q=Object.create||function(){function b(){}return function(c){if(1!==arguments.length)throw Error("Object.create shim only accepts one parameter.");b.prototype=c;return new b}}();b.prototype=q(Error.prototype);b.prototype.constructor=b;b.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},
    BadTimeStamp:{code:1,message:"Malformed time stamp."}};c.prototype={set:function(b,c){this.get(b)||""===c||(this.values[b]=c)},get:function(b,c,d){return d?this.has(b)?this.values[b]:c[d]:this.has(b)?this.values[b]:c},has:function(b){return b in this.values},alt:function(b,c,d){for(var e=0;e<d.length;++e)if(c===d[e]){this.set(b,c);break}},integer:function(b,c){/^-?\d+$/.test(c)&&this.set(b,parseInt(c,10))},percent:function(b,c){return c.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(c=parseFloat(c),0<=c&&100>=
c)?(this.set(b,c),!0):!1}};var t={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\u00a0"},r={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},w={v:"title",lang:"lang"},v={rt:"ruby"},u=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,
    1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,
    1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,
    1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,
    2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,
    2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,
    64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,
    64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,
    64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,
    64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,
    64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,
    64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,
    64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,
    65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,
    65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,
    67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,
    67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68E3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,
    68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,
    68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,
    68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,
    68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,
    126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];
    m.prototype.applyStyles=function(b,c){c=c||this.div;for(var d in b)b.hasOwnProperty(d)&&(c.style[d]=b[d])};m.prototype.formatStyle=function(b,c){return 0===b?0:b+c};l.prototype=q(m.prototype);l.prototype.constructor=l;n.prototype.move=function(b,c){c=void 0!==c?c:this.lineHeight;switch(b){case "+x":this.left+=c;this.right+=c;break;case "-x":this.left-=c;this.right-=c;break;case "+y":this.top+=c;this.bottom+=c;break;case "-y":this.top-=c,this.bottom-=c}};n.prototype.overlaps=function(b){return this.left<
        b.right&&this.right>b.left&&this.top<b.bottom&&this.bottom>b.top};n.prototype.overlapsAny=function(b){for(var c=0;c<b.length;c++)if(this.overlaps(b[c]))return!0;return!1};n.prototype.within=function(b){return this.top>=b.top&&this.bottom<=b.bottom&&this.left>=b.left&&this.right<=b.right};n.prototype.overlapsOppositeAxis=function(b,c){switch(c){case "+x":return this.left<b.left;case "-x":return this.right>b.right;case "+y":return this.top<b.top;case "-y":return this.bottom>b.bottom}};n.prototype.intersectPercentage=
        function(b){return Math.max(0,Math.min(this.right,b.right)-Math.max(this.left,b.left))*Math.max(0,Math.min(this.bottom,b.bottom)-Math.max(this.top,b.top))/(this.height*this.width)};n.prototype.toCSSCompatValues=function(b){return{top:this.top-b.top,bottom:b.bottom-this.bottom,left:this.left-b.left,right:b.right-this.right,height:this.height,width:this.width}};n.getSimpleBoxPosition=function(b){var c=b.div?b.div.offsetHeight:b.tagName?b.offsetHeight:0,d=b.div?b.div.offsetWidth:b.tagName?b.offsetWidth:
        0,e=b.div?b.div.offsetTop:b.tagName?b.offsetTop:0;b=b.div?b.div.getBoundingClientRect():b.tagName?b.getBoundingClientRect():b;return{left:b.left,right:b.right,top:b.top||e,height:b.height||c,bottom:b.bottom||e+(b.height||c),width:b.width||d}};p.StringDecoder=function(){return{decode:function(b){if(!b)return"";if("string"!==typeof b)throw Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(b))}}};p.convertCueToDOMTree=function(b,c){return b&&c?k(b,c):null};p.processCues=
        function(b,c,d){if(!b||!c||!d)return null;for(;d.firstChild;)d.removeChild(d.firstChild);var e=b.document.createElement("div");e.style.position="absolute";e.style.left="0";e.style.right="0";e.style.top="0";e.style.bottom="0";e.style.margin="1.5%";d.appendChild(e);if(function(b){for(var c=0;c<b.length;c++)if(b[c].hasBeenReset||!b[c].displayState)return!0;return!1}(c)){var g=[],f=n.getSimpleBoxPosition(e),h={font:Math.round(5*f.height)/100+"px sans-serif"};(function(){for(var d,k,m=0;m<c.length;m++){k=
            c[m];d=new l(b,k,h);e.appendChild(d.div);var p=d,r=f,q=g,v=new n(p),w=p.cue,u;if("number"===typeof w.line&&(w.snapToLines||0<=w.line&&100>=w.line))u=w.line;else if(w.track&&w.track.textTrackList&&w.track.textTrackList.mediaElement){var t=w.track;u=t.textTrackList;for(var z=0,K=0;K<u.length&&u[K]!==t;K++)"showing"===u[K].mode&&z++;u=-1*++z}else u=-1;t=[];if(w.snapToLines){var L=void 0;switch(w.vertical){case "":t=["+y","-y"];L="height";break;case "rl":t=["+x","-x"];L="width";break;case "lr":t=["-x",
            "+x"],L="width"}var z=v.lineHeight,K=z*Math.round(u),L=r[L]+z,Z=t[0];Math.abs(K)>L&&(K=0>K?-1:1,K=K*Math.ceil(L/z)*z);0>u&&(K+=""===w.vertical?r.height:r.width,t=t.reverse());v.move(Z,K)}else{v=v.lineHeight/r.height*100;switch(w.lineAlign){case "middle":u-=v/2;break;case "end":u-=v}switch(w.vertical){case "":p.applyStyles({top:p.formatStyle(u,"%")});break;case "rl":p.applyStyles({left:p.formatStyle(u,"%")});break;case "lr":p.applyStyles({right:p.formatStyle(u,"%")})}t=["+y","-x","+x","-y"];v=new n(p)}w=
            void 0;a:{w=t;t=void 0;u=new n(v);z=1;for(K=0;K<w.length;K++){for(;v.overlapsOppositeAxis(r,w[K])||v.within(r)&&v.overlapsAny(q);)v.move(w[K]);if(v.within(r)){w=v;break a}L=v.intersectPercentage(r);z>L&&(t=new n(v),z=L);v=new n(u)}w=t||u}p.move(w.toCSSCompatValues(r));k.displayState=d.div;g.push(n.getSimpleBoxPosition(d))}})()}else for(d=0;d<c.length;d++)e.appendChild(c[d].displayState)};p.Parser=function(b,c,d){d||(d=c,c={});c||(c={});this.window=b;this.vttjs=c;this.state="INITIAL";this.buffer="";
        this.decoder=d||new TextDecoder("utf8");this.regionList=[]};p.Parser.prototype={reportOrThrowError:function(c){if(c instanceof b)this.onparsingerror&&this.onparsingerror(c);else throw c;},parse:function(d){function e(){for(var b=k.buffer,c=0;c<b.length&&"\r"!==b[c]&&"\n"!==b[c];)++c;var d=b.substr(0,c);"\r"===b[c]&&++c;"\n"===b[c]&&++c;k.buffer=b.substr(c);return d}function g(b){var d=new c;h(b,function(b,e){switch(b){case "id":d.set(b,e);break;case "width":d.percent(b,e);break;case "lines":d.integer(b,
        e);break;case "regionanchor":case "viewportanchor":var g=e.split(",");if(2!==g.length)break;var f=new c;f.percent("x",g[0]);f.percent("y",g[1]);if(!f.has("x")||!f.has("y"))break;d.set(b+"X",f.get("x"));d.set(b+"Y",f.get("y"));break;case "scroll":d.alt(b,e,["up"])}},/=/,/\s/);d.has("id")&&(b=new (k.vttjs.VTTRegion||k.window.VTTRegion),b.width=d.get("width",100),b.lines=d.get("lines",3),b.regionAnchorX=d.get("regionanchorX",0),b.regionAnchorY=d.get("regionanchorY",100),b.viewportAnchorX=d.get("viewportanchorX",
        0),b.viewportAnchorY=d.get("viewportanchorY",100),b.scroll=d.get("scroll",""),k.onregion&&k.onregion(b),k.regionList.push({id:d.get("id"),region:b}))}function l(b){h(b,function(b,c){switch(b){case "Region":g(c)}},/:/)}var k=this;d&&(k.buffer+=k.decoder.decode(d,{stream:!0}));try{var m;if("INITIAL"===k.state){if(!/\r\n|\n/.test(k.buffer))return this;m=e();var n=m.match(/^WEBVTT([ \t].*)?$/);if(!n||!n[0])throw new b(b.Errors.BadSignature);k.state="HEADER"}for(d=!1;k.buffer;){if(!/\r\n|\n/.test(k.buffer))return this;
        d?d=!1:m=e();switch(k.state){case "HEADER":/:/.test(m)?l(m):m||(k.state="ID");continue;case "NOTE":m||(k.state="ID");continue;case "ID":if(/^NOTE($|[ \t])/.test(m)){k.state="NOTE";break}if(!m)continue;k.cue=new (k.vttjs.VTTCue||k.window.VTTCue)(0,0,"");k.state="CUE";if(-1===m.indexOf("--\x3e")){k.cue.id=m;continue}case "CUE":try{f(m,k.cue,k.regionList)}catch(p){k.reportOrThrowError(p);k.cue=null;k.state="BADCUE";continue}k.state="CUETEXT";continue;case "CUETEXT":var r=-1!==m.indexOf("--\x3e");if(!m||
            r&&(d=!0)){k.oncue&&k.oncue(k.cue);k.cue=null;k.state="ID";continue}k.cue.text&&(k.cue.text+="\n");k.cue.text+=m;continue;case "BADCUE":m||(k.state="ID")}}}catch(p){k.reportOrThrowError(p);if("CUETEXT"===k.state&&k.cue&&k.oncue)k.oncue(k.cue);k.cue=null;k.state="INITIAL"===k.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{this.buffer+=this.decoder.decode();if(this.cue||"HEADER"===this.state)this.buffer+="\n\n",this.parse();if("INITIAL"===this.state)throw new b(b.Errors.BadSignature);
    }catch(c){this.reportOrThrowError(c)}this.onflush&&this.onflush();return this}};e.WebVTT=p})(this,this.vttjs||{});"undefined"===typeof window.HTMLVideoElement&&(document.createElement("video"),document.createElement("audio"),document.createElement("track"));
(function(e,b){"function"===typeof define&&define.amd?define(b):"object"===typeof exports?module.exports=b():e.returnExports=b()})(this,function(){var e=Array,b=e.prototype,d=Object,c=d.prototype,h=Function.prototype,f=String,k=f.prototype,g=Number,m=g.prototype,l=b.slice,n=b.splice,p=b.push,q=b.unshift,t=b.concat,r=h.call,w=h.apply,v=Math.max,u=Math.min,y=c.toString;$jscomp.initSymbol();$jscomp.initSymbol();var x="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,z,A=Function.prototype.toString;
    z=function(b){if("function"!==typeof b)return!1;if(x){var c;try{A.call(b),c=!0}catch(d){c=!1}return c}b=y.call(b);return"[object Function]"===b||"[object GeneratorFunction]"===b};var B,E=RegExp.prototype.exec;B=function(b){if("object"!==typeof b)return!1;var c;if(x)try{E.call(b),c=!0}catch(d){c=!1}else c="[object RegExp]"===y.call(b);return c};var D,G=String.prototype.valueOf;D=function(b){if("string"===typeof b)return!0;if("object"!==typeof b)return!1;var c;if(x)try{G.call(b),c=!0}catch(d){c=!1}else c=
        "[object String]"===y.call(b);return c};var I=d.defineProperty&&function(){try{var b={};d.defineProperty(b,"x",{enumerable:!1,value:b});for(var c in b)return!1;return b.x===b}catch(e){return!1}}(),C=function(b){var c;c=I?function(b,c,e,g){!g&&c in b||d.defineProperty(b,c,{configurable:!0,enumerable:!1,writable:!0,value:e})}:function(b,c,d,e){!e&&c in b||(b[c]=d)};return function(d,e,g){for(var f in e)b.call(e,f)&&c(d,f,e[f],g)}}(c.hasOwnProperty),J=function(b){var c=typeof b;return null===b||"object"!==
        c&&"function"!==c},F=g.isNaN||function(b){return b!==b},H={ToInteger:function(b){b=+b;F(b)?b=0:0!==b&&b!==1/0&&b!==-(1/0)&&(b=(0<b||-1)*Math.floor(Math.abs(b)));return b},ToPrimitive:function(b){var c;if(J(b))return b;c=b.valueOf;if(z(c)&&(c=c.call(b),J(c)))return c;c=b.toString;if(z(c)&&(c=c.call(b),J(c)))return c;throw new TypeError;},ToObject:function(b){if(null==b)throw new TypeError("can't convert "+b+" to object");return d(b)},ToUint32:function(b){return b>>>0}},O=function(){};C(h,{bind:function(b){var c=
        this;if(!z(c))throw new TypeError("Function.prototype.bind called on incompatible "+c);for(var e=l.call(arguments,1),g,f=v(0,c.length-e.length),h=[],k=0;k<f;k++)p.call(h,"$"+k);g=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof g){var f=c.apply(this,t.call(e,l.call(arguments)));return d(f)===f?f:this}return c.apply(b,t.call(e,l.call(arguments)))});c.prototype&&(O.prototype=c.prototype,g.prototype=new O,O.prototype=null);
        return g}});var N=r.bind(c.hasOwnProperty),R=r.bind(c.toString),P=r.bind(l),U=w.bind(l),K=r.bind(k.slice),L=r.bind(k.split),Z=r.bind(k.indexOf),Q=r.bind(p),W=r.bind(c.propertyIsEnumerable),X=r.bind(b.sort),Y=e.isArray||function(b){return"[object Array]"===R(b)},ia=1!==[].unshift(0);C(b,{unshift:function(){q.apply(this,arguments);return this.length}},ia);C(e,{isArray:Y});var S=d("a"),T="a"!==S[0]||!(0 in S),V=function(b){var c=!0,d=!0,e=!1;if(b)try{b.call("foo",function(b,d,e){"object"!==typeof e&&
    (c=!1)}),b.call([1],function(){d="string"===typeof this},"x")}catch(g){e=!0}return!!b&&!e&&c&&d};C(b,{forEach:function(b){var c=H.ToObject(this),d=T&&D(this)?L(this,""):c,e=-1,g=H.ToUint32(d.length),f;1<arguments.length&&(f=arguments[1]);if(!z(b))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++e<g;)e in d&&("undefined"===typeof f?b(d[e],e,c):b.call(f,d[e],e,c))}},!V(b.forEach));C(b,{map:function(b){var c=H.ToObject(this),d=T&&D(this)?L(this,""):c,g=H.ToUint32(d.length),
        f=e(g),h;1<arguments.length&&(h=arguments[1]);if(!z(b))throw new TypeError("Array.prototype.map callback must be a function");for(var l=0;l<g;l++)l in d&&(f[l]="undefined"===typeof h?b(d[l],l,c):b.call(h,d[l],l,c));return f}},!V(b.map));C(b,{filter:function(b){var c=H.ToObject(this),d=T&&D(this)?L(this,""):c,e=H.ToUint32(d.length),g=[],f,h;1<arguments.length&&(h=arguments[1]);if(!z(b))throw new TypeError("Array.prototype.filter callback must be a function");for(var l=0;l<e;l++)l in d&&(f=d[l],("undefined"===
    typeof h?b(f,l,c):b.call(h,f,l,c))&&Q(g,f));return g}},!V(b.filter));C(b,{every:function(b){var c=H.ToObject(this),d=T&&D(this)?L(this,""):c,e=H.ToUint32(d.length),g;1<arguments.length&&(g=arguments[1]);if(!z(b))throw new TypeError("Array.prototype.every callback must be a function");for(var f=0;f<e;f++)if(f in d&&("undefined"===typeof g?!b(d[f],f,c):!b.call(g,d[f],f,c)))return!1;return!0}},!V(b.every));C(b,{some:function(b){var c=H.ToObject(this),d=T&&D(this)?L(this,""):c,e=H.ToUint32(d.length),
        g;1<arguments.length&&(g=arguments[1]);if(!z(b))throw new TypeError("Array.prototype.some callback must be a function");for(var f=0;f<e;f++)if(f in d&&("undefined"===typeof g?b(d[f],f,c):b.call(g,d[f],f,c)))return!0;return!1}},!V(b.some));var wa=!1;b.reduce&&(wa="object"===typeof b.reduce.call("es5",function(b,c,d,e){return e}));C(b,{reduce:function(b){var c=H.ToObject(this),d=T&&D(this)?L(this,""):c,e=H.ToUint32(d.length);if(!z(b))throw new TypeError("Array.prototype.reduce callback must be a function");
        if(0===e&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var g=0,f;if(2<=arguments.length)f=arguments[1];else{do{if(g in d){f=d[g++];break}if(++g>=e)throw new TypeError("reduce of empty array with no initial value");}while(1)}for(;g<e;g++)g in d&&(f=b(f,d[g],g,c));return f}},!wa);var xa=!1;b.reduceRight&&(xa="object"===typeof b.reduceRight.call("es5",function(b,c,d,e){return e}));C(b,{reduceRight:function(b){var c=H.ToObject(this),d=T&&D(this)?L(this,""):c,
        e=H.ToUint32(d.length);if(!z(b))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===e&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var g,e=e-1;if(2<=arguments.length)g=arguments[1];else{do{if(e in d){g=d[e--];break}if(0>--e)throw new TypeError("reduceRight of empty array with no initial value");}while(1)}if(0>e)return g;do e in d&&(g=b(g,d[e],e,c));while(e--);return g}},!xa);var Na=b.indexOf&&-1!==[0,1].indexOf(1,2);
    C(b,{indexOf:function(b){var c=T&&D(this)?L(this,""):H.ToObject(this),d=H.ToUint32(c.length);if(0===d)return-1;var e=0;1<arguments.length&&(e=H.ToInteger(arguments[1]));for(e=0<=e?e:v(0,d+e);e<d;e++)if(e in c&&c[e]===b)return e;return-1}},Na);var Oa=b.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);C(b,{lastIndexOf:function(b){var c=T&&D(this)?L(this,""):H.ToObject(this),d=H.ToUint32(c.length);if(0===d)return-1;var e=d-1;1<arguments.length&&(e=u(e,H.ToInteger(arguments[1])));for(e=0<=e?e:d-Math.abs(e);0<=
    e;e--)if(e in c&&b===c[e])return e;return-1}},Oa);var Pa=function(){var b=[1,2],c=b.splice();return 2===b.length&&Y(c)&&0===c.length}();C(b,{splice:function(b,c){return 0===arguments.length?[]:n.apply(this,arguments)}},!Pa);var Qa=function(){var c={};b.splice.call(c,0,0,1);return 1===c.length}();C(b,{splice:function(b,c){if(0===arguments.length)return[];var d=arguments;this.length=v(H.ToInteger(this.length),0);0<arguments.length&&"number"!==typeof c&&(d=P(arguments),2>d.length?Q(d,this.length-b):
        d[1]=H.ToInteger(c));return n.apply(this,d)}},!Qa);var Ra=function(){var b=new e(1E5);b[8]="x";b.splice(1,1);return 7===b.indexOf("x")}(),Sa=function(){var b=[];b[256]="a";b.splice(257,0,"b");return"a"===b[256]}();C(b,{splice:function(b,c){for(var d=H.ToObject(this),e=[],g=H.ToUint32(d.length),h=H.ToInteger(b),l=0>h?v(g+h,0):u(h,g),h=u(v(H.ToInteger(c),0),g-l),k=0,m;k<h;)m=f(l+k),N(d,m)&&(e[k]=d[m]),k+=1;var n=P(arguments,2),p=n.length,r;if(p<h){for(k=l;k<g-h;)m=f(k+h),r=f(k+p),N(d,m)?d[r]=d[m]:delete d[r],
        k+=1;for(k=g;k>g-h+p;)delete d[k-1],--k}else if(p>h)for(k=g-h;k>l;)m=f(k+h-1),r=f(k+p-1),N(d,m)?d[r]=d[m]:delete d[r],--k;k=l;for(l=0;l<n.length;++l)d[k]=n[l],k+=1;d.length=g-h+p;return e}},!Ra||!Sa);var ya=b.join,da;try{da="1,2,3"!==Array.prototype.join.call("123",",")}catch(ga){da=!0}da&&C(b,{join:function(b){b="undefined"===typeof b?",":b;return ya.call(D(this)?L(this,""):this,b)}},da);C(b,{join:function(b){return ya.call(this,"undefined"===typeof b?",":b)}},!0);var za=function(b){for(var c=H.ToObject(this),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         d=H.ToUint32(c.length),e=0;e<arguments.length;)c[d+e]=arguments[e],e+=1;c.length=d+e;return d+e},Ta=function(){var b={};return 1!==Array.prototype.push.call(b,void 0)||1!==b.length||"undefined"!==typeof b[0]||!N(b,0)}();C(b,{push:function(b){return Y(this)?p.apply(this,arguments):za.apply(this,arguments)}},Ta);var Ua=function(){var b=[];return 1!==b.push(void 0)||1!==b.length||"undefined"!==typeof b[0]||!N(b,0)}();C(b,{push:za},Ua);C(b,{slice:function(b,c){var d=D(this)?L(this,""):this;return U(d,
        arguments)}},T);var ja;a:{try{[1,2].sort(null);[1,2].sort({});ja=!0;break a}catch(ga){}ja=!1}var ka;a:{try{[1,2].sort(/a/);ka=!1;break a}catch(ga){}ka=!0}var la;a:{try{[1,2].sort(void 0);la=!0;break a}catch(ga){}la=!1}C(b,{sort:function(b){if("undefined"===typeof b)return X(this);if(!z(b))throw new TypeError("Array.prototype.sort callback must be a function");return X(this,b)}},ja||!la||!ka);var Va=!{toString:null}.propertyIsEnumerable("toString"),Wa=function(){}.propertyIsEnumerable("prototype"),
        Xa=!N("x","0"),ma=function(b){var c=b.constructor;return c&&c.prototype===b},Ya={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},Za=function(){if("undefined"===typeof window)return!1;for(var b in window)try{!Ya["$"+b]&&N(window,b)&&null!==window[b]&&"object"===typeof window[b]&&ma(window[b])}catch(c){return!0}return!1}(),Aa="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),
        $a=Aa.length,Ba=function(b){return"[object Arguments]"===R(b)},ab=function(b){return null!==b&&"object"===typeof b&&"number"===typeof b.length&&0<=b.length&&!Y(b)&&z(b.callee)},Ca=Ba(arguments)?Ba:ab;C(d,{keys:function(b){var c=z(b),d=Ca(b),e=null!==b&&"object"===typeof b,g=e&&D(b);if(!e&&!c&&!d)throw new TypeError("Object.keys called on a non-object");e=[];c=Wa&&c;if(g&&Xa||d)for(g=0;g<b.length;++g)Q(e,f(g));if(!d)for(var h in b)c&&"prototype"===h||!N(b,h)||Q(e,f(h));if(Va){var l;if("undefined"!==
        typeof window&&Za)try{l=ma(b)}catch(k){l=!1}else l=ma(b);for(d=0;d<$a;d++)h=Aa[d],l&&"constructor"===h||!N(b,h)||Q(e,h)}return e}});var bb=d.keys&&function(){return 2===d.keys(arguments).length}(1,2),cb=d.keys&&function(){var b=d.keys(arguments);return 1!==arguments.length||1!==b.length||1!==b[0]}(1),Da=d.keys;C(d,{keys:function(b){return Ca(b)?Da(P(b)):Da(b)}},!bb||cb);var ea=0!==(new Date(-0xc782b5b342b24)).getUTCMonth(),fa=new Date(-0x55d318d56a724),Ea=new Date(14496624E5),db="Mon, 01 Jan -45875 11:59:59 GMT"!==
        fa.toUTCString(),na,oa;-720>fa.getTimezoneOffset()?(na="Tue Jan 02 -45875"!==fa.toDateString(),oa=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Ea.toString())):(na="Mon Jan 01 -45875"!==fa.toDateString(),oa=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Ea.toString()));var pa=r.bind(Date.prototype.getFullYear),qa=r.bind(Date.prototype.getMonth),ra=r.bind(Date.prototype.getDate),ba=r.bind(Date.prototype.getUTCFullYear),ca=r.bind(Date.prototype.getUTCMonth),sa=r.bind(Date.prototype.getUTCDate),
        eb=r.bind(Date.prototype.getUTCDay),Fa=r.bind(Date.prototype.getUTCHours),Ga=r.bind(Date.prototype.getUTCMinutes),Ha=r.bind(Date.prototype.getUTCSeconds),fb=r.bind(Date.prototype.getUTCMilliseconds),ta="Sun Mon Tue Wed Thu Fri".split(" "),ua="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");C(Date.prototype,{getFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var b=pa(this);return 0>b&&11<qa(this)?b+1:b},getMonth:function(){if(!(this&&
        this instanceof Date))throw new TypeError("this is not a Date object.");var b=pa(this),c=qa(this);return 0>b&&11<c?0:c},getDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var b=pa(this),c=qa(this),d=ra(this);return 0>b&&11<c?12===c?d:ra(new Date(b+1,0,0))-d+1:d},getUTCFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var b=ba(this);return 0>b&&11<ca(this)?b+1:b},getUTCMonth:function(){if(!(this&&
        this instanceof Date))throw new TypeError("this is not a Date object.");var b=ba(this),c=ca(this);return 0>b&&11<c?0:c},getUTCDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var b=ba(this),c=ca(this),d=sa(this);return 0>b&&11<c?12===c?d:ra(new Date(b+1,0,0))-d+1:d}},ea);C(Date.prototype,{toUTCString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var b=eb(this),c=sa(this),d=ca(this),e=ba(this),g=Fa(this),
        f=Ga(this),h=Ha(this);return ta[b]+", "+(10>c?"0"+c:c)+" "+ua[d]+" "+e+" "+(10>g?"0"+g:g)+":"+(10>f?"0"+f:f)+":"+(10>h?"0"+h:h)+" GMT"}},ea||db);C(Date.prototype,{toDateString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var b=this.getDay(),c=this.getDate(),d=this.getMonth(),e=this.getFullYear();return ta[b]+" "+ua[d]+" "+(10>c?"0"+c:c)+" "+e}},ea||na);if(ea||oa)Date.prototype.toString=function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");
        var b=this.getDay(),c=this.getDate(),d=this.getMonth(),e=this.getFullYear(),g=this.getHours(),f=this.getMinutes(),h=this.getSeconds(),l=this.getTimezoneOffset(),k=Math.floor(Math.abs(l)/60),m=Math.floor(Math.abs(l)%60);return ta[b]+" "+ua[d]+" "+(10>c?"0"+c:c)+" "+e+" "+(10>g?"0"+g:g)+":"+(10>f?"0"+f:f)+":"+(10>h?"0"+h:h)+" GMT"+(0<l?"-":"+")+(10>k?"0"+k:k)+(10>m?"0"+m:m)},I&&d.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0});var gb=Date.prototype.toISOString&&
        -1===(new Date(-621987552E5)).toISOString().indexOf("-000001"),hb=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==(new Date(-1)).toISOString();C(Date.prototype,{toISOString:function(){if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(var b=ba(this),c=ca(this),b=b+Math.floor(c/12),c=[(c%12+12)%12+1,sa(this),Fa(this),Ga(this),Ha(this)],b=(0>b?"-":9999<b?"+":"")+K("00000"+Math.abs(b),0<=b&&9999>=b?-4:-6),d=0;d<c.length;++d)c[d]=K("00"+c[d],
        -2);return b+"-"+P(c,0,2).join("-")+"T"+P(c,2).join(":")+"."+K("000"+fb(this),-3)+"Z"}},gb||hb);(function(){try{return Date.prototype.toJSON&&null===(new Date(NaN)).toJSON()&&-1!==(new Date(-621987552E5)).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(b){return!1}})()||(Date.prototype.toJSON=function(b){b=d(this);var c=H.ToPrimitive(b);if("number"===typeof c&&!isFinite(c))return null;c=b.toISOString;if(!z(c))throw new TypeError("toISOString property is not callable");
        return c.call(b)});var ib=1E15===Date.parse("+033658-09-27T01:46:40.000Z"),jb=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));if(isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||jb||!ib){var aa=Math.pow(2,31)-1,Ia=F((new Date(1970,0,1,0,0,0,aa+1)).getTime());Date=function(b){var c=function(d,e,g,h,l,k,m){var n=arguments.length;if(this instanceof b){var p=k,r=m;if(Ia&&7<=n&&m>aa)var q=Math.floor(Math.floor(m/
            aa)*aa/1E3),p=p+q,r=r-1E3*q;n=1===n&&f(d)===d?new b(c.parse(d)):7<=n?new b(d,e,g,h,l,p,r):6<=n?new b(d,e,g,h,l,p):5<=n?new b(d,e,g,h,l):4<=n?new b(d,e,g,h):3<=n?new b(d,e,g):2<=n?new b(d,e):1<=n?new b(d):new b}else n=b.apply(this,arguments);J(n)||C(n,{constructor:c},!0);return n},d=/^(\d{4}|[+-]\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2})(?::(\d{2})(?:(\.\d{1,}))?)?(Z|(?:([-+])(\d{2}):(\d{2})))?)?)?)?$/,e=[0,31,59,90,120,151,181,212,243,273,304,334,365],h=function(b,c){var d=1<c?1:0;return e[c]+
        Math.floor((b-1969+d)/4)-Math.floor((b-1901+d)/100)+Math.floor((b-1601+d)/400)+365*(b-1970)},l;for(l in b)N(b,l)&&(c[l]=b[l]);C(c,{now:b.now,UTC:b.UTC},!0);c.prototype=b.prototype;C(c.prototype,{constructor:c},!0);C(c,{parse:function(c){var e=d.exec(c);if(e){var f=g(e[1]),l=g(e[2]||1)-1,k=g(e[3]||1)-1,m=g(e[4]||0),n=g(e[5]||0),p=g(e[6]||0),r=Math.floor(1E3*g(e[7]||0)),q=!(!e[4]||e[8]),v="-"===e[9]?1:-1,w=g(e[10]||0),e=g(e[11]||0);return m<(0<n||0<p||0<r?24:25)&&60>n&&60>p&&1E3>r&&-1<l&&12>l&&24>w&&
    60>e&&-1<k&&k<h(f,l+1)-h(f,l)&&(f=60*(24*(h(f,l)+k)+m+w*v),f=1E3*(60*(f+n+e*v)+p)+r,q&&(n=0,p=f,Ia&&p>aa&&(r=Math.floor(Math.floor(p/aa)*aa/1E3),n+=r,p-=1E3*r),f=g(new b(1970,0,1,0,0,n,p))),-864E13<=f&&864E13>=f)?f:NaN}return b.parse.apply(this,arguments)}});return c}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var kb=m.toFixed&&("0.000"!==(8E-5).toFixed(3)||"1"!==(.9).toFixed(0)||"1.25"!==(1.255).toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),M={base:1E7,
        size:6,data:[0,0,0,0,0,0],multiply:function(b,c){for(var d=-1,e=c;++d<M.size;)e+=b*M.data[d],M.data[d]=e%M.base,e=Math.floor(e/M.base)},divide:function(b){for(var c=M.size,d=0;0<=--c;)d+=M.data[c],M.data[c]=Math.floor(d/b),d=d%b*M.base},numToString:function(){for(var b=M.size,c="";0<=--b;)if(""!==c||0===b||0!==M.data[b])var d=f(M.data[b]),c=""===c?d:c+(K("0000000",0,7-d.length)+d);return c},pow:function ha(b,c,d){return 0===c?d:1===c%2?ha(b,c-1,d*b):ha(b*b,c/2,d)},log:function(b){for(var c=0;4096<=
        b;)c+=12,b/=4096;for(;2<=b;)c+=1,b/=2;return c}};C(m,{toFixed:function(b){var c,d,e;b=g(b);b=F(b)?0:Math.floor(b);if(0>b||20<b)throw new RangeError("Number.toFixed called with invalid number of decimals");c=g(this);if(F(c))return"NaN";if(-1E21>=c||1E21<=c)return f(c);d="";0>c&&(d="-",c=-c);e="0";if(1E-21<c)if(e=M.log(c*M.pow(2,69,1))-69,c=0>e?c*M.pow(2,-e,1):c/M.pow(2,e,1),c*=4503599627370496,e=52-e,0<e){M.multiply(0,c);for(c=b;7<=c;)M.multiply(1E7,0),c-=7;M.multiply(M.pow(10,c,1),0);for(c=e-1;23<=
    c;)M.divide(8388608),c-=23;M.divide(1<<c);M.multiply(1,1);M.divide(2);e=M.numToString()}else M.multiply(0,c),M.multiply(1<<-e,0),e=M.numToString()+K("0.00000000000000000000",2,2+b);0<b?(c=e.length,e=c<=b?d+K("0.0000000000000000000",0,b-c+2)+e:d+K(e,0,c-b)+"."+K(e,c-b)):e=d+e;return e}},kb);var va;try{va="1"===(1).toPrecision(void 0)}catch(ha){va=!0}var Ja=m.toPrecision;C(m,{toPrecision:function(b){return"undefined"===typeof b?Ja.call(this):Ja.call(this,b)}},va);2!=="ab".split(/(?:ab)*/).length||4!==
    ".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||1<".".split(/()()/).length?function(){var b="undefined"===typeof/()??/.exec("")[1],c=Math.pow(2,32)-1;k.split=function(d,e){var g=String(this);if("undefined"===typeof d&&0===e)return[];if(!B(d))return L(this,d,e);var f=[],h=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(d.sticky?"y":""),l=0,k,m,n,r=new RegExp(d.source,h+"g");b||(k=new RegExp("^"+r.source+"$(?!\\s)",
        h));var q="undefined"===typeof e?c:H.ToUint32(e);for(m=r.exec(g);m;){h=m.index+m[0].length;if(h>l&&(Q(f,K(g,l,m.index)),!b&&1<m.length&&m[0].replace(k,function(){for(var b=1;b<arguments.length-2;b++)"undefined"===typeof arguments[b]&&(m[b]=void 0)}),1<m.length&&m.index<g.length&&p.apply(f,P(m,1)),n=m[0].length,l=h,f.length>=q))break;r.lastIndex===m.index&&r.lastIndex++;m=r.exec(g)}l===g.length?!n&&r.test("")||Q(f,""):Q(f,K(g,l));return f.length>q?K(f,0,q):f}}():"0".split(void 0,0).length&&(k.split=
        function(b,c){return"undefined"===typeof b&&0===c?[]:L(this,b,c)});var Ka=k.replace;(function(){var b=[];"x".replace(/x(.)?/g,function(c,d){Q(b,d)});return 1===b.length&&"undefined"===typeof b[0]})()||(k.replace=function(b,c){var d=z(c),e=B(b)&&/\)[*?]/.test(b.source);return d&&e?Ka.call(this,b,function(d){var e=arguments.length,g=b.lastIndex;b.lastIndex=0;var f=b.exec(d)||[];b.lastIndex=g;Q(f,arguments[e-2],arguments[e-1]);return c.apply(this,f)}):Ka.call(this,b,c)});var lb=k.substr,mb="".substr&&
        "b"!=="0b".substr(-1);C(k,{substr:function(b,c){var d=b;0>b&&(d=v(this.length+b,0));return lb.call(this,d,c)}},mb);var nb=RegExp("^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*"),ob=RegExp("[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$"),
        pb=k.trim&&("\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff".trim()||!"\u200b".trim());C(k,{trim:function(){if("undefined"===typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return f(this).replace(nb,"").replace(ob,"")}},pb);var La=r.bind(String.prototype.trim);C(k,{lastIndexOf:function(b){if("undefined"===typeof this||null===this)throw new TypeError("can't convert "+this+" to object");
        for(var c=f(this),d=f(b),e=1<arguments.length?g(arguments[1]):NaN,e=F(e)?Infinity:H.ToInteger(e),e=u(v(e,0),c.length),h=d.length,l=e+h;0<l;){var l=v(0,l-h),k=Z(K(c,l,e+h),d);if(-1!==k)return l+k}return-1}},k.lastIndexOf&&!1);var qb=k.lastIndexOf;C(k,{lastIndexOf:function(b){return qb.apply(this,arguments)}},1!==k.lastIndexOf.length);if(8!==parseInt("\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff08")||22!==parseInt("\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff0x16"))parseInt=
        function(b){var c=/^[\-+]?0[xX]/;return function(d,e){var f=La(d),h=g(e)||(c.test(f)?16:10);return b(f,h)}}(parseInt);-Infinity!==1/-0&&(parseFloat=function(b){return function(c){c=La(c);var d=b(c);return 0===d&&"-"===K(c,0,1)?-0:d}}(parseFloat));"RangeError: test"!==String(new RangeError("test"))&&(Error.prototype.toString=function(){if("undefined"===typeof this||null===this)throw new TypeError("can't convert "+this+" to object");var b=this.name;"undefined"===typeof b?b="Error":"string"!==typeof b&&
    (b=f(b));var c=this.message;"undefined"===typeof c?c="":"string"!==typeof c&&(c=f(c));return b?c?b+": "+c:b:c});if(I){var Ma=function(b,c){if(W(b,c)){var d=Object.getOwnPropertyDescriptor(b,c);d.enumerable=!1;Object.defineProperty(b,c,d)}};Ma(Error.prototype,"message");""!==Error.prototype.message&&(Error.prototype.message="");Ma(Error.prototype,"name")}"/a/gim"!==String(/a/mig)&&(RegExp.prototype.toString=function(){var b="/"+this.source+"/";this.global&&(b+="g");this.ignoreCase&&(b+="i");this.multiline&&
    (b+="m");return b})});
(function(e,b){"function"===typeof define&&define.amd?define(b):"object"===typeof exports?module.exports=b():e.returnExports=b()})(this,function(){var e=Function.call,b=Object.prototype,d=e.bind(b.hasOwnProperty),c=e.bind(b.propertyIsEnumerable),h=e.bind(b.toString),f,k,g,m,l=d(b,"__defineGetter__");l&&(f=e.bind(b.__defineGetter__),k=e.bind(b.__defineSetter__),g=e.bind(b.__lookupGetter__),m=e.bind(b.__lookupSetter__));Object.getPrototypeOf||(Object.getPrototypeOf=function(c){var d=c.__proto__;return d||
null===d?d:"[object Function]"===h(c.constructor)?c.constructor.prototype:c instanceof Object?b:null});e=function(b){try{return b.sentinel=0,0===Object.getOwnPropertyDescriptor(b,"sentinel").value}catch(c){return!1}};if(Object.defineProperty){var n=e({});if("undefined"!==typeof document&&!e(document.createElement("div"))||!n)var p=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||p)Object.getOwnPropertyDescriptor=function(e,f){if("object"!==typeof e&&"function"!==typeof e||null===
    e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(p)try{return p.call(Object,e,f)}catch(h){}var k;if(!d(e,f))return k;k={enumerable:c(e,f),configurable:!0};if(l){var n=e.__proto__,r=e!==b;r&&(e.__proto__=b);var q=g(e,f),v=m(e,f);r&&(e.__proto__=n);if(q||v)return q&&(k.get=q),v&&(k.set=v),k}k.value=e[f];k.writable=!0;return k};Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(b){return Object.keys(b)});if(!Object.create){var q,t=function(){if(!document.domain)return!1;
    try{return!!new ActiveXObject("htmlfile")}catch(b){return!1}},r=function(){var b;b=new ActiveXObject("htmlfile");b.write("<script>\x3c/script>");b.close();return b.parentWindow.Object.prototype},w=function(){var b=document.createElement("iframe"),c=document.body||document.documentElement,d;b.style.display="none";c.appendChild(b);b.src="javascript:";d=b.contentWindow.Object.prototype;c.removeChild(b);return d};q="undefined"===typeof document?function(){return{__proto__:null}}:function(){var b=t()?
    r():w();delete b.constructor;delete b.hasOwnProperty;delete b.propertyIsEnumerable;delete b.isPrototypeOf;delete b.toLocaleString;delete b.toString;delete b.valueOf;var c=function(){};c.prototype=b;q=function(){return new c};return new c};Object.create=function(b,c){var d;d=function(){};if(null===b)d=q();else{if("object"!==typeof b&&"function"!==typeof b)throw new TypeError("Object prototype may only be an Object or null");d.prototype=b;d=new d;d.__proto__=b}void 0!==c&&Object.defineProperties(d,
    c);return d}}n=function(b){try{return Object.defineProperty(b,"sentinel",{}),"sentinel"in b}catch(c){return!1}};if(Object.defineProperty&&(e=n({}),n="undefined"===typeof document||n(document.createElement("div")),!e||!n))var v=Object.defineProperty,u=Object.defineProperties;if(!Object.defineProperty||v)Object.defineProperty=function(c,d,e){if("object"!==typeof c&&"function"!==typeof c||null===c)throw new TypeError("Object.defineProperty called on non-object: "+c);if("object"!==typeof e&&"function"!==
    typeof e||null===e)throw new TypeError("Property description must be an object: "+e);if(v)try{return v.call(Object,c,d,e)}catch(h){}if("value"in e)if(l&&(g(c,d)||m(c,d))){var n=c.__proto__;c.__proto__=b;delete c[d];c[d]=e.value;c.__proto__=n}else c[d]=e.value;else{if(!l&&("get"in e||"set"in e))throw new TypeError("getters & setters can not be defined on this javascript engine");"get"in e&&f(c,d,e.get);"set"in e&&k(c,d,e.set)}return c};if(!Object.defineProperties||u)Object.defineProperties=function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           c){if(u)try{return u.call(Object,b,c)}catch(d){}Object.keys(c).forEach(function(d){"__proto__"!==d&&Object.defineProperty(b,d,c[d])});return b};Object.seal||(Object.seal=function(b){if(Object(b)!==b)throw new TypeError("Object.seal can only be called on Objects.");return b});Object.freeze||(Object.freeze=function(b){if(Object(b)!==b)throw new TypeError("Object.freeze can only be called on Objects.");return b});try{Object.freeze(function(){})}catch(y){Object.freeze=function(b){return function(c){return"function"===
typeof c?c:b(c)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(b){if(Object(b)!==b)throw new TypeError("Object.preventExtensions can only be called on Objects.");return b});Object.isSealed||(Object.isSealed=function(b){if(Object(b)!==b)throw new TypeError("Object.isSealed can only be called on Objects.");return!1});Object.isFrozen||(Object.isFrozen=function(b){if(Object(b)!==b)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1});Object.isExtensible||
(Object.isExtensible=function(b){if(Object(b)!==b)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var c="";d(b,c);)c+="?";b[c]=!0;var e=d(b,c);delete b[c];return e})});function X2JS(e,b,d){function c(b){var c=b.localName;return null==c&&(c=b.baseName),(null==c||""==c)&&(c=b.nodeName),c}function h(b){return"string"==typeof b?b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):b}function f(g){if(g.nodeType==r.DOCUMENT_NODE){var h,l,k=g.firstChild;h=0;for(l=g.childNodes.length;l>h;h+=1)if(g.childNodes[h].nodeType!==r.COMMENT_NODE){k=g.childNodes[h];break}d?h=f(k):(h={},l=c(k),h[l]=
    f(k));return h}if(g.nodeType==r.ELEMENT_NODE){h={__cnt:0};for(var m=[],n=g.childNodes,p=0;p<n.length;p++)if(k=n.item(p),l=c(k),h.__cnt++,null==h[l]){k=f(k);if("#text"!=l||/[^\s]/.test(k)){var q={};q[l]=k;m.push(q)}h[l]=k;h[l+"_asArray"]=Array(1);h[l+"_asArray"][0]=h[l]}else{if(null!=h[l]&&!(h[l]instanceof Array)){var E=h[l];h[l]=[];h[l][0]=E;h[l+"_asArray"]=h[l]}for(E=0;null!=h[l][E];)E++;k=f(k);if("#text"!=l||/[^\s]/.test(k))q={},q[l]=k,m.push(q);h[l][E]=k}h.__children=m;for(k=0;k<g.attributes.length;k++){l=
    g.attributes.item(k);h.__cnt++;m=l.value;n=0;for(p=e.length;p>n;n++)E=e[n],E.test.call(this,l)&&(m=E.converter.call(this,l.value));h[b+l.name]=m}g=g.prefix;return null!=g&&""!=g&&(h.__cnt++,h.__prefix=g),1==h.__cnt&&null!=h["#text"]&&(h=h["#text"]),null!=h["#text"]&&(h.__text=h["#text"],t&&(h.__text=h.__text.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")),delete h["#text"],delete h["#text_asArray"]),null!=h["#cdata-section"]&&
(h.__cdata=h["#cdata-section"],delete h["#cdata-section"],delete h["#cdata-section_asArray"]),(null!=h.__text||null!=h.__cdata)&&(h.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),h}return g.nodeType==r.TEXT_NODE||g.nodeType==r.CDATA_SECTION_NODE?g.nodeValue:g.nodeType==r.COMMENT_NODE?null:void 0}function k(b,c,d,e){c="<"+(null!=b&&null!=b.__prefix?b.__prefix+":":"")+c;if(null!=d)for(var g=0;g<d.length;g++){var f=d[g],h=b[f];c+=" "+f.substr(1)+"='"+
    h+"'"}return c+(e?"/>":">")}function g(b,c){return"</"+(null!=b.__prefix?b.__prefix+":":"")+c+">"}function m(b,c){var d=c.toString();return-1!==d.indexOf("_asArray",d.length-8)||0==c.toString().indexOf("_")||b[c]instanceof Function?!0:!1}function l(b){var c=0;if(b instanceof Object)for(var d in b)m(b,d)||c++;return c}function n(b){var c=[];if(b instanceof Object)for(var d in b)-1==d.toString().indexOf("__")&&0==d.toString().indexOf("_")&&c.push(d);return c}function p(b){var c="";if(b instanceof Object){var d=
    "";b=(null!=b.__cdata&&(d+="<![CDATA["+b.__cdata+"]]\x3e"),null!=b.__text&&(d+=t?h(b.__text):b.__text),d);c+=b}else null!=b&&(c+=t?h(b):b);return c}function q(b){var c="";if(0<l(b))for(var d in b)if(!m(b,d)){var e=b[d],f=n(e);if(null==e||void 0==e)c+=k(e,d,f,!0);else if(e instanceof Object)if(e instanceof Array){var h=d,r="";if(0==e.length)r+=k(e,h,f,!0);else for(f=0;f<e.length;f++)r+=k(e[f],h,n(e[f]),!1),r+=q(e[f]),r+=g(e[f],h);c+=r}else 0<l(e)||null!=e.__text||null!=e.__cdata?(c+=k(e,d,f,!1),c+=
    q(e),c+=g(e,d)):c+=k(e,d,f,!0);else c+=k(e,d,f,!1),c+=p(e),c+=g(e,d)}return c+p(b)}null!==b&&void 0!==b||(b="_");null!==d&&void 0!==d||(d=!1);var t=!1,r={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(b){var c,d,e;if(window.DOMParser){d=new window.DOMParser;try{e=d.parseFromString("<","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(g){}try{c=d.parseFromString(b,"text/xml"),e&&c.getElementsByTagNameNS(e,"parsererror").length&&
(c=void 0)}catch(g){}}else 0==b.indexOf("<?")&&(b=b.substr(b.indexOf("?>")+2)),c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b);return c};this.xml2json=function(b){return f(b)};this.xml_str2json=function(b){return(b=this.parseXmlString(b))?this.xml2json(b):void 0};this.json2xml_str=function(b){return q(b)};this.json2xml=function(b){b=this.json2xml_str(b);return this.parseXmlString(b)};this.getVersion=function(){return"1.0.11"};this.escapeMode=function(b){t=b}}
function ObjectIron(e){var b;b=[];i=0;for(len=e.length;i<len;i+=1)e[i].isRoot?b.push("root"):b.push(e[i].name);var d=function(b,c,d){var e,h,n,p,q;if(null!==b&&0!==b.length)for(e=0,h=b.length;h>e;e+=1)if(n=b[e],c.hasOwnProperty(n.name))if(d.hasOwnProperty(n.name)){if(n.merge)if(p=c[n.name],q=d[n.name],"object"==typeof p&&"object"==typeof q){if(n=p,p=void 0,null!==n&&null!==q)for(p in n)n.hasOwnProperty(p)&&(q.hasOwnProperty(p)||(q[p]=n[p]))}else null!=n.mergeFunction?d[n.name]=n.mergeFunction(p,q):
    d[n.name]=p+q}else d[n.name]=c[n.name]},c=function(b,e){var g,h,l,n,p,q,t;if(null!==b.children&&0!==b.children.length)for(g=0,h=b.children.length;h>g;g+=1)if(q=b.children[g],e.hasOwnProperty(q.name))if(q.isArray)for(p=e[q.name+"_asArray"],l=0,n=p.length;n>l;l+=1)t=p[l],d(b.properties,e,t),c(q,t);else t=e[q.name],d(b.properties,e,t),c(q,t)},h=function(d){var k,g,m,l,n,p,q;if(null===d||"object"!=typeof d)return d;k=0;for(g=b.length;g>k;k+=1)"root"===b[k]&&(n=e[k],p=d,c(n,p));for(l in d)if(d.hasOwnProperty(l)&&
    "__children"!=l){if(m=b.indexOf(l),-1!==m)if(n=e[m],n.isArray)for(q=d[l+"_asArray"],k=0,g=q.length;g>k;k+=1)p=q[k],c(n,p);else p=d[l],c(n,p);h(d[l])}return d};return{run:h}}
if(function(e){var b={VERSION:"0.5.3",System:function(){this._mappings={};this._outlets={};this._handlers={};this.strictInjections=!0;this.autoMapOutlets=!1;this.postInjectionHook="setup"}};b.System.prototype={_createAndSetupInstance:function(b,c){var e=new c;return this.injectInto(e,b),e},_retrieveFromCacheOrCreate:function(b,c){"undefined"==typeof c&&(c=!1);var e;if(!this._mappings.hasOwnProperty(b))throw Error(1E3);var f=this._mappings[b];return!c&&f.isSingleton?(null==f.object&&(f.object=this._createAndSetupInstance(b,
        f.clazz)),e=f.object):e=f.clazz?this._createAndSetupInstance(b,f.clazz):f.object,e},mapOutlet:function(b,c,e){if("undefined"==typeof b)throw Error(1010);return c=c||"global",e=e||b,this._outlets.hasOwnProperty(c)||(this._outlets[c]={}),this._outlets[c][e]=b,this},getObject:function(b){if("undefined"==typeof b)throw Error(1020);return this._retrieveFromCacheOrCreate(b)},mapValue:function(b,c){if("undefined"==typeof b)throw Error(1030);return this._mappings[b]={clazz:null,object:c,isSingleton:!0},this.autoMapOutlets&&
    this.mapOutlet(b),this.hasMapping(b)&&this.injectInto(c,b),this},hasMapping:function(b){if("undefined"==typeof b)throw Error(1040);return this._mappings.hasOwnProperty(b)},mapClass:function(b,c){if("undefined"==typeof b)throw Error(1050);if("undefined"==typeof c)throw Error(1051);return this._mappings[b]={clazz:c,object:null,isSingleton:!1},this.autoMapOutlets&&this.mapOutlet(b),this},mapSingleton:function(b,c){if("undefined"==typeof b)throw Error(1060);if("undefined"==typeof c)throw Error(1061);
        return this._mappings[b]={clazz:c,object:null,isSingleton:!0},this.autoMapOutlets&&this.mapOutlet(b),this},instantiate:function(b){if("undefined"==typeof b)throw Error(1070);return this._retrieveFromCacheOrCreate(b,!0)},injectInto:function(b,c){if("undefined"==typeof b)throw Error(1080);if("object"==typeof b){var e=[];this._outlets.hasOwnProperty("global")&&e.push(this._outlets.global);"undefined"!=typeof c&&this._outlets.hasOwnProperty(c)&&e.push(this._outlets[c]);for(var f in e){var k=e[f],g;for(g in k){var m=
        k[g];(!this.strictInjections||g in b)&&(b[g]=this.getObject(m))}}"setup"in b&&b.setup.call(b)}return this},unmap:function(b){if("undefined"==typeof b)throw Error(1090);return delete this._mappings[b],this},unmapOutlet:function(b,c){if("undefined"==typeof b)throw Error(1100);if("undefined"==typeof c)throw Error(1101);return delete this._outlets[b][c],this},mapHandler:function(b,c,e,f,k){if("undefined"==typeof b)throw Error(1110);return c=c||"global",e=e||b,"undefined"==typeof f&&(f=!1),"undefined"==
    typeof k&&(k=!1),this._handlers.hasOwnProperty(b)||(this._handlers[b]={}),this._handlers[b].hasOwnProperty(c)||(this._handlers[b][c]=[]),this._handlers[b][c].push({handler:e,oneShot:f,passEvent:k}),this},unmapHandler:function(b,c,e){if("undefined"==typeof b)throw Error(1120);if(c=c||"global",e=e||b,this._handlers.hasOwnProperty(b)&&this._handlers[b].hasOwnProperty(c)){b=this._handlers[b][c];for(var f in b)if(b[f].handler===e){b.splice(f,1);break}}return this},notify:function(b){if("undefined"==typeof b)throw Error(1130);
        var c=Array.prototype.slice.call(arguments),e=c.slice(1);if(this._handlers.hasOwnProperty(b)){var f=this._handlers[b],k;for(k in f){var g,m=f[k];"global"!==k&&(g=this.getObject(k));var l,n,p=[];l=0;for(n=m.length;n>l;l++){var q,t=m[l];q=g&&"string"==typeof t.handler?g[t.handler]:t.handler;t.oneShot&&p.unshift(l);t.passEvent?q.apply(g,c):q.apply(g,e)}l=0;for(n=p.length;n>l;l++)m.splice(p[l],1)}}return this}};e.dijon=b}(this),"undefined"==typeof utils)var utils={};
"undefined"==typeof utils.Math&&(utils.Math={});utils.Math.to64BitNumber=function(e,b){var d,c,h;return d=new goog.math.Long(0,b),c=new goog.math.Long(e,0),h=d.add(c),h.toNumber()};goog={math:{}};goog.math.Long=function(e,b){this.low_=0|e;this.high_=0|b};goog.math.Long.IntCache_={};goog.math.Long.fromInt=function(e){if(-128<=e&&128>e){var b=goog.math.Long.IntCache_[e];if(b)return b}b=new goog.math.Long(0|e,0>e?-1:0);return-128<=e&&128>e&&(goog.math.Long.IntCache_[e]=b),b};
goog.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?goog.math.Long.ZERO:e<=-goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.MIN_VALUE:e+1>=goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.MAX_VALUE:0>e?goog.math.Long.fromNumber(-e).negate():new goog.math.Long(e%goog.math.Long.TWO_PWR_32_DBL_|0,e/goog.math.Long.TWO_PWR_32_DBL_|0)};goog.math.Long.fromBits=function(e,b){return new goog.math.Long(e,b)};
goog.math.Long.fromString=function(e,b){if(0==e.length)throw Error("number format error: empty string");var d=b||10;if(2>d||36<d)throw Error("radix out of range: "+d);if("-"==e.charAt(0))return goog.math.Long.fromString(e.substring(1),d).negate();if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character: '+e);for(var c=goog.math.Long.fromNumber(Math.pow(d,8)),h=goog.math.Long.ZERO,f=0;f<e.length;f+=8){var k=Math.min(8,e.length-f),g=parseInt(e.substring(f,f+k),d);8>k?(k=goog.math.Long.fromNumber(Math.pow(d,
    k)),h=h.multiply(k).add(goog.math.Long.fromNumber(g))):(h=h.multiply(c),h=h.add(goog.math.Long.fromNumber(g)))}return h};goog.math.Long.TWO_PWR_16_DBL_=65536;goog.math.Long.TWO_PWR_24_DBL_=16777216;goog.math.Long.TWO_PWR_32_DBL_=goog.math.Long.TWO_PWR_16_DBL_*goog.math.Long.TWO_PWR_16_DBL_;goog.math.Long.TWO_PWR_31_DBL_=goog.math.Long.TWO_PWR_32_DBL_/2;goog.math.Long.TWO_PWR_48_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_16_DBL_;
goog.math.Long.TWO_PWR_64_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_32_DBL_;goog.math.Long.TWO_PWR_63_DBL_=goog.math.Long.TWO_PWR_64_DBL_/2;goog.math.Long.ZERO=goog.math.Long.fromInt(0);goog.math.Long.ONE=goog.math.Long.fromInt(1);goog.math.Long.NEG_ONE=goog.math.Long.fromInt(-1);goog.math.Long.MAX_VALUE=goog.math.Long.fromBits(-1,2147483647);goog.math.Long.MIN_VALUE=goog.math.Long.fromBits(0,-2147483648);goog.math.Long.TWO_PWR_24_=goog.math.Long.fromInt(16777216);
goog.math.Long.prototype.toInt=function(){return this.low_};goog.math.Long.prototype.toNumber=function(){return this.high_*goog.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()};
goog.math.Long.prototype.toString=function(e){e=e||10;if(2>e||36<e)throw Error("radix out of range: "+e);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(goog.math.Long.MIN_VALUE)){var b=goog.math.Long.fromNumber(e),d=this.div(b),b=d.multiply(b).subtract(this);return d.toString(e)+b.toInt().toString(e)}return"-"+this.negate().toString(e)}for(var d=goog.math.Long.fromNumber(Math.pow(e,6)),b=this,c="";;){var h=b.div(d),f=b.subtract(h.multiply(d)).toInt().toString(e);if(b=h,b.isZero())return f+
    c;for(;6>f.length;)f="0"+f;c=""+f+c}};goog.math.Long.prototype.getHighBits=function(){return this.high_};goog.math.Long.prototype.getLowBits=function(){return this.low_};goog.math.Long.prototype.getLowBitsUnsigned=function(){return 0<=this.low_?this.low_:goog.math.Long.TWO_PWR_32_DBL_+this.low_};
goog.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(goog.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!=this.high_?this.high_:this.low_,b=31;0<b&&0==(e&1<<b);b--);return 0!=this.high_?b+33:b+1};goog.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_};goog.math.Long.prototype.isNegative=function(){return 0>this.high_};goog.math.Long.prototype.isOdd=function(){return 1==(1&this.low_)};
goog.math.Long.prototype.equals=function(e){return this.high_==e.high_&&this.low_==e.low_};goog.math.Long.prototype.notEquals=function(e){return this.high_!=e.high_||this.low_!=e.low_};goog.math.Long.prototype.lessThan=function(e){return 0>this.compare(e)};goog.math.Long.prototype.lessThanOrEqual=function(e){return 0>=this.compare(e)};goog.math.Long.prototype.greaterThan=function(e){return 0<this.compare(e)};goog.math.Long.prototype.greaterThanOrEqual=function(e){return 0<=this.compare(e)};
goog.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var b=this.isNegative(),d=e.isNegative();return b&&!d?-1:!b&&d?1:this.subtract(e).isNegative()?-1:1};goog.math.Long.prototype.negate=function(){return this.equals(goog.math.Long.MIN_VALUE)?goog.math.Long.MIN_VALUE:this.not().add(goog.math.Long.ONE)};
goog.math.Long.prototype.add=function(e){var b=this.high_>>>16,d=65535&this.high_,c=this.low_>>>16,h=e.high_>>>16,f=65535&e.high_,k=e.low_>>>16,g=0,m=0,l=0,n=0;return n+=(65535&this.low_)+(65535&e.low_),l+=n>>>16,n&=65535,l+=c+k,m+=l>>>16,l&=65535,m+=d+f,g+=m>>>16,m&=65535,g+=b+h,g&=65535,goog.math.Long.fromBits(l<<16|n,g<<16|m)};goog.math.Long.prototype.subtract=function(e){return this.add(e.negate())};
goog.math.Long.prototype.multiply=function(e){if(this.isZero()||e.isZero())return goog.math.Long.ZERO;if(this.equals(goog.math.Long.MIN_VALUE))return e.isOdd()?goog.math.Long.MIN_VALUE:goog.math.Long.ZERO;if(e.equals(goog.math.Long.MIN_VALUE))return this.isOdd()?goog.math.Long.MIN_VALUE:goog.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(goog.math.Long.TWO_PWR_24_)&&
    e.lessThan(goog.math.Long.TWO_PWR_24_))return goog.math.Long.fromNumber(this.toNumber()*e.toNumber());var b=this.high_>>>16,d=65535&this.high_,c=this.low_>>>16,h=65535&this.low_,f=e.high_>>>16,k=65535&e.high_,g=e.low_>>>16;e=65535&e.low_;var m=0,l=0,n=0,p=0;return p+=h*e,n+=p>>>16,p&=65535,n+=c*e,l+=n>>>16,n&=65535,n+=h*g,l+=n>>>16,n&=65535,l+=d*e,m+=l>>>16,l&=65535,l+=c*g,m+=l>>>16,l&=65535,l+=h*k,m+=l>>>16,l&=65535,m+=b*e+d*g+c*k+h*f,m&=65535,goog.math.Long.fromBits(n<<16|p,m<<16|l)};
goog.math.Long.prototype.div=function(e){if(e.isZero())throw Error("division by zero");if(this.isZero())return goog.math.Long.ZERO;if(this.equals(goog.math.Long.MIN_VALUE)){if(e.equals(goog.math.Long.ONE)||e.equals(goog.math.Long.NEG_ONE))return goog.math.Long.MIN_VALUE;if(e.equals(goog.math.Long.MIN_VALUE))return goog.math.Long.ONE;var b=this.shiftRight(1).div(e).shiftLeft(1);if(b.equals(goog.math.Long.ZERO))return e.isNegative()?goog.math.Long.ONE:goog.math.Long.NEG_ONE;var d=this.subtract(e.multiply(b));
    return b.add(d.div(e))}if(e.equals(goog.math.Long.MIN_VALUE))return goog.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();for(var c=goog.math.Long.ZERO,d=this;d.greaterThanOrEqual(e);){for(var b=Math.max(1,Math.floor(d.toNumber()/e.toNumber())),h=Math.ceil(Math.log(b)/Math.LN2),h=48>=h?1:Math.pow(2,h-48),f=goog.math.Long.fromNumber(b),k=f.multiply(e);k.isNegative()||k.greaterThan(d);)b-=
    h,f=goog.math.Long.fromNumber(b),k=f.multiply(e);f.isZero()&&(f=goog.math.Long.ONE);c=c.add(f);d=d.subtract(k)}return c};goog.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))};goog.math.Long.prototype.not=function(){return goog.math.Long.fromBits(~this.low_,~this.high_)};goog.math.Long.prototype.and=function(e){return goog.math.Long.fromBits(this.low_&e.low_,this.high_&e.high_)};
goog.math.Long.prototype.or=function(e){return goog.math.Long.fromBits(this.low_|e.low_,this.high_|e.high_)};goog.math.Long.prototype.xor=function(e){return goog.math.Long.fromBits(this.low_^e.low_,this.high_^e.high_)};goog.math.Long.prototype.shiftLeft=function(e){if(e&=63,0==e)return this;var b=this.low_;return 32>e?goog.math.Long.fromBits(b<<e,this.high_<<e|b>>>32-e):goog.math.Long.fromBits(0,b<<e-32)};
goog.math.Long.prototype.shiftRight=function(e){if(e&=63,0==e)return this;var b=this.high_;return 32>e?goog.math.Long.fromBits(this.low_>>>e|b<<32-e,b>>e):goog.math.Long.fromBits(b>>e-32,0<=b?0:-1)};goog.math.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,0==e)return this;var b=this.high_;return 32>e?goog.math.Long.fromBits(this.low_>>>e|b<<32-e,b>>>e):32==e?goog.math.Long.fromBits(b,0):goog.math.Long.fromBits(b>>>e-32,0)};
var UTF8={encode:function(e){for(var b=[],d=0;d<e.length;++d){var c=e.charCodeAt(d);128>c?b.push(c):2048>c?(b.push(192|c>>6),b.push(128|63&c)):65536>c?(b.push(224|c>>12),b.push(128|63&c>>6),b.push(128|63&c)):(b.push(240|c>>18),b.push(128|63&c>>12),b.push(128|63&c>>6),b.push(128|63&c))}return b},decode:function(e){for(var b=[],d=0;d<e.length;){var c=e[d++];128>c||(224>c?(c=(31&c)<<6,c|=63&e[d++]):240>c?(c=(15&c)<<12,c|=(63&e[d++])<<6,c|=63&e[d++]):(c=(7&c)<<18,c|=(63&e[d++])<<12,c|=(63&e[d++])<<6,
    c|=63&e[d++]));b.push(String.fromCharCode(c))}return b.join("")}},BASE64={};
if(function(e){var b=function(b){for(var c=0,d=[],h=0|b.length/3;0<h--;){var l=(b[c]<<16)+(b[c+1]<<8)+b[c+2],c=c+3;d.push(e.charAt(63&l>>18));d.push(e.charAt(63&l>>12));d.push(e.charAt(63&l>>6));d.push(e.charAt(63&l))}2==b.length-c?(l=(b[c]<<16)+(b[c+1]<<8),d.push(e.charAt(63&l>>18)),d.push(e.charAt(63&l>>12)),d.push(e.charAt(63&l>>6)),d.push("=")):1==b.length-c&&(l=b[c]<<16,d.push(e.charAt(63&l>>18)),d.push(e.charAt(63&l>>12)),d.push("=="));return d.join("")},d=function(){for(var b=[],c=0;c<e.length;++c)b[e.charCodeAt(c)]=
        c;return b[61]=0,b}(),c=function(b){for(var c=0,e=[],h=0|b.length/4;0<h--;){var l=(d[b.charCodeAt(c)]<<18)+(d[b.charCodeAt(c+1)]<<12)+(d[b.charCodeAt(c+2)]<<6)+d[b.charCodeAt(c+3)];e.push(255&l>>16);e.push(255&l>>8);e.push(255&l);c+=4}return e&&("="==b.charAt(c-2)?(e.pop(),e.pop()):"="==b.charAt(c-1)&&e.pop()),e},h={encode:function(b){for(var c=[],d=0;d<b.length;++d)c.push(b.charCodeAt(d));return c},decode:function(b){for(b=0;b<s.length;++b)a[b]=String.fromCharCode(a[b]);return a.join("")}};BASE64.decodeArray=
        function(b){b=c(b);return new Uint8Array(b)};BASE64.encodeASCII=function(c){c=h.encode(c);return b(c)};BASE64.decodeASCII=function(b){b=c(b);return h.decode(b)};BASE64.encode=function(c){c=UTF8.encode(c);return b(c)};BASE64.decode=function(b){b=c(b);return UTF8.decode(b)}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),void 0===btoa)var btoa=BASE64.encode;if(void 0===atob)var atob=BASE64.decode;var ISOBoxer=ISOBoxer||{};
ISOBoxer.Cursor=function(e){this.offset="undefined"==typeof e?0:e};var ISOBox=function(){this._cursor=new ISOBoxer.Cursor};ISOBox.parse=function(e){var b=new ISOBox;return b._offset=e._cursor.offset,b._root=e._root?e._root:e,b._raw=e._raw,b._parent=e,b._parseBox(),e._cursor.offset=b._raw.byteOffset+b._raw.byteLength,b};
ISOBox.prototype._readInt=function(e){var b=null;switch(e){case 8:b=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:b=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:b=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset)}return this._cursor.offset+=e>>3,b};
ISOBox.prototype._readUint=function(e){var b=null;switch(e){case 8:b=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:b=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:var b=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset),d=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2),b=(b<<8)+d;break;case 32:b=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:b=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset),
    d=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4),b=b*Math.pow(2,32)+d}return this._cursor.offset+=e>>3,b};ISOBox.prototype._readString=function(e){for(var b="",d=0;e>d;d++)var c=this._readUint(8),b=b+String.fromCharCode(c);return b};ISOBox.prototype._readTerminatedString=function(){for(var e="";;){var b=this._readUint(8);if(0==b)break;e+=String.fromCharCode(b)}return e};
ISOBox.prototype._readTemplate=function(e){var b=this._readUint(e/2),d=this._readUint(e/2);return b+d/Math.pow(2,e/2)};
ISOBox.prototype._parseBox=function(){if(this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this.size=this._readUint(32),this.type=this._readString(4),1==this.size&&(this.largesize=this._readUint(64)),"uuid"==this.type&&(this.usertype=this._readString(16)),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?
    (this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}!this._incomplete&&this._boxParsers[this.type]&&this._boxParsers[this.type].call(this)};ISOBox.prototype._parseFullBox=function(){this.version=this._readUint(8);this.flags=this._readUint(24)};
ISOBox.prototype._boxParsers={};"moov trak tref mdia minf stbl edts dinf mvex moof traf mfra udta meco strk".split(" ").forEach(function(e){ISOBox.prototype._boxParsers[e]=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(ISOBox.parse(this))}});
ISOBox.prototype._boxParsers.emsg=function(){this._parseFullBox();this.scheme_id_uri=this._readTerminatedString();this.value=this._readTerminatedString();this.timescale=this._readUint(32);this.presentation_time_delta=this._readUint(32);this.event_duration=this._readUint(32);this.id=this._readUint(32);this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))};
ISOBox.prototype._boxParsers.free=ISOBox.prototype._boxParsers.skip=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))};ISOBox.prototype._boxParsers.ftyp=ISOBox.prototype._boxParsers.styp=function(){this.major_brand=this._readString(4);this.minor_versions=this._readUint(32);for(this.compatible_brands=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.compatible_brands.push(this._readString(4))};
ISOBox.prototype._boxParsers.mdat=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))};
ISOBox.prototype._boxParsers.mdhd=function(){this._parseFullBox();1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));var e=this._readUint(16);this.pad=e>>15;this.language=String.fromCharCode((e>>10&31)+96,(e>>5&31)+96,(31&e)+96);this.pre_defined=
    this._readUint(16)};ISOBox.prototype._boxParsers.mfhd=function(){this._parseFullBox();this.sequence_number=this._readUint(32)};
ISOBox.prototype._boxParsers.mvhd=function(){this._parseFullBox();1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));this.rate=this._readTemplate(32);this.volume=this._readTemplate(16);this.reserved1=this._readUint(16);this.reserved2=[this._readUint(32),
    this._readUint(32)];this.matrix=[];for(var e=0;9>e;e++)this.matrix.push(this._readTemplate(32));this.pre_defined=[];for(e=0;6>e;e++)this.pre_defined.push(this._readUint(32));this.next_track_ID=this._readUint(32)};
ISOBox.prototype._boxParsers.sidx=function(){this._parseFullBox();this.reference_ID=this._readUint(32);this.timescale=this._readUint(32);0==this.version?(this.earliest_presentation_time=this._readUint(32),this.first_offset=this._readUint(32)):(this.earliest_presentation_time=this._readUint(64),this.first_offset=this._readUint(64));this.reserved=this._readUint(16);this.reference_count=this._readUint(16);this.references=[];for(var e=0;e<this.reference_count;e++){var b={},d=this._readUint(32);b.reference_type=
    d>>31&1;b.referenced_size=2147483647&d;b.subsegment_duration=this._readUint(32);d=this._readUint(32);b.starts_with_SAP=d>>31&1;b.SAP_type=d>>28&7;b.SAP_delta_time=268435455&d;this.references.push(b)}};
ISOBox.prototype._boxParsers.ssix=function(){this._parseFullBox();this.subsegment_count=this._readUint(32);this.subsegments=[];for(var e=0;e<this.subsegment_count;e++){var b={};b.ranges_count=this._readUint(32);b.ranges=[];for(var d=0;d<b.ranges_count;d++){var c={};c.level=this._readUint(8);c.range_size=this._readUint(24);b.ranges.push(c)}this.subsegments.push(b)}};
ISOBox.prototype._boxParsers.tkhd=function(){this._parseFullBox();1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(32));this.reserved2=[this._readUint(32),this._readUint(32)];
    this.layer=this._readUint(16);this.alternate_group=this._readUint(16);this.volume=this._readTemplate(16);this.reserved3=this._readUint(16);this.matrix=[];for(var e=0;9>e;e++)this.matrix.push(this._readTemplate(32));this.width=this._readUint(32);this.height=this._readUint(32)};ISOBox.prototype._boxParsers.tfdt=function(){this._parseFullBox();this.baseMediaDecodeTime=this._readUint(1==this.version?64:32)};
ISOBox.prototype._boxParsers.tfhd=function(){this._parseFullBox();this.track_ID=this._readUint(32);1&this.flags&&(this.base_data_offset=this._readUint(64));2&this.flags&&(this.sample_description_offset=this._readUint(32));8&this.flags&&(this.default_sample_duration=this._readUint(32));16&this.flags&&(this.default_sample_size=this._readUint(32));32&this.flags&&(this.default_sample_flags=this._readUint(32))};
ISOBox.prototype._boxParsers.trun=function(){this._parseFullBox();this.sample_count=this._readUint(32);1&this.flags&&(this.data_offset=this._readInt(32));4&this.flags&&(this.first_sample_flags=this._readUint(32));this.samples=[];for(var e=0;e<this.sample_count;e++){var b={};256&this.flags&&(b.sample_duration=this._readUint(32));512&this.flags&&(b.sample_size=this._readUint(32));1024&this.flags&&(b.sample_flags=this._readUint(32));2048&this.flags&&(b.sample_composition_time_offset=0==this.version?
    this._readUint(32):this._readInt(32));this.samples.push(b)}};ISOBoxer=ISOBoxer||{};ISOBoxer.parseBuffer=function(e){return(new ISOFile(e)).parse()};ISOBoxer.Utils={};ISOBoxer.Utils.dataViewToString=function(e,b){if("undefined"!=typeof TextDecoder)return(new TextDecoder(b||"utf-8")).decode(e);for(var d="",c=0;c<e.byteLength;c++)d+=String.fromCharCode(e.getUint8(c));return d};"undefined"!=typeof exports&&(exports.parseBuffer=ISOBoxer.parseBuffer,exports.Utils=ISOBoxer.Utils);
var ISOFile=function(e){this._raw=new DataView(e);this._cursor=new ISOBoxer.Cursor;this.boxes=[]};ISOFile.prototype.fetch=function(e){e=this.fetchAll(e,!0);return e.length?e[0]:null};ISOFile.prototype.fetchAll=function(e,b){var d=[];return ISOFile._sweep.call(this,e,d,b),d};ISOFile.prototype.parse=function(){this._cursor.offset=0;for(this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=ISOBox.parse(this);if("undefined"==typeof e.type)break;this.boxes.push(e)}return this};
ISOFile._sweep=function(e,b,d){this.type&&this.type==e&&b.push(this);for(var c in this.boxes){if(b.length&&d)break;ISOFile._sweep.call(this.boxes[c],e,b,d)}};
MediaPlayer=function(e){var b,d,c,h,f,k,g,m,l,n,p,q,t,r=0,w=null,v=null,u=!1,y=!1,x=!1,z=!0,A=!1,B=MediaPlayer.dependencies.BufferController.BUFFER_SIZE_REQUIRED,E=!0,D=[],G=4,I=!1,C=function(){return!!h&&!!f&&!y},J=function(){if(!u)throw"MediaPlayer not initialized!";if(!this.capabilities.supportsMediaSource())return void this.errHandler.capabilityError("mediasource");if(!h||!f)throw"Missing view or source.";x=!0;this.debug.log("Playback initiated!");k=b.getObject("streamController");m.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING,
    k);m.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_TIME_UPDATED,k);m.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_CAN_PLAY,k);m.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_ERROR,k);m.setLiveDelayAttributes(G,I);b.mapValue("liveDelayFragmentCount",G);b.mapOutlet("liveDelayFragmentCount","trackController");k.initialize(z,w,v);t.checkInitialBitrate();"string"==typeof f?k.load(f):k.loadWithManifest(f);k.setUTCTimingSources(D,
    E);b.mapValue("scheduleWhilePaused",A);b.mapOutlet("scheduleWhilePaused","stream");b.mapOutlet("scheduleWhilePaused","scheduleController");b.mapValue("numOfParallelRequestAllowed",r);b.mapOutlet("numOfParallelRequestAllowed","scheduleController");b.mapValue("bufferMax",B);b.mapOutlet("bufferMax","bufferController");g.initialize()},F=function(){C()&&J.call(this)},H=function(){var b=n.getReadOnlyMetricsFor("video")||n.getReadOnlyMetricsFor("audio");return l.getCurrentDVRInfo(b)},O=function(b){var c,
    d=H.call(this);return null===d?0:(c=d.manifestInfo.availableFrom.getTime()/1E3,b+(c+d.range.start))},N=function(b,c,d){c&&void 0!==b&&null!==b&&(d?g.setRules(b,c):g.addRules(b,c))},R=function(){if(this.adapter.reset(),x&&k){if(!y){y=!0;m.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING,k);m.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_TIME_UPDATED,k);m.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_CAN_PLAY,
    k);m.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_ERROR,k);var b={},e=this;b[MediaPlayer.dependencies.StreamController.eventList.ENAME_TEARDOWN_COMPLETE]=function(){d.reset();g.reset();m.reset();c.reset();k=null;y=x=!1;C.call(e)&&F.call(e)};k.subscribe(MediaPlayer.dependencies.StreamController.eventList.ENAME_TEARDOWN_COMPLETE,b,void 0,!0);k.reset()}}else C.call(this)&&F.call(this)},P=dijon.System.prototype.getObject;dijon.System.prototype.getObject=function(b){var c=
    P.call(this,b);return"object"!=typeof c||c.getName||(c.getName=function(){return b},c.setMediaType=function(b){c.mediaType=b},c.getMediaType=function(){return c.mediaType}),c};b=new dijon.System;b.mapValue("system",b);b.mapOutlet("system");b.mapValue("eventBus",new MediaPlayer.utils.EventBus);b.mapOutlet("eventBus");var U=new MediaPlayer.utils.Debug;return b.mapValue("debug",U),b.mapOutlet("debug"),b.injectInto(U),U.setup(),b.injectInto(e),{notifier:void 0,debug:void 0,eventBus:void 0,capabilities:void 0,
    adapter:void 0,errHandler:void 0,uriQueryFragModel:void 0,videoElementExt:void 0,setup:function(){l=b.getObject("metricsExt");d=b.getObject("abrController");g=b.getObject("rulesController");n=b.getObject("metricsModel");t=b.getObject("DOMStorage");m=b.getObject("playbackController");c=b.getObject("mediaController");this.restoreDefaultUTCTimingSources();this.debug.log("[dash.js 1.5.1] new MediaPlayer instance has been created")},addEventListener:function(b,c,d){b=b.toLowerCase();this.eventBus.addEventListener(b,
        c,d)},removeEventListener:function(b,c,d){b=b.toLowerCase();this.eventBus.removeEventListener(b,c,d)},getVersion:function(){return"1.5.1"},getObjectByContextName:function(c){return b.getObject(c)},startup:function(){u||(b.injectInto(this),u=!0)},getDebug:function(){return this.debug},getVideoModel:function(){return p},getVideoContainer:function(){return p?p.getVideoContainer():null},setLiveDelayFragmentCount:function(b){G=b},useSuggestedPresentationDelay:function(b){I=b},enableLastBitrateCaching:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      c){t.enableLastBitrateCaching(b,c)},enableLastMediaSettingsCaching:function(b,c){t.enableLastMediaSettingsCaching(b,c)},setNumOfParallelRequestAllowed:function(b){r=b},setMaxAllowedBitrateFor:function(b,c){d.setMaxAllowedBitrateFor(b,c)},getMaxAllowedBitrateFor:function(b){return d.getMaxAllowedBitrateFor(b)},setAutoPlay:function(b){z=b},getAutoPlay:function(){return z},setScheduleWhilePaused:function(b){A=b},getScheduleWhilePaused:function(){return A},setBufferMax:function(b){B=b},getBufferMax:function(){return B},
    getMetricsExt:function(){return l},getMetricsFor:function(b){return n.getReadOnlyMetricsFor(b)},getQualityFor:function(b){return d.getQualityFor(b,k.getActiveStreamInfo())},setQualityFor:function(b,c){d.setPlaybackQuality(b,k.getActiveStreamInfo(),c)},setTextTrack:function(c){void 0===q&&(q=b.getObject("textSourceBuffer"));for(var d=h.textTracks,e=d.length,g=0;e>g;g++){var f=d[g],l=c===g?"showing":"hidden";f.mode!==l&&(f.mode=l)}q.setTextTrack()},getBitrateInfoListFor:function(b){var c;return(c=(c=
        k.getActiveStreamInfo())?k.getStreamById(c.id):null)?c.getBitrateListFor(b):[]},setInitialBitrateFor:function(b,c){d.setInitialBitrateFor(b,c)},getInitialBitrateFor:function(b){return d.getInitialBitrateFor(b)},getStreamsFromManifest:function(b){return this.adapter.getStreamsInfo(b)},getTracksFor:function(b){var d=k?k.getActiveStreamInfo():null;return d?c.getTracksFor(b,d):[]},getTracksForTypeFromManifest:function(b,c,d){return d=d||this.adapter.getStreamsInfo(c)[0],d?this.adapter.getAllMediaInfoForType(c,
        d,b):[]},getCurrentTrackFor:function(b){var d=k?k.getActiveStreamInfo():null;return d?c.getCurrentTrackFor(b,d):null},setInitialMediaSettingsFor:function(b,d){c.setInitialSettings(b,d)},getInitialMediaSettingsFor:function(b){return c.getInitialSettings(b)},setCurrentTrack:function(b){c.setTrack(b)},getTrackSwitchModeFor:function(b){return c.getSwitchMode(b)},setTrackSwitchModeFor:function(b,d){c.setSwitchMode(b,d)},setSelectionModeForInitialTrack:function(b){c.setSelectionModeForInitialTrack(b)},
    getSelectionModeForInitialTrack:function(){return c.getSelectionModeForInitialTrack()},getAutoSwitchQuality:function(){return d.getAutoSwitchBitrate()},setAutoSwitchQuality:function(b){d.setAutoSwitchBitrate(b)},setSchedulingRules:function(b){N.call(this,g.SCHEDULING_RULE,b,!0)},addSchedulingRules:function(b){N.call(this,g.SCHEDULING_RULE,b,!1)},setABRRules:function(b){N.call(this,g.ABR_RULE,b,!0)},addABRRules:function(b){N.call(this,g.ABR_RULE,b,!1)},createProtection:function(){return b.getObject("protectionController")},
    retrieveManifest:function(c,d){!function(c){var e=b.getObject("manifestLoader"),g=b.getObject("uriQueryFragModel"),f={};f[MediaPlayer.dependencies.ManifestLoader.eventList.ENAME_MANIFEST_LOADED]=function(b){b.error?d(null,b.error):d(b.data.manifest);e.unsubscribe(MediaPlayer.dependencies.ManifestLoader.eventList.ENAME_MANIFEST_LOADED,this)};e.subscribe(MediaPlayer.dependencies.ManifestLoader.eventList.ENAME_MANIFEST_LOADED,f);e.load(g.parseURI(c))}(c)},addUTCTimingSource:function(b,c){this.removeUTCTimingSource(b,
        c);var d=new Dash.vo.UTCTiming;d.schemeIdUri=b;d.value=c;D.push(d)},removeUTCTimingSource:function(b,c){D.forEach(function(d,e){d.schemeIdUri===b&&d.value===c&&D.splice(e,1)})},clearDefaultUTCTimingSources:function(){D=[]},restoreDefaultUTCTimingSources:function(){this.addUTCTimingSource(MediaPlayer.UTCTimingSources["default"].scheme,MediaPlayer.UTCTimingSources["default"].value)},enableManifestDateHeaderTimeSource:function(b){E=b},displayCaptionsOnTop:function(c){b.getObject("textTrackExtensions").displayCConTop(c)},
    attachVideoContainer:function(b){if(!p)throw"Must call attachView with video element before you attach container element";p.setVideoContainer(b)},attachView:function(c){if(!u)throw"MediaPlayer not initialized!";h=c;p=null;h&&(p=b.getObject("videoModel"),p.setElement(h),h.preload="auto");R.call(this)},attachTTMLRenderingDiv:function(b){if(!p)throw"Must call attachView with video element before you attach TTML Rendering Div";p.setTTMLRenderingDiv(b)},attachSource:function(b,c,d){if(!u)throw"MediaPlayer not initialized!";
        "string"==typeof b?(this.uriQueryFragModel.reset(),f=this.uriQueryFragModel.parseURI(b)):f=b;w=c;v=d;R.call(this)},reset:function(){this.attachSource(null);this.attachView(null);v=w=null},play:J,isReady:C,seek:function(b){b=m.getIsDynamic()?this.getDVRSeekOffset(b):b;this.getVideoModel().setCurrentTime(b)},time:function(){var b=p.getCurrentTime();m.getIsDynamic()&&(b=H.call(this),b=null===b?0:this.duration()-(b.range.end-b.time));return b},duration:function(){var b=p.getElement().duration;if(m.getIsDynamic()){var c=
        H.call(this);if(null===c)return 0;b=c.range.end-c.range.start;b=b<c.manifestInfo.DVRWindowSize?b:c.manifestInfo.DVRWindowSize}return b},timeAsUTC:function(){return O.call(this,this.time())},durationAsUTC:function(){return O.call(this,this.duration())},getDVRWindowSize:function(){return H.call(this).manifestInfo.DVRWindowSize},getDVRSeekOffset:function(b){var c=H.call(this);b=c.range.start+b;return b>c.range.end&&(b=c.range.end),b},formatUTC:function(b,c,d){b=new Date(1E3*b);var e=b.toLocaleDateString(c);
        return b.toLocaleTimeString(c,{hour12:d})+" "+e},convertToTimeCode:function(b){b=Math.max(b,0);var c=Math.floor(b/3600),d=Math.floor(b%3600/60);b=Math.floor(b%3600%60);return(0===c?"":10>c?"0"+c.toString()+":":c.toString()+":")+(10>d?"0"+d.toString():d.toString())+":"+(10>b?"0"+b.toString():b.toString())}}};MediaPlayer.prototype={constructor:MediaPlayer};MediaPlayer.dependencies={};MediaPlayer.dependencies.protection={};MediaPlayer.dependencies.protection.servers={};MediaPlayer.utils={};
MediaPlayer.models={};MediaPlayer.vo={};MediaPlayer.vo.metrics={};MediaPlayer.vo.protection={};MediaPlayer.rules={};MediaPlayer.di={};MediaPlayer.UTCTimingSources={"default":{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"}};
MediaPlayer.events={RESET_COMPLETE:"resetComplete",METRICS_CHANGED:"metricschanged",METRIC_CHANGED:"metricchanged",METRIC_UPDATED:"metricupdated",METRIC_ADDED:"metricadded",MANIFEST_LOADED:"manifestloaded",PROTECTION_CREATED:"protectioncreated",PROTECTION_DESTROYED:"protectiondestroyed",STREAM_SWITCH_STARTED:"streamswitchstarted",STREAM_SWITCH_COMPLETED:"streamswitchcompleted",STREAM_INITIALIZED:"streaminitialized",TEXT_TRACK_ADDED:"texttrackadded",TEXT_TRACKS_ADDED:"alltexttracksadded",BUFFER_LOADED:"bufferloaded",
    BUFFER_EMPTY:"bufferstalled",ERROR:"error",LOG:"log"};
MediaPlayer.di.Context=function(){return{system:void 0,setup:function(){this.system.autoMapOutlets=!0;this.system.mapClass("eventBusCl",MediaPlayer.utils.EventBus);this.system.mapSingleton("capabilities",MediaPlayer.utils.Capabilities);this.system.mapSingleton("DOMStorage",MediaPlayer.utils.DOMStorage);this.system.mapClass("customTimeRanges",MediaPlayer.utils.CustomTimeRanges);this.system.mapSingleton("virtualBuffer",MediaPlayer.utils.VirtualBuffer);this.system.mapClass("isoFile",MediaPlayer.utils.IsoFile);
    this.system.mapSingleton("textTrackExtensions",MediaPlayer.utils.TextTrackExtensions);this.system.mapSingleton("vttParser",MediaPlayer.utils.VTTParser);this.system.mapSingleton("ttmlParser",MediaPlayer.utils.TTMLParser);this.system.mapSingleton("boxParser",MediaPlayer.utils.BoxParser);this.system.mapSingleton("videoModel",MediaPlayer.models.VideoModel);this.system.mapSingleton("manifestModel",MediaPlayer.models.ManifestModel);this.system.mapSingleton("metricsModel",MediaPlayer.models.MetricsModel);
    this.system.mapSingleton("uriQueryFragModel",MediaPlayer.models.URIQueryAndFragmentModel);this.system.mapSingleton("ksPlayReady",MediaPlayer.dependencies.protection.KeySystem_PlayReady);this.system.mapSingleton("ksWidevine",MediaPlayer.dependencies.protection.KeySystem_Widevine);this.system.mapSingleton("ksClearKey",MediaPlayer.dependencies.protection.KeySystem_ClearKey);this.system.mapSingleton("serverPlayReady",MediaPlayer.dependencies.protection.servers.PlayReady);this.system.mapSingleton("serverWidevine",
        MediaPlayer.dependencies.protection.servers.Widevine);this.system.mapSingleton("serverClearKey",MediaPlayer.dependencies.protection.servers.ClearKey);this.system.mapSingleton("serverDRMToday",MediaPlayer.dependencies.protection.servers.DRMToday);this.system.mapSingleton("requestModifierExt",MediaPlayer.dependencies.RequestModifierExtensions);this.system.mapSingleton("textSourceBuffer",MediaPlayer.dependencies.TextSourceBuffer);this.system.mapSingleton("mediaSourceExt",MediaPlayer.dependencies.MediaSourceExtensions);
    this.system.mapSingleton("sourceBufferExt",MediaPlayer.dependencies.SourceBufferExtensions);this.system.mapSingleton("abrController",MediaPlayer.dependencies.AbrController);this.system.mapSingleton("errHandler",MediaPlayer.dependencies.ErrorHandler);this.system.mapSingleton("videoExt",MediaPlayer.dependencies.VideoModelExtensions);this.system.mapSingleton("protectionExt",MediaPlayer.dependencies.ProtectionExtensions);this.system.mapClass("protectionController",MediaPlayer.dependencies.ProtectionController);
    this.system.mapSingleton("playbackController",MediaPlayer.dependencies.PlaybackController);var e=document.createElement("video");MediaPlayer.models.ProtectionModel_21Jan2015.detect(e)?this.system.mapClass("protectionModel",MediaPlayer.models.ProtectionModel_21Jan2015):MediaPlayer.models.ProtectionModel_3Feb2014.detect(e)?this.system.mapClass("protectionModel",MediaPlayer.models.ProtectionModel_3Feb2014):MediaPlayer.models.ProtectionModel_01b.detect(e)?this.system.mapClass("protectionModel",MediaPlayer.models.ProtectionModel_01b):
        (this.debug.log("No supported version of EME detected on this user agent!"),this.debug.log("Attempts to play encrypted content will fail!"));this.system.mapSingleton("liveEdgeFinder",MediaPlayer.dependencies.LiveEdgeFinder);this.system.mapClass("metrics",MediaPlayer.models.MetricsList);this.system.mapClass("insufficientBufferRule",MediaPlayer.rules.InsufficientBufferRule);this.system.mapClass("bufferOccupancyRule",MediaPlayer.rules.BufferOccupancyRule);this.system.mapClass("throughputRule",MediaPlayer.rules.ThroughputRule);
    this.system.mapSingleton("abrRulesCollection",MediaPlayer.rules.ABRRulesCollection);this.system.mapSingleton("rulesController",MediaPlayer.rules.RulesController);this.system.mapClass("bufferLevelRule",MediaPlayer.rules.BufferLevelRule);this.system.mapClass("pendingRequestsRule",MediaPlayer.rules.PendingRequestsRule);this.system.mapClass("playbackTimeRule",MediaPlayer.rules.PlaybackTimeRule);this.system.mapClass("sameTimeRequestRule",MediaPlayer.rules.SameTimeRequestRule);this.system.mapClass("abandonRequestRule",
        MediaPlayer.rules.AbandonRequestsRule);this.system.mapSingleton("scheduleRulesCollection",MediaPlayer.rules.ScheduleRulesCollection);this.system.mapClass("liveEdgeBinarySearchRule",MediaPlayer.rules.LiveEdgeBinarySearchRule);this.system.mapClass("liveEdgeWithTimeSynchronizationRule",MediaPlayer.rules.LiveEdgeWithTimeSynchronizationRule);this.system.mapSingleton("synchronizationRulesCollection",MediaPlayer.rules.SynchronizationRulesCollection);this.system.mapClass("xlinkController",MediaPlayer.dependencies.XlinkController);
    this.system.mapClass("xlinkLoader",MediaPlayer.dependencies.XlinkLoader);this.system.mapClass("streamProcessor",MediaPlayer.dependencies.StreamProcessor);this.system.mapClass("eventController",MediaPlayer.dependencies.EventController);this.system.mapClass("textController",MediaPlayer.dependencies.TextController);this.system.mapClass("bufferController",MediaPlayer.dependencies.BufferController);this.system.mapClass("manifestLoader",MediaPlayer.dependencies.ManifestLoader);this.system.mapSingleton("manifestUpdater",
        MediaPlayer.dependencies.ManifestUpdater);this.system.mapClass("fragmentController",MediaPlayer.dependencies.FragmentController);this.system.mapClass("fragmentLoader",MediaPlayer.dependencies.FragmentLoader);this.system.mapClass("fragmentModel",MediaPlayer.dependencies.FragmentModel);this.system.mapSingleton("streamController",MediaPlayer.dependencies.StreamController);this.system.mapSingleton("mediaController",MediaPlayer.dependencies.MediaController);this.system.mapClass("stream",MediaPlayer.dependencies.Stream);
    this.system.mapClass("scheduleController",MediaPlayer.dependencies.ScheduleController);this.system.mapSingleton("timeSyncController",MediaPlayer.dependencies.TimeSyncController);this.system.mapSingleton("notifier",MediaPlayer.dependencies.Notifier)}}};Dash=function(){return{modules:{},dependencies:{},vo:{},di:{}}}();
Dash.di.DashContext=function(){return{system:void 0,debug:void 0,setup:function(){Dash.di.DashContext.prototype.setup.call(this);this.system.mapClass("parser",Dash.dependencies.DashParser);this.system.mapClass("indexHandler",Dash.dependencies.DashHandler);this.system.mapSingleton("baseURLExt",Dash.dependencies.BaseURLExtensions);this.system.mapClass("fragmentExt",Dash.dependencies.FragmentExtensions);this.system.mapClass("representationController",Dash.dependencies.RepresentationController);this.system.mapSingleton("manifestExt",
    Dash.dependencies.DashManifestExtensions);this.system.mapSingleton("metricsExt",Dash.dependencies.DashMetricsExtensions);this.system.mapSingleton("timelineConverter",Dash.dependencies.TimelineConverter);this.system.mapSingleton("adapter",Dash.dependencies.DashAdapter)}}};Dash.di.DashContext.prototype=new MediaPlayer.di.Context;Dash.di.DashContext.prototype.constructor=Dash.di.DashContext;
Dash.dependencies.DashAdapter=function(){var e=[],b={},d=function(b,c){return c.getRepresentationForQuality(b.quality)},c=function(c){return b[c.streamInfo.id][c.index]},h=function(b){var c,d=e.length,g=0;for(g;d>g;g+=1)if(c=e[g],b.id===c.id)return c;return null},f=function(b,c){var d=new MediaPlayer.vo.TrackInfo,e=this.manifestExt.getRepresentationFor(c.index,c.adaptation.period.mpd.manifest.Period_asArray[c.adaptation.period.index].AdaptationSet_asArray[c.adaptation.index]);return d.id=c.id,d.quality=
    c.index,d.bandwidth=this.manifestExt.getBandwidth(e),d.DVRWindow=c.segmentAvailabilityRange,d.fragmentDuration=c.segmentDuration||(c.segments&&0<c.segments.length?c.segments[0].duration:NaN),d.MSETimeOffset=c.MSETimeOffset,d.useCalculatedLiveEdgeTime=c.useCalculatedLiveEdgeTime,d.mediaInfo=k.call(this,b,c.adaptation),d},k=function(b,c){var d,e=new MediaPlayer.vo.MediaInfo,f=this,h=c.period.mpd.manifest.Period_asArray[c.period.index].AdaptationSet_asArray[c.index];return e.id=c.id,e.index=c.index,
    e.type=c.type,e.streamInfo=g.call(this,b,c.period),e.representationCount=this.manifestExt.getRepresentationCount(h),e.lang=this.manifestExt.getLanguageForAdaptation(h),d=this.manifestExt.getViewpointForAdaptation(h),e.viewpoint=d?d.value:void 0,e.accessibility=this.manifestExt.getAccessibilityForAdaptation(h).map(function(b){return b.value}),e.audioChannelConfiguration=this.manifestExt.getAudioChannelConfigurationForAdaptation(h).map(function(b){return b.value}),e.roles=this.manifestExt.getRolesForAdaptation(h).map(function(b){return b.value}),
    e.codec=this.manifestExt.getCodec(h),e.mimeType=this.manifestExt.getMimeType(h),e.contentProtection=this.manifestExt.getContentProtectionData(h),e.bitrateList=this.manifestExt.getBitrateListForAdaptation(h),e.contentProtection&&e.contentProtection.forEach(function(b){b.KID=f.manifestExt.getKID(b)}),e.isText=this.manifestExt.getIsTextTrack(e.mimeType),e},g=function(b,c){var d=new MediaPlayer.vo.StreamInfo;return d.id=c.id,d.index=c.index,d.start=c.start,d.duration=c.duration,d.manifestInfo=m.call(this,
    b,c.mpd),d.isLast=1===b.Period_asArray.length||1>Math.abs(d.start+d.duration-d.manifestInfo.duration),d},m=function(b,c){var d=new MediaPlayer.vo.ManifestInfo;return d.DVRWindowSize=c.timeShiftBufferDepth,d.loadedTime=c.manifest.loadedTime,d.availableFrom=c.availabilityStartTime,d.minBufferTime=c.manifest.minBufferTime,d.maxFragmentDuration=c.maxSegmentDuration,d.duration=this.manifestExt.getDuration(b),d.isDynamic=this.manifestExt.getIsDynamic(b),d};return{system:void 0,manifestExt:void 0,timelineConverter:void 0,
    metricsList:{TCP_CONNECTION:"TcpConnection",HTTP_REQUEST:"HttpRequest",HTTP_REQUEST_TRACE:"HttpRequestTrace",TRACK_SWITCH:"RepresentationSwitch",BUFFER_LEVEL:"BufferLevel",BUFFER_STATE:"BufferState",DVR_INFO:"DVRInfo",DROPPED_FRAMES:"DroppedFrames",SCHEDULING_INFO:"SchedulingInfo",REQUESTS_QUEUE:"RequestsQueue",MANIFEST_UPDATE:"ManifestUpdate",MANIFEST_UPDATE_STREAM_INFO:"ManifestUpdatePeriodInfo",MANIFEST_UPDATE_TRACK_INFO:"ManifestUpdateRepresentationInfo",PLAY_LIST:"PlayList",PLAY_LIST_TRACE:"PlayListTrace"},
    convertDataToTrack:f,convertDataToMedia:k,convertDataToStream:g,getDataForTrack:d,getDataForMedia:c,getDataForStream:h,getStreamsInfo:function(c){var d,f,h=[];if(!c)return null;d=this.manifestExt.getMpd(c);e=this.manifestExt.getRegularPeriods(c,d);d.checkTime=this.manifestExt.getCheckTime(c,e[0]);b={};d=e.length;for(f=0;d>f;f+=1)h.push(g.call(this,c,e[f]));return h},getManifestInfo:function(b){var c=this.manifestExt.getMpd(b);return m.call(this,b,c)},getMediaInfoForType:function(c,d,e){var g,f=h(d),
        m=f.id;return(e=this.manifestExt.getAdaptationForType(c,d.index,e))?(g=this.manifestExt.getIndexForAdaptation(e,c,d.index),b[m]=b[m]||this.manifestExt.getAdaptationsForPeriod(c,f),k.call(this,c,b[m][g])):null},getAllMediaInfoForType:function(c,d,e){var g,f=h(d),m=f.id;e=this.manifestExt.getAdaptationsForType(c,d.index,e);var w=[];if(!e)return w;b[m]=b[m]||this.manifestExt.getAdaptationsForPeriod(c,f);for(var f=0,v=e.length;v>f;f+=1)g=e[f],g=this.manifestExt.getIndexForAdaptation(g,c,d.index),(g=k.call(this,
        c,b[m][g]))&&w.push(g);return w},getCurrentRepresentationInfo:function(b,c){var d=c.getCurrentRepresentation();return d?f.call(this,b,d):null},getRepresentationInfoForQuality:function(b,c,d){return(c=c.getRepresentationForQuality(d))?f.call(this,b,c):null},updateData:function(b,d){var e,g=h(d.getStreamInfo()),f=d.getMediaInfo(),k=c(f),m=d.getType();e=(e=f.id)?this.manifestExt.getAdaptationForId(e,b,g.index):this.manifestExt.getAdaptationForIndex(f.index,b,g.index);d.representationController.updateData(e,
        k,m)},getInitRequest:function(b,c){var d=b.representationController.getRepresentationForQuality(c);return b.indexHandler.getInitRequest(d)},getNextFragmentRequest:function(b,c){var e=d(c,b.representationController);return b.indexHandler.getNextSegmentRequest(e)},getFragmentRequestForTime:function(b,c,e,g){c=d(c,b.representationController);return b.indexHandler.getSegmentRequestForTime(c,e,g)},generateFragmentRequestForTime:function(b,c,e){c=d(c,b.representationController);return b.indexHandler.generateSegmentRequestForTime(c,
        e)},getIndexHandlerTime:function(b){return b.indexHandler.getCurrentTime()},setIndexHandlerTime:function(b,c){return b.indexHandler.setCurrentTime(c)},getEventsFor:function(b,e,g){var f=[];return e instanceof MediaPlayer.vo.StreamInfo?f=this.manifestExt.getEventsForPeriod(b,h(e)):e instanceof MediaPlayer.vo.MediaInfo?f=this.manifestExt.getEventStreamForAdaptationSet(b,c(e)):e instanceof MediaPlayer.vo.TrackInfo&&(f=this.manifestExt.getEventStreamForRepresentation(b,d(e,g.representationController))),
        f},getEvent:function(b,c,d){var e=new Dash.vo.Event,g=b.scheme_id_uri,f=b.value,h=b.timescale,k=b.presentation_time_delta,m=b.event_duration,y=b.id;b=b.message_data;return c[g]?(e.eventStream=c[g],e.eventStream.value=f,e.eventStream.timescale=h,e.duration=m,e.id=y,e.presentationTime=d*h+k,e.messageData=b,e.presentationTimeDelta=k,e):null},reset:function(){e=[];b={}}}};Dash.dependencies.DashAdapter.prototype={constructor:Dash.dependencies.DashAdapter};
Dash.create=function(e,b,d){if("undefined"==typeof e||"VIDEO"!=e.nodeName)return null;var c,h=e.id||e.name||"video element";if(d=d||new Dash.di.DashContext,b=b||[].slice.call(e.querySelectorAll("source")).filter(function(b){return b.type==Dash.supportedManifestMimeTypes.mimeType})[0],void 0===b&&e.src)b=document.createElement("source"),b.src=e.src;else if(void 0===b&&!e.src)return null;return c=new MediaPlayer(d),c.startup(),c.attachView(e),c.setAutoPlay(e.autoplay),c.attachSource(b.src),c.getDebug().log("Converted "+
    h+" to dash.js player and added content: "+b.src),c};Dash.createAll=function(e,b,d){var c=[];e=e||".dashjs-player";b=b||document;d=d||new Dash.di.DashContext;e=b.querySelectorAll(e);for(b=0;b<e.length;b++){var h=Dash.create(e[b],void 0,d);c.push(h)}return c};Dash.supportedManifestMimeTypes={mimeType:"application/dash+xml"};
Dash.dependencies.DashHandler=function(){var e,b,d,c=-1,h=0,f=/^(?:(?:[a-z]+:)?\/)?\//i,k=function(b,c){for(;b.length<c;)b="0"+b;return b},g=function(b,c,d){for(var e,g,f,h,l,m=c.length;;){if((e=b.indexOf("$"+c),0>e)||(g=b.indexOf("$",e+m),0>g))return b;if(f=b.indexOf("%0",e+m),f>e&&g>f)switch(h=b.charAt(g-1),l=parseInt(b.substring(f+2,g-1),10),h){case "d":case "i":case "u":l=k(d.toString(),l);break;case "x":l=k(d.toString(16),l);break;case "X":l=k(d.toString(16),l).toUpperCase();break;case "o":l=
    k(d.toString(8),l);break;default:return this.log("Unsupported/invalid IEEE 1003.1 format identifier string in URL"),b}else l=d;b=b.substring(0,e)+l+b.substring(g+1)}},m=function(b,c){var d=c.adaptation.period.mpd.manifest.Period_asArray[c.adaptation.period.index].AdaptationSet_asArray[c.adaptation.index].Representation_asArray[c.index].BaseURL;return b===d?b:f.test(b)?b:d+b},l=function(d){var e,g,f,h=d.adaptation.period,l=!1,k=d.segmentInfoType;return 0>c?l=!1:b||c<d.availableSegmentsNumber?(g=x(c,
    d),g&&(f=g.presentationStartTime-h.start,e=d.adaptation.period.duration,this.log(d.segmentInfoType+": "+f+" / "+e),l="SegmentTimeline"===k?!1:f>=e)):l=!0,l},n=function(c,d){var e,g,f,h;return g=c.segmentDuration,isNaN(g)&&(g=c.adaptation.period.duration),f=c.adaptation.period.start+d*g,h=f+g,e=new Dash.vo.Segment,e.representation=c,e.duration=g,e.presentationStartTime=f,e.mediaStartTime=this.timelineConverter.calcMediaTimeFromPresentationTime(e.presentationStartTime,c),e.availabilityStartTime=this.timelineConverter.calcAvailabilityStartTimeFromPresentationTime(e.presentationStartTime,
    c.adaptation.period.mpd,b),e.availabilityEndTime=this.timelineConverter.calcAvailabilityEndTimeFromPresentationTime(h,c.adaptation.period.mpd,b),e.wallStartTime=this.timelineConverter.calcWallTimeForSegment(e,b),e.replacementNumber=e.representation.startNumber+d,e.availabilityIdx=d,e},p=function(c){var d,g,f,h,l,k,m,n,p,q,v,u,w,x=this,y=c.adaptation.period.mpd.manifest.Period_asArray[c.adaptation.period.index].AdaptationSet_asArray[c.adaptation.index].Representation_asArray[c.index].SegmentTemplate;
    d=y.SegmentTimeline;var A=0<c.availableSegmentsNumber,z=[],B=0,E=0,S=-1,T=!1,V=function(b){return r.call(x,c,B,b.d,w,y.media,b.mediaRange,S)};w=c.timescale;d=d.S_asArray;(n=t.call(x,c))?(v=n.start,u=n.end):q=x.timelineConverter.calcMediaTimeFromPresentationTime(e||0,c);f=0;for(h=d.length;h>f;f+=1){if(g=d[f],k=0,g.hasOwnProperty("r")&&(k=g.r),g.hasOwnProperty("t")&&(B=g.t,E=B/w),0>k)(m=d[f+1],m&&m.hasOwnProperty("t"))?k=m.t/w:(k=c.segmentAvailabilityRange?c.segmentAvailabilityRange.end:this.timelineConverter.calcSegmentAvailabilityRange(c,
        b).end,k=x.timelineConverter.calcMediaTimeFromPresentationTime(k,c),c.segmentDuration=g.d/w),k=Math.ceil((k-E)/(g.d/w))-1;if(p){if(A)break;S+=k+1}else for(l=0;k>=l;l+=1){if(S+=1,n){if(S>u){if(p=!0,A)break;continue}S>=v&&z.push(V.call(x,g))}else{if(10<z.length){if(p=!0,A)break;continue}T?z.push(V.call(x,g)):E>=q-g.d/w*1.5&&(T=!0,z.push(V.call(x,g)))}B+=g.d;E=B/w}}return A||(c.availableSegmentsNumber=S+1),z},q=function(d){var g,f,h=d.segmentDuration,l=d.adaptation.period.mpd.manifest.minBufferTime,
    k=d.segmentAvailabilityRange,k={start:this.timelineConverter.calcPeriodRelativeTimeFromMpdRelativeTime(d,k.start),end:this.timelineConverter.calcPeriodRelativeTimeFromMpdRelativeTime(d,k.end)},m=NaN,n=null,r=d.segments,p=2*h,l=Math.max(2*l,10*h);return k||(k=this.timelineConverter.calcSegmentAvailabilityRange(d,b)),k.start=Math.max(k.start,0),b&&!this.timelineConverter.isTimeSyncCompleted()?(g=Math.floor(k.start/h),f=Math.floor(k.end/h),{start:g,end:f}):(r&&0<r.length?(n=x(c,d),m=n?this.timelineConverter.calcPeriodRelativeTimeFromMpdRelativeTime(d,
    n.presentationStartTime):0<c?c*h:this.timelineConverter.calcPeriodRelativeTimeFromMpdRelativeTime(d,e||r[0].presentationStartTime)):m=0<c?c*h:b?k.end:k.start,g=Math.floor(Math.max(m-p,k.start)/h),f=Math.floor(Math.min(g+l/h,k.end/h)),{start:g,end:f})},t=function(){var d,g,f=Number.POSITIVE_INFINITY;return b&&!this.timelineConverter.isTimeSyncCompleted()?{start:0,end:f}:!b&&e||0>c?null:(d=Math.max(c-2,0),g=Math.min(c+10,f),{start:d,end:g})},r=function(c,d,e,f,h,l,k){var m,n,r,p=d/f;e=Math.min(e/f,
    c.adaptation.period.mpd.maxSegmentDuration);return m=this.timelineConverter.calcPresentationTimeFromMediaTime(p,c),n=m+e,r=new Dash.vo.Segment,r.representation=c,r.duration=e,r.mediaStartTime=p,r.presentationStartTime=m,r.availabilityStartTime=c.adaptation.period.mpd.manifest.loadedTime,r.availabilityEndTime=this.timelineConverter.calcAvailabilityEndTimeFromPresentationTime(n,c.adaptation.period.mpd,b),r.wallStartTime=this.timelineConverter.calcWallTimeForSegment(r,b),r.replacementTime=d,r.replacementNumber=
    r.representation.startNumber+k,h=g(h,"Number",r.replacementNumber),h=g(h,"Time",r.replacementTime),r.media=h,r.mediaRange=l,r.availabilityIdx=k,r},w=function(d){var e,f=d.segmentInfoType,h;if(h="SegmentBase"!==f&&"BaseURL"!==f){var l,k,m=!1;h=d.segments;h=(h&&0!==h.length?(k=h[0].availabilityIdx,l=h[h.length-1].availabilityIdx,m=k>c||c>l):m=!0,m)}if(h){if("SegmentTimeline"===f)e=p.call(this,d);else if("SegmentTemplate"===f){var r,f=[];l=d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index].Representation_asArray[d.index].SegmentTemplate;
    k=d.segmentDuration;var m=d.segmentAvailabilityRange,w=null,u=null;e=d.startNumber;h=isNaN(k)&&!b?{start:e,end:e}:q.call(this,d);r=h.start;for(h=h.end;h>=r;r+=1)w=n.call(this,d,r),w.replacementTime=(e+r-1)*d.segmentDuration,u=l.media,u=g(u,"Number",w.replacementNumber),u=g(u,"Time",w.replacementTime),w.media=u,f.push(w);e=(isNaN(k)?d.availableSegmentsNumber=1:d.availableSegmentsNumber=Math.ceil((m.end-m.start)/k),f)}else if("SegmentList"===f){f=[];l=d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index].Representation_asArray[d.index].SegmentList;
    k=d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index].Representation_asArray[d.index].BaseURL;m=l.SegmentURL_asArray.length;e=d.startNumber;h=q.call(this,d);r=Math.max(h.start,0);for(h=Math.min(h.end,l.SegmentURL_asArray.length-1);h>=r;r+=1)u=l.SegmentURL_asArray[r],w=n.call(this,d,r),w.replacementTime=(e+r-1)*d.segmentDuration,w.media=u.media?u.media:k,w.mediaRange=u.mediaRange,w.index=u.index,w.indexRange=u.indexRange,f.push(w);e=
        (d.availableSegmentsNumber=m,f)}v.call(this,d,e)}else e=d.segments;return e},v=function(c,d){var e,g,f,h;c.segments=d;e=d.length-1;b&&isNaN(this.timelineConverter.getExpectedLiveEdge())&&(h=d[e],g=h.presentationStartTime,f=this.metricsModel.getMetricsFor("stream"),this.timelineConverter.setExpectedLiveEdge(g),this.metricsModel.updateManifestUpdateInfo(this.metricsExt.getCurrentManifestUpdate(f),{presentationStartTime:g}))},u=function(b){if(!b)throw Error("no representation");return b.segments=null,
    w.call(this,b),b},y=function(b,c,d){var e,g,f,h,l=c.segments,k=l?l.length:null,m=-1;if(l&&0<k)for(c=0;k>c;c+=1)if(g=l[c],f=g.presentationStartTime,h=g.duration,e=void 0===d||null===d?h/2:d,b+e>=f&&f+h>b-e){m=g.availabilityIdx;break}return m},x=function(b,c){if(!c||!c.segments)return null;var d,e,g=c.segments.length;for(e=0;g>e;e+=1)if(d=c.segments[e],d.availabilityIdx===b)return d;return null},z=function(b){if(null===b||void 0===b)return null;var c,e=new MediaPlayer.vo.FragmentRequest,f=b.representation,
    h=f.adaptation.period.mpd.manifest.Period_asArray[f.adaptation.period.index].AdaptationSet_asArray[f.adaptation.index].Representation_asArray[f.index].bandwidth;c=m(b.media,f);c=g(c,"Number",b.replacementNumber);c=g(c,"Time",b.replacementTime);c=g(c,"Bandwidth",h);var h=c,l=f.id;null!==l&&-1!==h.indexOf("$RepresentationID$")&&(l=l.toString(),h=h.split("$RepresentationID$").join(l));return c=h,c=c.split("$$").join("$"),e.mediaType=d,e.type=MediaPlayer.vo.metrics.HTTPRequest.MEDIA_SEGMENT_TYPE,e.url=
    c,e.range=b.mediaRange,e.startTime=b.presentationStartTime,e.duration=b.duration,e.timescale=f.timescale,e.availabilityStartTime=b.availabilityStartTime,e.availabilityEndTime=b.availabilityEndTime,e.wallStartTime=b.wallStartTime,e.quality=f.index,e.index=b.availabilityIdx,e.mediaInfo=this.streamProcessor.getMediaInfo(),e},A=function(b,g,f){var h,k,m,n=c,r=f?f.keepIdx:!1,p=f?f.timeThreshold:null;f=f&&f.ignoreIsFinished?!0:!1;return b?(e=g,this.log("Getting the request for time: "+g),c=y.call(this,
    g,b,p),w.call(this,b),0>c&&(c=y.call(this,g,b,p)),this.log("Index for time "+g+" is "+c),m=f?!1:l.call(this,b),m?(h=new MediaPlayer.vo.FragmentRequest,h.action=h.ACTION_COMPLETE,h.index=c,h.mediaType=d,h.mediaInfo=this.streamProcessor.getMediaInfo(),this.log("Signal complete."),this.log(h)):(k=x(c,b),h=z.call(this,k)),r&&(c=n),h):null},B=function(b){b=b.data.representation;b.segments&&this.notify(Dash.dependencies.DashHandler.eventList.ENAME_REPRESENTATION_UPDATED,{representation:b})},E=function(b){if(!b.error&&
    d===b.data.mediaType){var c,e,g=b.data.segments,f=b.data.representation,h=[],l=0;b=0;for(c=g.length;c>b;b+=1)e=g[b],e=r.call(this,f,e.startTime,e.duration,e.timescale,e.media,e.mediaRange,l),h.push(e),l+=1;f.segmentAvailabilityRange={start:h[0].presentationStartTime,end:h[c-1].presentationStartTime};f.availableSegmentsNumber=c;v.call(this,f,h);f.initialization&&this.notify(Dash.dependencies.DashHandler.eventList.ENAME_REPRESENTATION_UPDATED,{representation:f})}};return{log:void 0,baseURLExt:void 0,
    timelineConverter:void 0,metricsModel:void 0,metricsExt:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,setup:function(){this[Dash.dependencies.BaseURLExtensions.eventList.ENAME_INITIALIZATION_LOADED]=B;this[Dash.dependencies.BaseURLExtensions.eventList.ENAME_SEGMENTS_LOADED]=E},initialize:function(c){this.subscribe(Dash.dependencies.DashHandler.eventList.ENAME_REPRESENTATION_UPDATED,c.representationController);d=c.getType();this.setMediaType(d);b=c.isDynamic();this.streamProcessor=c},getType:function(){return d},
    setType:function(b){d=b},getIsDynamic:function(){return b},setIsDynamic:function(c){b=c},setCurrentTime:function(b){h=b},getCurrentTime:function(){return h},reset:function(){h=0;e=void 0;c=-1;b=void 0;this.unsubscribe(Dash.dependencies.DashHandler.eventList.ENAME_REPRESENTATION_UPDATED,this.streamProcessor.representationController)},getInitRequest:function(c){if(c){var e=d,g,f,h=new MediaPlayer.vo.FragmentRequest;c=(g=c.adaptation.period,h.mediaType=e,h.type=MediaPlayer.vo.metrics.HTTPRequest.INIT_SEGMENT_TYPE,
        h.url=m(c.initialization,c),h.range=c.range,f=g.start,h.availabilityStartTime=this.timelineConverter.calcAvailabilityStartTimeFromPresentationTime(f,c.adaptation.period.mpd,b),h.availabilityEndTime=this.timelineConverter.calcAvailabilityEndTimeFromPresentationTime(f+g.duration,g.mpd,b),h.quality=c.index,h.mediaInfo=this.streamProcessor.getMediaInfo(),h)}else c=null;return c},getSegmentRequestForTime:A,getNextSegmentRequest:function(b){var g,f,h,k;return b?-1===c?null:(e=null,c+=1,k=c,h=l.call(this,
        b),h?(g=new MediaPlayer.vo.FragmentRequest,g.action=g.ACTION_COMPLETE,g.index=k,g.mediaType=d,g.mediaInfo=this.streamProcessor.getMediaInfo(),this.log("Signal complete.")):(w.call(this,b),f=x(k,b),g=z.call(this,f)),g):null},generateSegmentRequestForTime:function(b,c){var d=(b.segmentAvailabilityRange.end-b.segmentAvailabilityRange.start)/2;return b.segments=null,b.segmentAvailabilityRange={start:c-d,end:c+d},A.call(this,b,c,{keepIdx:!1,ignoreIsFinished:!0})},updateRepresentation:function(e,g){var f,
        h=e.initialization,l="BaseURL"!==e.segmentInfoType&&"SegmentBase"!==e.segmentInfoType;return e.segmentDuration||e.segments||u.call(this,e),e.segmentAvailabilityRange=null,e.segmentAvailabilityRange=this.timelineConverter.calcSegmentAvailabilityRange(e,b),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime?(f=new MediaPlayer.vo.Error(Dash.dependencies.DashHandler.SEGMENTS_UNAVAILABLE_ERROR_CODE,"no segments are available yet",{availabilityDelay:e.segmentAvailabilityRange.start-
    e.segmentAvailabilityRange.end}),void this.notify(Dash.dependencies.DashHandler.eventList.ENAME_REPRESENTATION_UPDATED,{representation:e},f)):(g||(c=-1),e.segmentDuration&&u.call(this,e),h||this.baseURLExt.loadInitialization(e),l||this.baseURLExt.loadSegments(e,d,e.indexRange),void(h&&l&&this.notify(Dash.dependencies.DashHandler.eventList.ENAME_REPRESENTATION_UPDATED,{representation:e})))}}};Dash.dependencies.DashHandler.prototype={constructor:Dash.dependencies.DashHandler};
Dash.dependencies.DashHandler.SEGMENTS_UNAVAILABLE_ERROR_CODE=1;Dash.dependencies.DashHandler.eventList={ENAME_REPRESENTATION_UPDATED:"representationUpdated"};
Dash.dependencies.DashParser=function(){var e=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,b=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})([0-9]{2}))?/,d=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,c=/^https?:\/\//i,h=[{type:"duration",test:function(b){for(var c="minBufferTime mediaPresentationDuration minimumUpdatePeriod timeShiftBufferDepth maxSegmentDuration maxSubsegmentDuration suggestedPresentationDelay start starttime duration".split(" "),
                                                                                                                                                                                                                                                                                                                                                                    d=c.length,g=0;d>g;g++)if(b.nodeName===c[g])return e.test(b.value);return!1},converter:function(b){b=e.exec(b);var c=31536E3*parseFloat(b[2]||0)+2592E3*parseFloat(b[4]||0)+86400*parseFloat(b[6]||0)+3600*parseFloat(b[8]||0)+60*parseFloat(b[10]||0)+parseFloat(b[12]||0);return void 0!==b[1]&&(c=-c),c}},{type:"datetime",test:function(c){return b.test(c.value)},converter:function(c){var d=b.exec(c);if(c=Date.UTC(parseInt(d[1],10),parseInt(d[2],10)-1,parseInt(d[3],10),parseInt(d[4],10),parseInt(d[5],10),
        d[6]&&parseInt(d[6],10)||0,d[7]&&1E3*parseFloat(d[7])||0),d[9]&&d[10]){var e=60*parseInt(d[9],10)+parseInt(d[10],10);c+=("+"===d[8]?-1:1)*e*6E4}return new Date(c)}},{type:"numeric",test:function(b){return d.test(b.value)},converter:function(b){return parseFloat(b)}}],f=function(){var b,c,d,e;return e=[{name:"profiles",merge:!1},{name:"width",merge:!1},{name:"height",merge:!1},{name:"sar",merge:!1},{name:"frameRate",merge:!1},{name:"audioSamplingRate",merge:!1},{name:"mimeType",merge:!1},{name:"segmentProfiles",
    merge:!1},{name:"codecs",merge:!1},{name:"maximumSAPPeriod",merge:!1},{name:"startsWithSap",merge:!1},{name:"maxPlayoutRate",merge:!1},{name:"codingDependency",merge:!1},{name:"scanType",merge:!1},{name:"FramePacking",merge:!0},{name:"AudioChannelConfiguration",merge:!0},{name:"ContentProtection",merge:!0}],b={},b.name="AdaptationSet",b.isRoot=!1,b.isArray=!0,b.parent=null,b.children=[],b.properties=e,c={},c.name="Representation",c.isRoot=!1,c.isArray=!0,c.parent=b,c.children=[],c.properties=e,b.children.push(c),
    d={},d.name="SubRepresentation",d.isRoot=!1,d.isArray=!0,d.parent=c,d.children=[],d.properties=e,c.children.push(d),b},k=function(){var b,c,d,e;return e=[{name:"SegmentBase",merge:!0},{name:"SegmentTemplate",merge:!0},{name:"SegmentList",merge:!0}],b={},b.name="Period",b.isRoot=!1,b.isArray=!0,b.parent=null,b.children=[],b.properties=e,c={},c.name="AdaptationSet",c.isRoot=!1,c.isArray=!0,c.parent=b,c.children=[],c.properties=e,b.children.push(c),d={},d.name="Representation",d.isRoot=!1,d.isArray=
    !0,d.parent=c,d.children=[],d.properties=e,c.children.push(d),b},g=function(){var b,d,e,g,f;return f=[{name:"BaseURL",merge:!0,mergeFunction:function(b,d){return c.test(d)?d:b+d}}],b={},b.name="mpd",b.isRoot=!0,b.isArray=!0,b.parent=null,b.children=[],b.properties=f,d={},d.name="Period",d.isRoot=!1,d.isArray=!0,d.parent=null,d.children=[],d.properties=f,b.children.push(d),e={},e.name="AdaptationSet",e.isRoot=!1,e.isArray=!0,e.parent=d,e.children=[],e.properties=f,d.children.push(e),g={},g.name="Representation",
    g.isRoot=!1,g.isArray=!0,g.parent=e,g.children=[],g.properties=f,e.children.push(g),b};return{log:void 0,errHandler:void 0,parse:function(b,c,d){var e,q=new X2JS(h,"",!0),t;t=[];t=(t.push(f()),t.push(k()),t.push(g()),t);t=new ObjectIron(t);var r=new Date,w=null,v=null;try{if(e=q.xml_str2json(b),!e)throw"parser error";w=new Date;e.hasOwnProperty("BaseURL")?(e.BaseURL=e.BaseURL_asArray[0],0!==e.BaseURL.toString().indexOf("http")&&(e.BaseURL=c+e.BaseURL)):e.BaseURL=c;e.hasOwnProperty("Location")&&(e.Location=
    e.Location_asArray[0]);t.run(e);v=new Date;d.setMatchers(h);d.setIron(t);this.log("Parsing complete: ( xml2json: "+(w.getTime()-r.getTime())+"ms, objectiron: "+(v.getTime()-w.getTime())+"ms, total: "+(v.getTime()-r.getTime())/1E3+"s)")}catch(u){return this.errHandler.manifestError("parsing the manifest failed","parse",b),null}return e}}};Dash.dependencies.DashParser.prototype={constructor:Dash.dependencies.DashParser};
Dash.dependencies.TimelineConverter=function(){var e=0,b=!1,d=NaN,c=function(b,c,d,f){return f?d&&c.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(c.availabilityStartTime.getTime()+1E3*(b+c.timeShiftBufferDepth)):c.availabilityEndTime:d?new Date(c.availabilityStartTime.getTime()+1E3*(b-e)):c.availabilityStartTime},h=function(b,c){return(b.getTime()-c.mpd.availabilityStartTime.getTime()+1E3*e)/1E3},f=function(c){b||c.error||(e+=c.data.liveEdge-(d+c.data.searchTime),b=!0)},k=function(c){b||
c.error||(e=c.data.offset/1E3,b=!0)};return{setup:function(){this[MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED]=f;this[MediaPlayer.dependencies.TimeSyncController.eventList.ENAME_TIME_SYNCHRONIZATION_COMPLETED]=k},calcAvailabilityStartTimeFromPresentationTime:function(b,d,e){return c.call(this,b,d,e)},calcAvailabilityEndTimeFromPresentationTime:function(b,d,e){return c.call(this,b,d,e,!0)},calcPresentationTimeFromWallTime:h,calcPresentationTimeFromMediaTime:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             c){return b+(c.adaptation.period.start-c.presentationTimeOffset)},calcPeriodRelativeTimeFromMpdRelativeTime:function(b,c){return c-b.adaptation.period.start},calcMpdRelativeTimeFromPeriodRelativeTime:function(b,c){return c+b.adaptation.period.start},calcMediaTimeFromPresentationTime:function(b,c){return b-c.adaptation.period.start+c.presentationTimeOffset},calcSegmentAvailabilityRange:function(c,d){var e,f,k=c.adaptation.period.start,q=k+c.adaptation.period.duration,k={start:k,end:q},t=c.segmentDuration||
    (c.segments&&c.segments.length?c.segments[c.segments.length-1].duration:0);if(!d)return k;if(!b&&c.segmentAvailabilityRange)return c.segmentAvailabilityRange;e=c.adaptation.period.mpd.checkTime;f=h(new Date,c.adaptation.period);k=Math.max(f-c.adaptation.period.mpd.timeShiftBufferDepth,c.adaptation.period.start);e=isNaN(e)?f:Math.min(e,f);f=c.adaptation.period.start+c.adaptation.period.duration;return q=(e>=f&&f>e-t?f:e)-t,{start:k,end:q}},calcWallTimeForSegment:function(b,c){var d,e,f;return c&&(d=
    b.representation.adaptation.period.mpd.suggestedPresentationDelay,e=b.presentationStartTime+d,f=new Date(b.availabilityStartTime.getTime()+1E3*e)),f},calcMSETimeOffset:function(b){return b.adaptation.period.start-b.presentationTimeOffset},reset:function(){e=0;b=!1;d=NaN},isTimeSyncCompleted:function(){return b},setTimeSyncCompleted:function(c){b=c},getClientTimeOffset:function(){return e},getExpectedLiveEdge:function(){return d},setExpectedLiveEdge:function(b){d=b}}};
Dash.dependencies.TimelineConverter.prototype={constructor:Dash.dependencies.TimelineConverter};
Dash.dependencies.RepresentationController=function(){var e,b=null,d=-1,c=!0,h=[],f=function(){var b=new Date,c=this.getCurrentRepresentation(),d=this.streamProcessor.playbackController.getTime();this.metricsModel.addRepresentationSwitch(c.adaptation.type,b,d,c.id)},k=function(){var b=this.streamProcessor,c=this.timelineConverter.calcSegmentAvailabilityRange(e,b.isDynamic());this.metricsModel.addDVRInfo(b.getType(),b.playbackController.getTime(),b.getStreamInfo().manifestInfo,c)},g=function(b){for(var c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           d=0,e=h.length;e>d;d+=1)c=h[d],c.segmentAvailabilityRange=this.timelineConverter.calcSegmentAvailabilityRange(c,b)},m=function(b){var d=this;b=1E3*(b+e.segmentDuration*this.liveDelayFragmentCount);c=!1;setTimeout(function(){if(!this.isUpdating()){c=!0;d.notify(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_STARTED);for(var b=0;b<h.length;b+=1)d.indexHandler.updateRepresentation(h[b],!0)}}.bind(this),b)},l=function(d){if(this.isUpdating()){var g,l,n,p=d.data.representation,
    q=this.metricsModel.getMetricsFor("stream"),t=this.metricsModel.getMetricsFor(this.getCurrentRepresentation().adaptation.type),q=this.metricsExt.getCurrentManifestUpdate(q),A=!1;if(d.error&&d.error.code===Dash.dependencies.DashHandler.SEGMENTS_UNAVAILABLE_ERROR_CODE)return k.call(this),m.call(this,d.error.data.availabilityDelay),l=new MediaPlayer.vo.Error(Dash.dependencies.RepresentationController.SEGMENTS_UPDATE_FAILED_ERROR_CODE,"Segments update failed",null),void this.notify(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED,
    {data:b,currentRepresentation:e},l);if(q){for(d=0;d<q.trackInfo.length;d+=1)if(g=q.trackInfo[d],g.index===p.index&&g.mediaType===this.streamProcessor.getType()){A=!0;break}A||this.metricsModel.addManifestUpdateRepresentationInfo(q,p.id,p.index,p.adaptation.period.index,this.streamProcessor.getType(),p.presentationTimeOffset,p.startNumber,p.segmentInfoType)}a:{g=0;for(p=h.length;p>g;g+=1)if(d=h[g].segmentInfoType,null===h[g].segmentAvailabilityRange||null===h[g].initialization||("SegmentBase"===d||
        "BaseURL"===d)&&!h[g].segments){g=!1;break a}g=!0}g&&(c=!1,this.abrController.setPlaybackQuality(this.streamProcessor.getType(),this.streamProcessor.getStreamInfo(),h.indexOf(e)),this.metricsModel.updateManifestUpdateInfo(q,{latency:e.segmentAvailabilityRange.end-this.streamProcessor.playbackController.getTime()}),n=this.metricsExt.getCurrentRepresentationSwitch(t),n||f.call(this),this.notify(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED,{data:b,currentRepresentation:e}))}},
    n=function(b){g.call(this,b.data.isDynamic)},p=function(b){if(!b.error){g.call(this,!0);this.indexHandler.updateRepresentation(e,!1);b=this.manifestModel.getValue();var c=e.adaptation.period,d=this.streamController.getActiveStreamInfo();d.isLast&&(c.mpd.checkTime=this.manifestExt.getCheckTime(b,c),c.duration=this.manifestExt.getEndTimeForLastPeriod(this.manifestModel.getValue(),c)-c.start,d.duration=c.duration)}},q=function(){k.call(this)},t=function(b){if(b.data.mediaType===this.streamProcessor.getType()&&
        this.streamProcessor.getStreamInfo().id===b.data.streamInfo.id){e=this.getRepresentationForQuality(b.data.newQuality);b=b.data.mediaType;var c=e.bandwidth;!this.DOMStorage.isSupported(MediaPlayer.utils.DOMStorage.STORAGE_TYPE_LOCAL)||"video"!==b&&"audio"!==b||localStorage.setItem(MediaPlayer.utils.DOMStorage["LOCAL_STORAGE_"+b.toUpperCase()+"_BITRATE_KEY"],JSON.stringify({bitrate:c/1E3,timestamp:(new Date).getTime()}));f.call(this)}};return{system:void 0,log:void 0,manifestExt:void 0,manifestModel:void 0,
    metricsModel:void 0,metricsExt:void 0,abrController:void 0,streamController:void 0,timelineConverter:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,DOMStorage:void 0,liveDelayFragmentCount:void 0,setup:function(){this[MediaPlayer.dependencies.AbrController.eventList.ENAME_QUALITY_CHANGED]=t;this[Dash.dependencies.DashHandler.eventList.ENAME_REPRESENTATION_UPDATED]=l;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_WALLCLOCK_TIME_UPDATED]=n;this[MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED]=
        p;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_UPDATED]=q},initialize:function(b){this.streamProcessor=b;this.indexHandler=b.indexHandler},getData:function(){return b},getDataIndex:function(){return d},isUpdating:function(){return c},updateData:function(g,f,l){var k,m,n=null,p=this.streamProcessor.getStreamInfo(),q=this.abrController.getTopQualityIndexFor(l,p.id);c=!0;this.notify(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_STARTED);var t=this.manifestModel.getValue();
        if(h=(d=this.manifestExt.getIndexForAdaptation(b,t,f.period.index),this.manifestExt.getRepresentationsForAdaptation(t,f)),null===b?(m=this.abrController.getAverageThroughput(l),n=m||this.abrController.getInitialBitrateFor(l,p),k=this.abrController.getQualityForBitrate(this.streamProcessor.getMediaInfo(),n)):k=this.abrController.getQualityFor(l,p),k>q&&(k=q),e=h[k],b=g,"video"!==l&&"audio"!==l&&"fragmentedText"!==l)return c=!1,void this.notify(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED,
            {data:b,currentRepresentation:e});for(g=0;g<h.length;g+=1)this.indexHandler.updateRepresentation(h[g],!0)},getRepresentationForQuality:function(b){return h[b]},getCurrentRepresentation:function(){return e}}};Dash.dependencies.RepresentationController.prototype={constructor:Dash.dependencies.RepresentationController};Dash.dependencies.RepresentationController.SEGMENTS_UPDATE_FAILED_ERROR_CODE=1;
Dash.dependencies.RepresentationController.eventList={ENAME_DATA_UPDATE_COMPLETED:"dataUpdateCompleted",ENAME_DATA_UPDATE_STARTED:"dataUpdateStarted"};
Dash.dependencies.BaseURLExtensions=function(){var e=function(b,c){for(var d,e,f,h,q=b.references,t=q.length,r=b.timescale,w=b.earliest_presentation_time,v=c.range.start+b.first_offset+b.size,u=[],y=0;t>y;y+=1)f=q[y].subsegment_duration,h=q[y].referenced_size,d=new Dash.vo.Segment,d.duration=f,d.media=c.url,d.startTime=w,d.timescale=r,e=v+h-1,d.mediaRange=v+"-"+e,u.push(d),w+=f,v+=h;return u},b=function(b){var c,d,e=b.getBox("ftyp");b=b.getBox("moov");var f=null;return this.log("Searching for initialization."),
b&&b.isComplete&&(c=e?e.offset:b.offset,d=b.offset+b.size-1,f=c+"-"+d,this.log("Found the initialization.  Range: "+f)),f},d=function(c,e){var f=new XMLHttpRequest,l=!0,n=this,p=null,q=null,t=c.adaptation.period.mpd.manifest.Period_asArray[c.adaptation.period.index].AdaptationSet_asArray[c.adaptation.index].Representation_asArray[c.index].BaseURL,r=e||{url:t,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,request:f};n.log("Start searching for initialization.");f.onload=function(){200>
f.status||299<f.status||(l=!1,r.bytesLoaded=r.range.end,q=n.boxParser.parse(f.response),p=b.call(n,q),p?(c.range=p,c.initialization=t,n.notify(Dash.dependencies.BaseURLExtensions.eventList.ENAME_INITIALIZATION_LOADED,{representation:c})):(r.range.end=r.bytesLoaded+r.bytesToLoad,d.call(n,c,r)))};f.onloadend=f.onerror=function(){l&&(l=!1,n.errHandler.downloadError("initialization",r.url,f),n.notify(Dash.dependencies.BaseURLExtensions.eventList.ENAME_INITIALIZATION_LOADED,{representation:c}))};h.call(n,
    f,r);n.log("Perform init search: "+r.url)},c=function(b,d,f,l,n){var p=this,q=null!==f,t=new XMLHttpRequest,r=!0,w=null,v=null,u={url:b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].BaseURL,range:q?f:{start:0,end:1500},searching:!q,bytesLoaded:l?l.bytesLoaded:0,bytesToLoad:1500,request:t};t.onload=function(){if(!(200>t.status||299<t.status)){var f=u.bytesToLoad,h=t.response.byteLength;if(r=!1,u.bytesLoaded=
        u.range.end-u.range.start,w=p.boxParser.parse(t.response),v=w.getBox("sidx"),v&&v.isComplete){var l,f=v.references;if(null!==f&&void 0!==f&&0<f.length&&(l=1===f[0].reference_type),l){p.log("Initiate multiple SIDX load.");u.range.end=u.range.start+v.size;var m,q,E,D=[],G=0,h=(v.offset||u.range.start)+v.size,I=function(c){c?(D=D.concat(c),G+=1,G>=m&&n.call(p,D,b,d)):n.call(p,null,b,d)};l=0;for(m=f.length;m>l;l+=1)q=h,E=h+f[l].referenced_size-1,h+=f[l].referenced_size,q={start:q,end:E},c.call(p,b,null,
    q,u,I)}else p.log("Parsing segments from SIDX."),f=e.call(p,v,u),n.call(p,f,b,d)}else{if(v)u.range.start=v.offset||u.range.start,u.range.end=u.range.start+(v.size||f);else{if(h<u.bytesLoaded)return void n.call(p,null,b,d);(l=w.getLastBox())&&l.size?(u.range.start=l.offset+l.size,u.range.end=u.range.start+f):u.range.end+=f}c.call(p,b,d,u.range,u,n)}}};t.onloadend=t.onerror=function(){r&&(r=!1,p.errHandler.downloadError("SIDX",u.url,t),n.call(p,null,b,d))};h.call(p,t,u);p.log("Perform SIDX load: "+
    u.url)},h=function(b,c){b.open("GET",this.requestModifierExt.modifyRequestURL(c.url));b.responseType="arraybuffer";b.setRequestHeader("Range","bytes="+c.range.start+"-"+c.range.end);b=this.requestModifierExt.modifyRequestHeader(b);b.send(null)},f=function(b,c,d){b?this.notify(Dash.dependencies.BaseURLExtensions.eventList.ENAME_SEGMENTS_LOADED,{segments:b,representation:c,mediaType:d}):this.notify(Dash.dependencies.BaseURLExtensions.eventList.ENAME_SEGMENTS_LOADED,{segments:null,representation:c,mediaType:d},
    new MediaPlayer.vo.Error(null,"error loading segments",null))};return{log:void 0,errHandler:void 0,requestModifierExt:void 0,boxParser:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,loadSegments:function(b,d,e){e=(e=e?e.split("-"):null)?{start:parseFloat(e[0]),end:parseFloat(e[1])}:null;c.call(this,b,d,e,null,f.bind(this))},loadInitialization:d}};Dash.dependencies.BaseURLExtensions.prototype={constructor:Dash.dependencies.BaseURLExtensions};
Dash.dependencies.BaseURLExtensions.eventList={ENAME_INITIALIZATION_LOADED:"initializationLoaded",ENAME_SEGMENTS_LOADED:"segmentsLoaded"};Dash.dependencies.DashManifestExtensions=function(){this.timelineConverter=void 0};
Dash.dependencies.DashManifestExtensions.prototype={constructor:Dash.dependencies.DashManifestExtensions,getIsTypeOf:function(e,b){var d,c,h;d=e.ContentComponent_asArray;var f="text"!==b?new RegExp(b):/(vtt|ttml)/,k=!1,g=!1;if(0<e.Representation_asArray.length&&e.Representation_asArray[0].hasOwnProperty("codecs")&&"stpp"==e.Representation_asArray[0].codecs)return"fragmentedText"==b;if(d){if(1<d.length)return"muxed"==b;d[0]&&d[0].contentType===b&&(k=!0,g=!0)}if(e.hasOwnProperty("mimeType")&&(k=f.test(e.mimeType),
        g=!0),!g)for(d=0,c=e.Representation_asArray.length;!g&&c>d;)h=e.Representation_asArray[d],h.hasOwnProperty("mimeType")&&(k=f.test(h.mimeType),g=!0),d+=1;return k},getIsAudio:function(e){return this.getIsTypeOf(e,"audio")},getIsVideo:function(e){return this.getIsTypeOf(e,"video")},getIsFragmentedText:function(e){return this.getIsTypeOf(e,"fragmentedText")},getIsText:function(e){return this.getIsTypeOf(e,"text")},getIsMuxed:function(e){return this.getIsTypeOf(e,"muxed")},getIsTextTrack:function(e){return"text/vtt"===
    e||"application/ttml+xml"===e},getLanguageForAdaptation:function(e){var b="";return e.hasOwnProperty("lang")&&(b=e.lang.replace(/[^A-Za-z0-9-]/g,"")),b},getViewpointForAdaptation:function(e){return e.hasOwnProperty("Viewpoint")?e.Viewpoint:null},getRolesForAdaptation:function(e){return e.hasOwnProperty("Role_asArray")?e.Role_asArray:[]},getAccessibilityForAdaptation:function(e){return e.hasOwnProperty("Accessibility_asArray")?e.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(e){return e.hasOwnProperty("AudioChannelConfiguration_asArray")?
    e.AudioChannelConfiguration_asArray:[]},getIsMain:function(e){return this.getRolesForAdaptation(e).filter(function(b){return"main"===b.value})[0]},processAdaptation:function(e){return void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort(function(b,d){return b.bandwidth-d.bandwidth}),e},getAdaptationForId:function(e,b,d){var c=b.Period_asArray[d].AdaptationSet_asArray;b=0;for(d=c.length;d>b;b+=1)if(c[b].hasOwnProperty("id")&&c[b].id===e)return c[b];return null},
    getAdaptationForIndex:function(e,b,d){return b.Period_asArray[d].AdaptationSet_asArray[e]},getIndexForAdaptation:function(e,b,d){var c=b.Period_asArray[d].AdaptationSet_asArray;b=0;for(d=c.length;d>b;b+=1)if(c[b]===e)return b;return-1},getAdaptationsForType:function(e,b,d){var c=e.Period_asArray[b].AdaptationSet_asArray,h=[];e=0;for(b=c.length;b>e;e+=1)this.getIsTypeOf(c[e],d)&&h.push(this.processAdaptation(c[e]));return h},getAdaptationForType:function(e,b,d){var c;if(c=this.getAdaptationsForType(e,
            b,d),!c||0===c.length)return null;e=0;for(b=c.length;b>e;e+=1)if(this.getIsMain(c[e]))return c[e];return c[0]},getCodec:function(e){e=e.Representation_asArray[0];return e.mimeType+';codecs="'+e.codecs+'"'},getMimeType:function(e){return e.Representation_asArray[0].mimeType},getKID:function(e){return e&&e.hasOwnProperty("cenc:default_KID")?e["cenc:default_KID"]:null},getContentProtectionData:function(e){return e&&e.hasOwnProperty("ContentProtection_asArray")&&0!==e.ContentProtection_asArray.length?
        e.ContentProtection_asArray:null},getIsDynamic:function(e){var b=!1;return e.hasOwnProperty("type")&&(b="dynamic"===e.type),b},getIsDVR:function(e){var b,d=this.getIsDynamic(e);return b=!isNaN(e.timeShiftBufferDepth),d&&b},getIsOnDemand:function(e){var b=!1;return e.profiles&&0<e.profiles.length&&(b=-1!==e.profiles.indexOf("urn:mpeg:dash:profile:isoff-on-demand:2011")),b},getDuration:function(e){return e.hasOwnProperty("mediaPresentationDuration")?e.mediaPresentationDuration:Number.MAX_VALUE},getBandwidth:function(e){return e.bandwidth},
    getRefreshDelay:function(e){var b=NaN;return e.hasOwnProperty("minimumUpdatePeriod")&&(b=Math.max(parseFloat(e.minimumUpdatePeriod),2)),b},getRepresentationCount:function(e){return e.Representation_asArray.length},getBitrateListForAdaptation:function(e){if(!e||!e.Representation_asArray||!e.Representation_asArray.length)return null;e=this.processAdaptation(e).Representation_asArray;for(var b=e.length,d=[],c=0;b>c;c+=1)d.push(e[c].bandwidth);return d},getRepresentationFor:function(e,b){return b.Representation_asArray[e]},
    getRepresentationsForAdaptation:function(e,b){for(var d,c,h,f,k,g=this.processAdaptation(e.Period_asArray[b.period.index].AdaptationSet_asArray[b.index]),m=[],l=0;l<g.Representation_asArray.length;l+=1)f=g.Representation_asArray[l],d=new Dash.vo.Representation,d.index=l,d.adaptation=b,f.hasOwnProperty("id")&&(d.id=f.id),f.hasOwnProperty("bandwidth")&&(d.bandwidth=f.bandwidth),f.hasOwnProperty("maxPlayoutRate")&&(d.maxPlayoutRate=f.maxPlayoutRate),f.hasOwnProperty("SegmentBase")?(h=f.SegmentBase,d.segmentInfoType=
        "SegmentBase"):f.hasOwnProperty("SegmentList")?(h=f.SegmentList,d.segmentInfoType="SegmentList",d.useCalculatedLiveEdgeTime=!0):f.hasOwnProperty("SegmentTemplate")?(h=f.SegmentTemplate,h.hasOwnProperty("SegmentTimeline")?(d.segmentInfoType="SegmentTimeline",k=h.SegmentTimeline.S_asArray[h.SegmentTimeline.S_asArray.length-1],(!k.hasOwnProperty("r")||0<=k.r)&&(d.useCalculatedLiveEdgeTime=!0)):d.segmentInfoType="SegmentTemplate",h.hasOwnProperty("initialization")&&(d.initialization=h.initialization.split("$Bandwidth$").join(f.bandwidth).split("$RepresentationID$").join(f.id))):
        (h=f.BaseURL,d.segmentInfoType="BaseURL"),h.hasOwnProperty("Initialization")?(c=h.Initialization,c.hasOwnProperty("sourceURL")?d.initialization=c.sourceURL:c.hasOwnProperty("range")&&(d.initialization=f.BaseURL,d.range=c.range)):f.hasOwnProperty("mimeType")&&this.getIsTextTrack(f.mimeType)&&(d.initialization=f.BaseURL,d.range=0),h.hasOwnProperty("timescale")&&(d.timescale=h.timescale),h.hasOwnProperty("duration")&&(d.segmentDuration=h.duration/d.timescale),h.hasOwnProperty("startNumber")&&(d.startNumber=
        h.startNumber),h.hasOwnProperty("indexRange")&&(d.indexRange=h.indexRange),h.hasOwnProperty("presentationTimeOffset")&&(d.presentationTimeOffset=h.presentationTimeOffset/d.timescale),d.MSETimeOffset=this.timelineConverter.calcMSETimeOffset(d),m.push(d);return m},getAdaptationsForPeriod:function(e,b){for(var d,c,h=e.Period_asArray[b.index],f=[],k=0;k<h.AdaptationSet_asArray.length;k+=1)c=h.AdaptationSet_asArray[k],d=new Dash.vo.AdaptationSet,c.hasOwnProperty("id")&&(d.id=c.id),d.index=k,d.period=b,
        this.getIsMuxed(c)?d.type="muxed":this.getIsAudio(c)?d.type="audio":this.getIsVideo(c)?d.type="video":this.getIsFragmentedText(c)?d.type="fragmentedText":d.type="text",f.push(d);return f},getRegularPeriods:function(e,b){var d,c,h=[],f=this.getIsDynamic(e),k=null,g=null,m=null,l=null;d=0;for(c=e.Period_asArray.length;c>d;d+=1)g=e.Period_asArray[d],g.hasOwnProperty("start")?(l=new Dash.vo.Period,l.start=g.start):null!==k&&g.hasOwnProperty("duration")&&null!==m?(l=new Dash.vo.Period,l.start=m.start+
        m.duration,l.duration=g.duration):0!==d||f||(l=new Dash.vo.Period,l.start=0),null!==m&&isNaN(m.duration)&&(m.duration=l.start-m.start),null!==l&&(l.id=this.getPeriodId(g)),null!==l&&g.hasOwnProperty("duration")&&(l.duration=g.duration),null!==l&&(l.index=d,l.mpd=b,h.push(l),k=g,m=l),l=null;return 0===h.length?h:(null!==m&&isNaN(m.duration)&&(m.duration=this.getEndTimeForLastPeriod(e,m)-m.start),h)},getPeriodId:function(e){if(!e)throw Error("Period cannot be null or undefined");var b=Dash.vo.Period.DEFAULT_ID;
        return e.hasOwnProperty("id")&&"__proto__"!==e.id&&(b=e.id),b},getMpd:function(e){var b=new Dash.vo.Mpd;return b.manifest=e,e.hasOwnProperty("availabilityStartTime")?b.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):b.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty("availabilityEndTime")&&(b.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty("suggestedPresentationDelay")&&(b.suggestedPresentationDelay=e.suggestedPresentationDelay),
    e.hasOwnProperty("timeShiftBufferDepth")&&(b.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty("maxSegmentDuration")&&(b.maxSegmentDuration=e.maxSegmentDuration),b},getFetchTime:function(e,b){return this.timelineConverter.calcPresentationTimeFromWallTime(e.loadedTime,b)},getCheckTime:function(e,b){var d,c=NaN;return e.hasOwnProperty("minimumUpdatePeriod")&&(d=this.getFetchTime(e,b),c=d+e.minimumUpdatePeriod),c},getEndTimeForLastPeriod:function(e,b){var d;d=this.getCheckTime(e,b);if(e.mediaPresentationDuration)d=
        e.mediaPresentationDuration;else if(isNaN(d))throw Error("Must have @mediaPresentationDuration or @minimumUpdatePeriod on MPD or an explicit @duration on the last period.");return d},getEventsForPeriod:function(e,b){var d=e.Period_asArray[b.index].EventStream_asArray,c=[];if(d)for(var h=0;h<d.length;h+=1){var f=new Dash.vo.EventStream;if(f.period=b,f.timescale=1,!d[h].hasOwnProperty("schemeIdUri"))throw"Invalid EventStream. SchemeIdUri has to be set";f.schemeIdUri=d[h].schemeIdUri;d[h].hasOwnProperty("timescale")&&
    (f.timescale=d[h].timescale);d[h].hasOwnProperty("value")&&(f.value=d[h].value);for(var k=0;k<d[h].Event_asArray.length;k+=1){var g=new Dash.vo.Event;g.presentationTime=0;g.eventStream=f;d[h].Event_asArray[k].hasOwnProperty("presentationTime")&&(g.presentationTime=d[h].Event_asArray[k].presentationTime);d[h].Event_asArray[k].hasOwnProperty("duration")&&(g.duration=d[h].Event_asArray[k].duration);d[h].Event_asArray[k].hasOwnProperty("id")&&(g.id=d[h].Event_asArray[k].id);c.push(g)}}return c},getEventStreams:function(e,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             b){var d=[];if(!e)return d;for(var c=0;c<e.length;c++){var h=new Dash.vo.EventStream;if(h.timescale=1,h.representation=b,!e[c].hasOwnProperty("schemeIdUri"))throw"Invalid EventStream. SchemeIdUri has to be set";h.schemeIdUri=e[c].schemeIdUri;e[c].hasOwnProperty("timescale")&&(h.timescale=e[c].timescale);e[c].hasOwnProperty("value")&&(h.value=e[c].value);d.push(h)}return d},getEventStreamForAdaptationSet:function(e,b){return this.getEventStreams(e.Period_asArray[b.period.index].AdaptationSet_asArray[b.index].InbandEventStream_asArray,
        null)},getEventStreamForRepresentation:function(e,b){return this.getEventStreams(e.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].InbandEventStream_asArray,b)},getUTCTimingSources:function(e){var b=this.getIsDynamic(e),d=e.hasOwnProperty("availabilityStartTime");e=e.UTCTiming_asArray;var c=[];return(b||d)&&e&&e.forEach(function(b){var d=new Dash.vo.UTCTiming;b.hasOwnProperty("schemeIdUri")&&(d.schemeIdUri=b.schemeIdUri,b.hasOwnProperty("value")&&
    (d.value=b.value.toString(),c.push(d)))}),c}};
Dash.dependencies.DashMetricsExtensions=function(){var e=function(b){if(null===b)return null;var d=b.HttpList,e=null;if(null===d||0>=d.length)return null;for(b=d.length-1;0<=b;){if(d[b].responsecode){e=d[b];break}--b}return e},b=function(b){return null===b?[]:b.HttpList?b.HttpList:[]},d=function(b){var d={};if(!b)return d;b=b.split("\r\n");for(var e=0,k=b.length;k>e;e++){var g=b[e],m=g.indexOf(": ");0<m&&(d[g.substring(0,m)]=g.substring(m+2))}return d};return{manifestModel:void 0,manifestExt:void 0,
    system:void 0,getBandwidthForRepresentation:function(b,d){var e,k;a:{var g,m,l,n;k=this.manifestModel.getValue().Period_asArray[d].AdaptationSet_asArray;for(l=0;l<k.length;l+=1)for(g=k[l],g=g.Representation_asArray,n=0;n<g.length;n+=1)if(m=g[n],b===m.id){k=m;break a}k=null}return e=k,null===e?null:e.bandwidth},getIndexForRepresentation:function(b,d){var e;a:{var k,g,m,l;e=this.manifestModel.getValue().Period_asArray[d].AdaptationSet_asArray;for(m=0;m<e.length;m+=1)for(k=e[m],k=k.Representation_asArray,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 l=0;l<k.length;l+=1)if(g=k[l],b===g.id){e=l;break a}e=-1}return e},getMaxIndexForBufferType:function(b,d){var e=this.manifestModel.getValue().Period_asArray[d],k;a:{var g,m;if(e&&b)for(e=e.AdaptationSet_asArray,m=0;m<e.length;m+=1)if(k=e[m],g=k.Representation_asArray,this.manifestExt.getIsTypeOf(k,b)){k=g.length;break a}k=-1}return k},getMaxAllowedIndexForBufferType:function(b,d){var e=this.system.getObject("abrController"),k=0;return e&&(k=e.getTopQualityIndexFor(b,d)),k},getCurrentRepresentationSwitch:function(b){if(null===
        b)return null;var d,e;b=b.RepSwitchList;return null===b||0>=b.length?null:(d=b.length,e=d-1,b[e])},getCurrentBufferLevel:function(b){if(null===b)return null;var d,e;b=b.BufferLevel;return null===b||0>=b.length?null:(d=b.length,e=d-1,b[e])},getCurrentPlaybackRate:function(b){if(null===b)return null;var d;b=b.PlayList;return null===b||0>=b.length?null:(d=b[b.length-1].trace,null===d||0>=d.length?null:d[d.length-1].playbackspeed)},getCurrentHttpRequest:e,getHttpRequests:b,getCurrentDroppedFrames:function(b){if(null===
        b)return null;var d,e;b=b.DroppedFrames;return null===b||0>=b.length?null:(d=b.length,e=d-1,b[e])},getCurrentSchedulingInfo:function(b){if(null===b)return null;var d,e;b=b.SchedulingInfo;return null===b||0>=b.length?null:(d=b.length,e=d-1,b[e])},getCurrentDVRInfo:function(b){if(null===b)return null;var d;b=b.DVRInfo;return null===b||0>=b.length?null:(d=b.length-1,b[d])},getCurrentManifestUpdate:function(b){if(null===b)return null;var d,e;b=b.ManifestUpdate;return null===b||0>=b.length?null:(d=b.length,
        e=d-1,b[e])},getLatestFragmentRequestHeaderValueByID:function(b,h){if(null===b)return null;var f,k=e(b);return null===k||null===k.responseHeaders?null:(f=d(k.responseHeaders),void 0===f[h]?null:f[h])},getLatestMPDRequestHeaderValueByID:function(c,e){var f,k,g,m={};if(null===c)return null;f=b(c);for(g=f.length-1;0<=g;--g)if(k=f[g],k.type===MediaPlayer.vo.metrics.HTTPRequest.MPD_TYPE){m=d(k.responseHeaders);break}return void 0===m[e]?null:m[e]},getRequestsQueue:function(b){return b.RequestsQueue}}};
Dash.dependencies.DashMetricsExtensions.prototype={constructor:Dash.dependencies.DashMetricsExtensions};
Dash.dependencies.FragmentExtensions=function(){return{log:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,boxParser:void 0,getSamplesInfo:function(e){var b,d,c,h,f,k,g,m;c=this.boxParser.parse(e);e=c.getBox("tfhd");b=c.getBox("tfdt");var l=c.getBox("trun"),n=c.getBox("moof");c=l.sample_count;f=b.baseMediaDecodeTime;m=(e.base_data_offset||0)+(l.data_offset||0);k=[];for(g=0;c>g;g++)d=l.samples[g],b=void 0!==d.sample_duration?d.sample_duration:e.default_sample_duration,h=void 0!==d.sample_size?
    d.sample_size:e.default_sample_size,d=void 0!==d.sample_composition_time_offset?d.sample_composition_time_offset:0,k.push({dts:f,cts:f+d,duration:b,offset:n.offset+m,size:h}),m+=h,f+=b;return k},getMediaTimescaleFromMoov:function(e){return(e=this.boxParser.parse(e).getBox("mdhd"))?e.timescale:NaN}}};Dash.dependencies.FragmentExtensions.prototype={constructor:Dash.dependencies.FragmentExtensions};Dash.dependencies.FragmentExtensions.eventList={ENAME_FRAGMENT_LOADING_COMPLETED:"fragmentLoadingCompleted"};
Dash.vo.AdaptationSet=function(){this.period=null;this.index=-1;this.type=null};Dash.vo.AdaptationSet.prototype={constructor:Dash.vo.AdaptationSet};Dash.vo.Event=function(){this.id=this.presentationTime=this.duration=NaN;this.messageData="";this.eventStream=null;this.presentationTimeDelta=NaN};Dash.vo.Event.prototype={constructor:Dash.vo.Event};Dash.vo.EventStream=function(){this.period=this.representation=this.adaptionSet=null;this.timescale=1;this.schemeIdUri=this.value=""};
Dash.vo.EventStream.prototype={constructor:Dash.vo.EventStream};Dash.vo.Mpd=function(){this.manifest=null;this.suggestedPresentationDelay=0;this.availabilityStartTime=null;this.maxSegmentDuration=this.timeShiftBufferDepth=this.availabilityEndTime=Number.POSITIVE_INFINITY;this.checkTime=NaN;this.clientServerTimeShift=0;this.isClientServerTimeSyncCompleted=!1};Dash.vo.Mpd.prototype={constructor:Dash.vo.Mpd};Dash.vo.Period=function(){this.id=null;this.index=-1;this.start=this.duration=NaN;this.mpd=null};
Dash.vo.Period.prototype={constructor:Dash.vo.Period};Dash.vo.Period.DEFAULT_ID="defaultId";Dash.vo.Representation=function(){this.id=null;this.index=-1;this.initialization=this.segmentInfoType=this.adaptation=null;this.segmentDuration=NaN;this.startNumber=this.timescale=1;this.range=this.indexRange=null;this.presentationTimeOffset=0;this.MSETimeOffset=NaN;this.segmentAvailabilityRange=null;this.availableSegmentsNumber=0;this.maxPlayoutRate=this.bandwidth=NaN};Dash.vo.Representation.prototype={constructor:Dash.vo.Representation};
Dash.vo.Segment=function(){this.media=this.mediaRange=this.index=this.indexRange=null;this.duration=NaN;this.replacementTime=null;this.wallStartTime=this.availabilityIdx=this.availabilityEndTime=this.availabilityStartTime=this.presentationStartTime=this.mediaStartTime=this.replacementNumber=NaN;this.representation=null};Dash.vo.Segment.prototype={constructor:Dash.vo.Segment};Dash.vo.UTCTiming=function(){this.value=this.schemeIdUri=""};Dash.vo.UTCTiming.prototype={constructor:Dash.vo.UTCTiming};
MediaPlayer.dependencies.ErrorHandler=function(){var e=MediaPlayer.events.ERROR;return{eventBus:void 0,capabilityError:function(b){this.eventBus.dispatchEvent({type:e,error:"capability",event:b})},downloadError:function(b,d,c){this.eventBus.dispatchEvent({type:e,error:"download",event:{id:b,url:d,request:c}})},manifestError:function(b,d,c){this.eventBus.dispatchEvent({type:e,error:"manifestError",event:{message:b,id:d,manifest:c}})},closedCaptionsError:function(b,d,c){this.eventBus.dispatchEvent({type:e,
    error:"cc",event:{message:b,id:d,cc:c}})},mediaSourceError:function(b){this.eventBus.dispatchEvent({type:e,error:"mediasource",event:b})},mediaKeySessionError:function(b){this.eventBus.dispatchEvent({type:e,error:"key_session",event:b})},mediaKeyMessageError:function(b){this.eventBus.dispatchEvent({type:e,error:"key_message",event:b})},mediaKeySystemSelectionError:function(b){this.eventBus.dispatchEvent({type:e,error:"key_system_selection",event:b})}}};
MediaPlayer.dependencies.ErrorHandler.prototype={constructor:MediaPlayer.dependencies.ErrorHandler};
MediaPlayer.dependencies.FragmentLoader=function(){var e=MediaPlayer.dependencies.FragmentLoader.RETRY_ATTEMPTS,b=MediaPlayer.dependencies.FragmentLoader.RETRY_INTERVAL,d=[],c=function(e,h){var g=new XMLHttpRequest,m=[],l=!0,n=!0,p=null,q=this,t=function(b,c){n=!1;var d,h;d=new Date;h=g.response;var l=null;m.push({s:d,d:d.getTime()-p.getTime(),b:[h?h.byteLength:0]});b.firstByteDate||(b.firstByteDate=b.requestStartDate);b.requestEndDate=d;d=b.firstByteDate.getTime()-b.requestStartDate.getTime();h=
    b.requestEndDate.getTime()-b.firstByteDate.getTime();q.log((c?"loaded ":"failed ")+b.mediaType+":"+b.type+":"+b.startTime+" ("+g.status+", "+d+"ms, "+h+"ms)");l=q.metricsModel.addHttpRequest(e.mediaType,null,e.type,e.url,g.responseURL||null,e.range,e.requestStartDate,b.firstByteDate,b.requestEndDate,g.status,e.duration,g.getAllResponseHeaders());c&&m.forEach(function(b){q.metricsModel.appendHttpTrace(l,b.s,b.d,b.b)})};d.push(g);e.requestStartDate=new Date;m.push({s:e.requestStartDate,d:0,b:[0]});
    p=e.requestStartDate;g.open("GET",q.requestModifierExt.modifyRequestURL(e.url),!0);g.responseType="arraybuffer";g=q.requestModifierExt.modifyRequestHeader(g);e.range&&g.setRequestHeader("Range","bytes="+e.range);g.onprogress=function(b){var c=new Date;l&&(l=!1,(!b.lengthComputable||b.lengthComputable&&b.total!=b.loaded)&&(e.firstByteDate=c));b.lengthComputable&&(e.bytesLoaded=b.loaded,e.bytesTotal=b.total);m.push({s:c,d:c.getTime()-p.getTime(),b:[g.response?g.response.byteLength:0]});p=c;q.notify(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_LOADING_PROGRESS,
        {request:e})};g.onload=function(){200>g.status||299<g.status||(t(e,!0),q.notify(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_LOADING_COMPLETED,{request:e,response:g.response}))};g.onloadend=g.onerror=function(){-1!==d.indexOf(g)&&(d.splice(d.indexOf(g),1),n&&(t(e,!1),0<h?(q.log("Failed loading fragment: "+e.mediaType+":"+e.type+":"+e.startTime+", retry in "+b+"ms attempts: "+h),h--,setTimeout(function(){c.call(q,e,h)},b)):(q.log("Failed loading fragment: "+e.mediaType+":"+e.type+":"+e.startTime+
        " no retry attempts left"),q.errHandler.downloadError("content",e.url,g),q.notify(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_LOADING_COMPLETED,{request:e,bytes:null},new MediaPlayer.vo.Error(null,"failed loading fragment",null)))))};g.send()},h=function(b){var c=this,d=new XMLHttpRequest,e=!1;d.open("HEAD",b.url,!0);d.onload=function(){200>d.status||299<d.status||(e=!0,c.notify(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_CHECK_FOR_EXISTENCE_COMPLETED,{request:b,exists:!0}))};
    d.onloadend=d.onerror=function(){e||c.notify(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_CHECK_FOR_EXISTENCE_COMPLETED,{request:b,exists:!1})};d.send()};return{metricsModel:void 0,errHandler:void 0,log:void 0,requestModifierExt:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,load:function(b){b?c.call(this,b,e):this.notify(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_LOADING_COMPLETED,{request:b,bytes:null},new MediaPlayer.vo.Error(null,"request is null",null))},checkForExistence:function(b){return b?
    void h.call(this,b):void this.notify(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_CHECK_FOR_EXISTENCE_COMPLETED,{request:b,exists:!1})},abort:function(){var b,c,e=d.length;for(b=0;e>b;b+=1)c=d[b],d[b]=null,c.abort();d=[]}}};MediaPlayer.dependencies.FragmentLoader.RETRY_ATTEMPTS=3;MediaPlayer.dependencies.FragmentLoader.RETRY_INTERVAL=500;MediaPlayer.dependencies.FragmentLoader.prototype={constructor:MediaPlayer.dependencies.FragmentLoader};
MediaPlayer.dependencies.FragmentLoader.eventList={ENAME_LOADING_COMPLETED:"loadingCompleted",ENAME_LOADING_PROGRESS:"loadingProgress",ENAME_CHECK_FOR_EXISTENCE_COMPLETED:"checkForExistenceCompleted"};
MediaPlayer.dependencies.LiveEdgeFinder=function(){var e,b=!1,d=NaN,c=null,h=MediaPlayer.rules.SynchronizationRulesCollection.prototype.BEST_GUESS_RULES,f=function(b){var e=((new Date).getTime()-d)/1E3;c=b.value;this.notify(MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED,{liveEdge:c,searchTime:e},null===c?new MediaPlayer.vo.Error(MediaPlayer.dependencies.LiveEdgeFinder.LIVE_EDGE_NOT_FOUND_ERROR_CODE,"live edge has not been found",null):null)},k=function(c){!this.streamProcessor.isDynamic()||
b||c.error||(e=this.synchronizationRulesCollection.getRules(h),b=!0,d=(new Date).getTime(),this.rulesController.applyRules(e,this.streamProcessor,f.bind(this),null,function(b,c){return c}))},g=function(b){h=b.error?MediaPlayer.rules.SynchronizationRulesCollection.prototype.BEST_GUESS_RULES:MediaPlayer.rules.SynchronizationRulesCollection.prototype.TIME_SYNCHRONIZED_RULES};return{system:void 0,synchronizationRulesCollection:void 0,rulesController:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,
    setup:function(){this[MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_UPDATED]=k;this[MediaPlayer.dependencies.TimeSyncController.eventList.ENAME_TIME_SYNCHRONIZATION_COMPLETED]=g},initialize:function(b){this.streamProcessor=b;this.fragmentLoader=b.fragmentLoader},abortSearch:function(){b=!1;d=NaN},getLiveEdge:function(){return c},reset:function(){this.abortSearch();c=null}}};MediaPlayer.dependencies.LiveEdgeFinder.prototype={constructor:MediaPlayer.dependencies.LiveEdgeFinder};
MediaPlayer.dependencies.LiveEdgeFinder.eventList={ENAME_LIVE_EDGE_SEARCH_COMPLETED:"liveEdgeFound"};MediaPlayer.dependencies.LiveEdgeFinder.LIVE_EDGE_NOT_FOUND_ERROR_CODE=1;
MediaPlayer.dependencies.ManifestLoader=function(){var e=function(b){var d="";return-1!==b.indexOf("/")&&(-1!==b.indexOf("?")&&(b=b.substring(0,b.indexOf("?"))),d=b.substring(0,b.lastIndexOf("/")+1)),d},b=function(c,d){var f,k,g,m,l=e(c),n=new XMLHttpRequest,p=new Date,q=null,t=!0,r=this;k=function(){t&&(t=!1,r.metricsModel.addHttpRequest("stream",null,MediaPlayer.vo.metrics.HTTPRequest.MPD_TYPE,c,n.responseURL||null,null,p,n.firstByteDate||null,new Date,n.status,null,n.getAllResponseHeaders()),0<
d?(r.log("Failed loading manifest: "+c+", retry in 500ms attempts: "+d),d--,setTimeout(function(){b.call(r,c,d)},500)):(r.log("Failed loading manifest: "+c+" no retry attempts left"),r.errHandler.downloadError("manifest",c,n),r.notify(MediaPlayer.dependencies.ManifestLoader.eventList.ENAME_MANIFEST_LOADED,null,Error("Failed loading manifest: "+c+" no retry attempts left"))))};g=function(b){m&&(m=!1,(!b.lengthComputable||b.lengthComputable&&b.total!=b.loaded)&&(n.firstByteDate=new Date))};try{n.onload=
    function(){var b,d=null;200>n.status||299<n.status||(t=!1,q=new Date,n.responseURL&&n.responseURL!==c&&(l=e(n.responseURL),d=n.responseURL),r.metricsModel.addHttpRequest("stream",null,MediaPlayer.vo.metrics.HTTPRequest.MPD_TYPE,c,d,null,p,n.firstByteDate||null,q,n.status,null,n.getAllResponseHeaders()),f=r.parser.parse(n.responseText,l,r.xlinkController),f?(f.url=d||c,f.loadedTime=q,r.metricsModel.addManifestUpdate("stream",f.type,p,q,f.availabilityStartTime),r.xlinkController.resolveManifestOnLoad(f)):
        (b="Failed loading manifest: "+c+", parsing failed",r.notify(MediaPlayer.dependencies.ManifestLoader.eventList.ENAME_MANIFEST_LOADED,{manifest:null},new MediaPlayer.vo.Error(MediaPlayer.dependencies.ManifestLoader.PARSERERROR_ERROR_CODE,b,null)),r.log(b)))},n.onloadend=k,n.onerror=k,n.onprogress=g,n.open("GET",r.requestModifierExt.modifyRequestURL(c),!0),n.send()}catch(w){n.onerror()}},d=function(b){this.notify(MediaPlayer.dependencies.ManifestLoader.eventList.ENAME_MANIFEST_LOADED,{manifest:b.data.manifest})};
    return{log:void 0,parser:void 0,errHandler:void 0,metricsModel:void 0,requestModifierExt:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,system:void 0,load:function(c){b.call(this,c,3)},setup:function(){d=d.bind(this);this.xlinkController=this.system.getObject("xlinkController");this.xlinkController.subscribe(MediaPlayer.dependencies.XlinkController.eventList.ENAME_XLINK_READY,this,d)}}};MediaPlayer.dependencies.ManifestLoader.prototype={constructor:MediaPlayer.dependencies.ManifestLoader};
MediaPlayer.dependencies.ManifestLoader.PARSERERROR_ERROR_CODE=1;MediaPlayer.dependencies.ManifestLoader.eventList={ENAME_MANIFEST_LOADED:"manifestLoaded"};
MediaPlayer.dependencies.ManifestUpdater=function(){var e,b=NaN,d=null,c=!0,h=!1,f=function(){null!==d&&(clearInterval(d),d=null)},k=function(){f.call(this);isNaN(b)||(this.log("Refresh manifest in "+b+" seconds."),d=setTimeout(m.bind(this),Math.min(1E3*b,Math.pow(2,31)-1),this))},g=function(d){var e,g;e=new Date;this.manifestModel.setValue(d);this.log("Manifest has been refreshed at "+e+"["+e.getTime()+"] ");e=this.manifestExt.getRefreshDelay(d);g=((new Date).getTime()-d.loadedTime.getTime())/1E3;
    b=Math.max(e-g,0);this.notify(MediaPlayer.dependencies.ManifestUpdater.eventList.ENAME_MANIFEST_UPDATED,{manifest:d});c||k.call(this)},m=function(){var b,d;c||h||(h=!0,b=this.manifestModel.getValue(),d=b.url,b.hasOwnProperty("Location")&&(d=b.Location),e.load(d))},l=function(b){b.error||g.call(this,b.data.manifest)},n=function(){c=!1;k.call(this)},p=function(){c=!0;f.call(this)},q=function(){h=!1};return{log:void 0,system:void 0,subscribe:void 0,unsubscribe:void 0,notify:void 0,manifestModel:void 0,
    manifestExt:void 0,setup:function(){this[MediaPlayer.dependencies.StreamController.eventList.ENAME_STREAMS_COMPOSED]=q;this[MediaPlayer.dependencies.ManifestLoader.eventList.ENAME_MANIFEST_LOADED]=l;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_STARTED]=n;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_PAUSED]=p},initialize:function(b){h=!1;c=!0;e=b;e.subscribe(MediaPlayer.dependencies.ManifestLoader.eventList.ENAME_MANIFEST_LOADED,this)},setManifest:function(b){g.call(this,
        b)},getManifestLoader:function(){return e},reset:function(){c=!0;h=!1;f.call(this);e.unsubscribe(MediaPlayer.dependencies.ManifestLoader.eventList.ENAME_MANIFEST_LOADED,this);b=NaN}}};MediaPlayer.dependencies.ManifestUpdater.prototype={constructor:MediaPlayer.dependencies.ManifestUpdater};MediaPlayer.dependencies.ManifestUpdater.eventList={ENAME_MANIFEST_UPDATED:"manifestUpdated"};
MediaPlayer.dependencies.Notifier=function(){var e,b=0,d=function(){return this.observableId||(b+=1,this.observableId="_id_"+b),this.observableId};return{system:void 0,setup:function(){e=this.system;e.mapValue("notify",this.notify);e.mapValue("subscribe",this.subscribe);e.mapValue("unsubscribe",this.unsubscribe)},notify:function(b,h,f){var k=b+d.call(this),g=new MediaPlayer.vo.Event;g.sender=this;g.type=b;g.data=h;g.error=f;g.timestamp=(new Date).getTime();e.notify.call(e,k,g)},subscribe:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      h,f,k){if(!f&&h[b]&&(f=h[b]=h[b].bind(h)),!h)throw"observer object cannot be null or undefined";if(!f)throw"event handler cannot be null or undefined";b+=d.call(this);e.mapHandler(b,void 0,f,k)},unsubscribe:function(b,h,f){f=f||h[b];b+=d.call(this);e.unmapHandler(b,void 0,f)}}};MediaPlayer.dependencies.Notifier.prototype={constructor:MediaPlayer.dependencies.Notifier};
MediaPlayer.dependencies.Stream=function(){var e,b,d=[],c=!1,h=!1,f=null,k={},g=!1,m=!1,l=null,n=function(b){b.error&&(this.errHandler.mediaKeySessionError(b.error),this.log(b.error),this.reset())},p=function(b){var c=x.call(this,b.data.oldMediaInfo);if(c){var e=this.playbackController.getTime(),g=c.getBuffer();b=b.data.newMediaInfo;var f=this.manifestModel.getValue(),h=d.indexOf(c),l=c.getMediaSource();"fragmentedText"!==b.type?(c.reset(!0),q.call(this,b,f,l,{buffer:g,replaceIdx:h,currentTime:e}),
    this.playbackController.seek(this.playbackController.getTime())):(c.setIndexHandlerTime(e),c.updateMediaInfo(f,b))}},q=function(b,c,e,g){var h=this.system.getObject("streamProcessor"),k=this.adapter.getAllMediaInfoForType(c,f,b.type);if(h.initialize("text"===b.type?b.mimeType:b.type,this.fragmentController,e,this,l),this.abrController.updateTopQualityIndex(b),g?(h.setBuffer(g.buffer),d[g.replaceIdx]=h,h.setIndexHandlerTime(g.currentTime)):d.push(h),"text"===b.type||"fragmentedText"===b.type){var m;
    for(e=0;e<k.length;e++)k[e].index===b.index&&(m=e),h.updateMediaInfo(c,k[e]);"fragmentedText"===b.type&&h.updateMediaInfo(c,k[m])}else h.updateMediaInfo(c,b);return h},t=function(b,c){var d,e=this.manifestModel.getValue(),g=this.adapter.getAllMediaInfoForType(e,f,b),h=null;if(!g||0===g.length)return void this.log("No "+b+" data.");for(var l=0,k=g.length;k>l;l+=1){var h=g[l],m;a:{m=h;var n=e,r=void 0,p=void 0,u=m.type;if("muxed"===u&&m)m=(p="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",
    this.log(p),this.errHandler.manifestError(p,"multiplexedrep",this.manifestModel.getValue()),!1);else{if("text"!==u&&"fragmentedText"!==u)if(r=m.codec,this.log(u+" codec: "+r),m.contentProtection&&!this.capabilities.supportsEncryptedMedia())this.errHandler.capabilityError("encryptedmedia");else if(!this.capabilities.supportsCodec(this.videoModel.getElement(),r)){m=(p=u+"Codec ("+r+") is not supported.",this.errHandler.manifestError(p,"codec",n),this.log(p),!1);break a}m=!0}}m&&this.mediaController.isMultiTrackSupportedByType(h.type)&&
this.mediaController.addTrack(h,f)}0!==this.mediaController.getTracksFor(b,f).length&&(this.mediaController.checkInitialMediaSettings(f),d=this.mediaController.getCurrentTrackFor(b,f),q.call(this,d,e,c))},r=function(){var b=d.length,l=k.audio||k.video?new MediaPlayer.vo.Error(MediaPlayer.dependencies.Stream.DATA_UPDATE_FAILED_ERROR_CODE,"Data update failed",null):null,n=0;for(n;b>n;n+=1)if(d[n].isUpdating()||g)return;m=!0;this.eventBus.dispatchEvent({type:MediaPlayer.events.STREAM_INITIALIZED,data:{streamInfo:f}});
    this.notify(MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_UPDATED,{streamInfo:f},l);h&&!c&&(e.init(this.manifestModel.getValue(),w.call(this,"audio"),w.call(this,"video")),c=!0)},w=function(b){for(var c=d.length,e=null,g=0;c>g;g+=1)if(e=d[g],e.getType()===b)return e.getMediaInfo();return null},v=function(){for(var b=0,c=d.length;c>b;b+=1)d[b].createBuffer()},u=function(){var b=z(),c=b.length,d=0;for(d;c>d;d+=1)if(!b[d].isBufferingCompleted())return;this.notify(MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_BUFFERING_COMPLETED,
    {streamInfo:f})},y=function(b){var c=b.sender.streamProcessor.getType();k[c]=b.error;r.call(this)},x=function(b){return b?z.call(this).filter(function(c){return c.getType()===b.type})[0]:!1},z=function(){var b,c,e=[],g=0,f=d.length;for(g;f>g;g+=1)c=d[g],b=c.getType(),"audio"!==b&&"video"!==b&&"fragmentedText"!==b||e.push(c);return e};return{system:void 0,eventBus:void 0,manifestModel:void 0,sourceBufferExt:void 0,adapter:void 0,videoModel:void 0,fragmentController:void 0,playbackController:void 0,
    mediaController:void 0,capabilities:void 0,log:void 0,errHandler:void 0,liveEdgeFinder:void 0,abrController:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,setup:function(){this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFERING_COMPLETED]=u;this[Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED]=y;this[MediaPlayer.dependencies.MediaController.eventList.CURRENT_TRACK_CHANGED]=p},initialize:function(c,d){f=c;e=d;b=n.bind(this);e.addEventListener(MediaPlayer.dependencies.ProtectionController.events.KEY_SYSTEM_SELECTED,
        b);e.addEventListener(MediaPlayer.dependencies.ProtectionController.events.SERVER_CERTIFICATE_UPDATED,b);e.addEventListener(MediaPlayer.dependencies.ProtectionController.events.KEY_ADDED,b);e.addEventListener(MediaPlayer.dependencies.ProtectionController.events.KEY_SESSION_CREATED,b);e.addEventListener(MediaPlayer.dependencies.ProtectionController.events.KEY_SYSTEM_SELECTED,b);e.addEventListener(MediaPlayer.dependencies.ProtectionController.events.KEY_SYSTEM_SELECTED,b);e.addEventListener(MediaPlayer.dependencies.ProtectionController.events.LICENSE_REQUEST_COMPLETE,
        b)},activate:function(b){if(c)v.call(this);else{var e,k=this.manifestModel.getValue();(l=this.system.getObject("eventController"),e=this.adapter.getEventsFor(k,f),l.addInlineEvents(e),g=!0,t.call(this,"video",b),t.call(this,"audio",b),t.call(this,"text",b),t.call(this,"fragmentedText",b),t.call(this,"muxed",b),v.call(this),h=!0,g=!1,0===d.length)?(this.errHandler.manifestError("No streams to play.","nostreams",k),this.log("No streams to play.")):(this.liveEdgeFinder.initialize(d[0]),this.liveEdgeFinder.subscribe(MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED,
        this.playbackController),r.call(this))}},deactivate:function(){var b=d.length,e=0;for(e;b>e;e+=1)d[e].reset();d=[];h=c=!1;this.resetEventController()},reset:function(f){this.playbackController.pause();var n,r=d.length,p=0;for(p;r>p;p+=1)n=d[p],n.reset(f);l&&l.reset();d=[];m=g=!1;this.fragmentController&&this.fragmentController.reset();this.fragmentController=void 0;this.liveEdgeFinder.abortSearch();this.liveEdgeFinder.unsubscribe(MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED,
        this.playbackController);e.removeEventListener(MediaPlayer.dependencies.ProtectionController.events.KEY_SYSTEM_SELECTED,b);e.removeEventListener(MediaPlayer.dependencies.ProtectionController.events.SERVER_CERTIFICATE_UPDATED,b);e.removeEventListener(MediaPlayer.dependencies.ProtectionController.events.KEY_ADDED,b);e.removeEventListener(MediaPlayer.dependencies.ProtectionController.events.KEY_SESSION_CREATED,b);e.removeEventListener(MediaPlayer.dependencies.ProtectionController.events.KEY_SYSTEM_SELECTED,
        b);e.removeEventListener(MediaPlayer.dependencies.ProtectionController.events.KEY_SYSTEM_SELECTED,b);e.removeEventListener(MediaPlayer.dependencies.ProtectionController.events.LICENSE_REQUEST_COMPLETE,b);c=h=!1;k={}},getDuration:function(){return f.duration},getStartTime:function(){return f.start},getStreamIndex:function(){return f.index},getId:function(){return f.id},getStreamInfo:function(){return f},hasMedia:function(b){return null!==w.call(this,b)},getBitrateListFor:function(b){b=w.call(this,
        b);return this.abrController.getBitrateList(b)},startEventController:function(){l.start()},resetEventController:function(){l.reset()},isActivated:function(){return c},isInitialized:function(){return m},updateData:function(b){var e,h=d.length,k=this.manifestModel.getValue(),n=0;c=!1;f=b;this.log("Manifest updated... set new data on buffers.");l&&(e=this.adapter.getEventsFor(k,f),l.addInlineEvents(e));g=!0;m=!1;for(n;h>n;n+=1)e=d[n],b=this.adapter.getMediaInfoForType(k,f,e.getType()),this.abrController.updateTopQualityIndex(b),
        e.updateMediaInfo(k,b);g=!1;r.call(this)}}};MediaPlayer.dependencies.Stream.prototype={constructor:MediaPlayer.dependencies.Stream};MediaPlayer.dependencies.Stream.DATA_UPDATE_FAILED_ERROR_CODE=1;MediaPlayer.dependencies.Stream.eventList={ENAME_STREAM_UPDATED:"streamUpdated",ENAME_STREAM_BUFFERING_COMPLETED:"streamBufferingCompleted"};
MediaPlayer.dependencies.StreamProcessor=function(){var e,b=null,d=null,c=null,h=null,f=[];return{system:void 0,videoModel:void 0,indexHandler:void 0,liveEdgeFinder:void 0,timelineConverter:void 0,abrController:void 0,playbackController:void 0,baseURLExt:void 0,adapter:void 0,manifestModel:void 0,initialize:function(d,g,f,l,n){var p=this.system.getObject("representationController"),q=this.system.getObject("scheduleController"),t=this.liveEdgeFinder,r=this.abrController,w=this.indexHandler,v=this.baseURLExt,
    u=this.playbackController,y=this.system.getObject("mediaController"),x=this.system.getObject("fragmentLoader"),z=this.system.getObject("video"===d||"audio"===d||"fragmentedText"===d?"bufferController":"textController");b=l;c=d;h=n;e=b.getStreamInfo().manifestInfo.isDynamic;this.bufferController=z;this.scheduleController=q;this.representationController=p;this.fragmentController=g;this.fragmentLoader=x;p.subscribe(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED,z);g.subscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_INIT_FRAGMENT_LOADED,
    z);"video"===c||"audio"===c||"fragmentedText"===c?(r.subscribe(MediaPlayer.dependencies.AbrController.eventList.ENAME_QUALITY_CHANGED,z),r.subscribe(MediaPlayer.dependencies.AbrController.eventList.ENAME_QUALITY_CHANGED,p),r.subscribe(MediaPlayer.dependencies.AbrController.eventList.ENAME_QUALITY_CHANGED,q),t.subscribe(MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED,this.timelineConverter),t.subscribe(MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED,
    p),t.subscribe(MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED,q),p.subscribe(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_STARTED,q),p.subscribe(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED,q),b.subscribe(MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_UPDATED,q),p.subscribe(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED,u),g.subscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_MEDIA_FRAGMENT_LOADED,
    z),g.subscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_MEDIA_FRAGMENT_LOADING_START,q),g.subscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED,q),g.subscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED,z),g.subscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED,q.scheduleRulesCollection.bufferLevelRule),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_STATE_CHANGED,
    u),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_CLEARED,q),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BYTES_APPENDED,q),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_UPDATED,q),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_UPDATED,p),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_STATE_CHANGED,q),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_INIT_REQUESTED,
    q),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFERING_COMPLETED,b),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_QUOTA_EXCEEDED,q),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_OUTRUN,q.scheduleRulesCollection.bufferLevelRule),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_BALANCED,q.scheduleRulesCollection.bufferLevelRule),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BYTES_APPENDED,
    u),u.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_PROGRESS,z),u.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_TIME_UPDATED,z),u.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_RATE_CHANGED,z),u.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_RATE_CHANGED,q),u.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING,z),u.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING,
    q),u.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_STARTED,q),u.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING,q.scheduleRulesCollection.playbackTimeRule),u.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING,r.abrRulesCollection.insufficientBufferRule),e&&u.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_WALLCLOCK_TIME_UPDATED,p),u.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_WALLCLOCK_TIME_UPDATED,
    z),u.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_WALLCLOCK_TIME_UPDATED,q),v.subscribe(Dash.dependencies.BaseURLExtensions.eventList.ENAME_INITIALIZATION_LOADED,w),v.subscribe(Dash.dependencies.BaseURLExtensions.eventList.ENAME_SEGMENTS_LOADED,w),("video"===c||"audio"===c)&&y.subscribe(MediaPlayer.dependencies.MediaController.eventList.CURRENT_TRACK_CHANGED,z)):z.subscribe(MediaPlayer.dependencies.TextController.eventList.ENAME_CLOSED_CAPTIONING_REQUESTED,q);p.subscribe(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED,
    b);w.initialize(this);w.setCurrentTime(u.getStreamStartTime(this.getStreamInfo()));z.initialize(c,f,this);q.initialize(c,this);r.initialize(c,this);d=this.getFragmentModel();d.setLoader(x);d.subscribe(MediaPlayer.dependencies.FragmentModel.eventList.ENAME_FRAGMENT_LOADING_STARTED,g);d.subscribe(MediaPlayer.dependencies.FragmentModel.eventList.ENAME_FRAGMENT_LOADING_COMPLETED,g);d.subscribe(MediaPlayer.dependencies.FragmentModel.eventList.ENAME_STREAM_COMPLETED,g);d.subscribe(MediaPlayer.dependencies.FragmentModel.eventList.ENAME_FRAGMENT_LOADING_COMPLETED,
    q);x.subscribe(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_LOADING_COMPLETED,d);x.subscribe(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_LOADING_PROGRESS,r);"video"!==c&&"audio"!==c&&"fragmentedText"!==c||(z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_OUTRUN,d),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_BALANCED,d),z.subscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BYTES_REJECTED,
    d));p.initialize(this)},isUpdating:function(){return this.representationController.isUpdating()},getType:function(){return c},getABRController:function(){return this.abrController},getFragmentLoader:function(){return this.fragmentLoader},getBuffer:function(){return this.bufferController.getBuffer()},setBuffer:function(b){this.bufferController.setBuffer(b)},getFragmentModel:function(){return this.scheduleController.getFragmentModel()},getStreamInfo:function(){return b.getStreamInfo()},updateMediaInfo:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      c){c===d||c&&d&&c.type!==d.type||(d=c);-1===f.indexOf(c)&&f.push(c);this.adapter.updateData(b,this)},getMediaInfoArr:function(){return f},getMediaInfo:function(){return d},getMediaSource:function(){return this.bufferController.getMediaSource()},getScheduleController:function(){return this.scheduleController},getEventController:function(){return h},start:function(){this.scheduleController.start()},stop:function(){this.scheduleController.stop()},getIndexHandlerTime:function(){return this.adapter.getIndexHandlerTime(this)},
    setIndexHandlerTime:function(b){this.adapter.setIndexHandlerTime(this,b)},getCurrentRepresentationInfo:function(){return this.adapter.getCurrentRepresentationInfo(this.manifestModel.getValue(),this.representationController)},getRepresentationInfoForQuality:function(b){return this.adapter.getRepresentationInfoForQuality(this.manifestModel.getValue(),this.representationController,b)},isBufferingCompleted:function(){return this.bufferController.isBufferingCompleted()},createBuffer:function(){return this.bufferController.getBuffer()||
        this.bufferController.createBuffer(d)},isDynamic:function(){return e},reset:function(f){var g=this.bufferController,m=this.representationController,l=this.scheduleController,n=this.liveEdgeFinder,p=this.fragmentController,q=this.abrController,t=this.playbackController,r=this.system.getObject("mediaController"),w=this.indexHandler,v=this.baseURLExt,u=this.getFragmentModel(),y=this.fragmentLoader;q.unsubscribe(MediaPlayer.dependencies.AbrController.eventList.ENAME_QUALITY_CHANGED,g);q.unsubscribe(MediaPlayer.dependencies.AbrController.eventList.ENAME_QUALITY_CHANGED,
        m);q.unsubscribe(MediaPlayer.dependencies.AbrController.eventList.ENAME_QUALITY_CHANGED,l);n.unsubscribe(MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED,this.timelineConverter);n.unsubscribe(MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED,l);n.unsubscribe(MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED,m);m.unsubscribe(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_STARTED,
        l);m.unsubscribe(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED,g);m.unsubscribe(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED,l);m.unsubscribe(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED,b);m.unsubscribe(Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED,t);b.unsubscribe(MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_UPDATED,l);p.unsubscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_INIT_FRAGMENT_LOADED,
        g);p.unsubscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_MEDIA_FRAGMENT_LOADED,g);p.unsubscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_MEDIA_FRAGMENT_LOADING_START,l);p.unsubscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED,l);p.unsubscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED,g);p.unsubscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED,l.scheduleRulesCollection.bufferLevelRule);
        g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_STATE_CHANGED,t);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_CLEARED,l);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BYTES_APPENDED,l);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_UPDATED,l);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_UPDATED,m);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_STATE_CHANGED,
            l);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_INIT_REQUESTED,l);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFERING_COMPLETED,b);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_CLOSED_CAPTIONING_REQUESTED,l);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_OUTRUN,l.scheduleRulesCollection.bufferLevelRule);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_BALANCED,
            l.scheduleRulesCollection.bufferLevelRule);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BYTES_APPENDED,t);t.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_PROGRESS,g);t.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_TIME_UPDATED,g);t.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_RATE_CHANGED,g);t.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_RATE_CHANGED,
            l);t.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING,g);t.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING,l);t.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_STARTED,l);t.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_WALLCLOCK_TIME_UPDATED,m);t.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_WALLCLOCK_TIME_UPDATED,g);t.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_WALLCLOCK_TIME_UPDATED,
            l);t.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING,l.scheduleRulesCollection.playbackTimeRule);t.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING,q.abrRulesCollection.insufficientBufferRule);v.unsubscribe(Dash.dependencies.BaseURLExtensions.eventList.ENAME_INITIALIZATION_LOADED,w);v.unsubscribe(Dash.dependencies.BaseURLExtensions.eventList.ENAME_SEGMENTS_LOADED,w);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_OUTRUN,
            u);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_BALANCED,u);g.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BYTES_REJECTED,u);u.unsubscribe(MediaPlayer.dependencies.FragmentModel.eventList.ENAME_FRAGMENT_LOADING_STARTED,p);u.unsubscribe(MediaPlayer.dependencies.FragmentModel.eventList.ENAME_FRAGMENT_LOADING_COMPLETED,p);u.unsubscribe(MediaPlayer.dependencies.FragmentModel.eventList.ENAME_STREAM_COMPLETED,p);u.unsubscribe(MediaPlayer.dependencies.FragmentModel.eventList.ENAME_FRAGMENT_LOADING_COMPLETED,
            l);y.unsubscribe(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_LOADING_COMPLETED,u);y.unsubscribe(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_LOADING_PROGRESS,q);u.reset();"video"!==c&&"audio"!==c||r.unsubscribe(MediaPlayer.dependencies.MediaController.eventList.CURRENT_TRACK_CHANGED,g);w.reset();this.bufferController.reset(f);this.scheduleController.reset();this.fragmentController=this.videoModel=this.representationController=this.scheduleController=this.bufferController=null;
        e=void 0;h=c=d=b=null}}};MediaPlayer.dependencies.StreamProcessor.prototype={constructor:MediaPlayer.dependencies.StreamProcessor};
MediaPlayer.utils.TTMLParser=function(){var e,b,d,c=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/,h={},f={},k={},g={top:"85%;",left:"5%;",width:"90%;",height:"10%;","align-items":"flex-start;",overflow:"visible;","-ms-writing-mode":"lr-tb, horizontal-tb;;","-webkit-writing-mode":"horizontal-tb;","-moz-writing-mode":"horizontal-tb;","writing-mode":"horizontal-tb;"},m={color:"rgb(255,255,255);",direction:"ltr;","font-family":"monospace, sans-serif;","font-style":"normal;","line-height":"normal;",
        "font-weight":"normal;","text-align":"start;","justify-content":"flex-start;","text-decoration":"none;","unicode-bidi":"normal;","white-space":"normal;",width:"100%;"},l={monospace:"font-family: monospace;",sansSerif:"font-family: sans-serif;",serif:"font-family: serif;",monospaceSansSerif:"font-family: monospace, sans-serif;",monospaceSerif:"font-family: monospace, serif;",proportionalSansSerif:"font-family: Arial;",proportionalSerif:"font-family: Times New Roman;","default":"font-family: monospace, sans-serif;"},
    n={right:["justify-content: flex-end;","text-align: right;"],start:["justify-content: flex-start;","text-align: start;"],center:["justify-content: center;","text-align: center;"],end:["justify-content: flex-end;","text-align: end;"],left:["justify-content: flex-start;","text-align: left;"]},p={start:"text-align: start;",center:"text-align: center;",end:"text-align: end;",auto:""},q={wrap:"white-space: normal;",noWrap:"white-space: nowrap;"},t={normal:"unicode-bidi: normal;",embed:"unicode-bidi: embed;",
        bidiOverride:"unicode-bidi: bidi-override;"},r={before:"align-items: flex-start;",center:"align-items: center;",after:"align-items: flex-end;"},w={lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",
        lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"},v=function(b){var d,g;if(!c.test(b))return NaN;if(d=b.split(":"),b=3600*parseFloat(d[0])+60*parseFloat(d[1])+parseFloat(d[2]),d[3]){if(g=e.tt.frameRate,!g||isNaN(g))return NaN;b+=parseFloat(d[3])/g}return b},u=function(){var b=
        e.hasOwnProperty("tt"),c=b?e.tt.hasOwnProperty("head"):!1,d=c?e.tt.head.hasOwnProperty("layout"):!1,g=c?e.tt.head.hasOwnProperty("styling"):!1,f=b?e.tt.hasOwnProperty("body"):!1;return b&&c&&d&&g&&f},y=function(b,c){var d=Object.keys(b).filter(function(d){return("xmlns"===d.split(":")[0]||"xmlns"===d.split(":")[1])&&b[d]===c}).map(function(b){return b.split(":")[2]||b.split(":")[1]});return 1!=d.length?null:d[0]},x=function(b,c){for(var d in b)if(b.hasOwnProperty(d)){if(("object"==typeof b[d]||b[d]instanceof
        Object)&&!Array.isArray(b[d]))x(b[d],c);else if(Array.isArray(b[d]))for(var e=0;e<b[d].length;e++)x(b[d][e],c);e=d.slice(d.indexOf(c)+c.length+1);b[e]=b[d];delete b[d]}},z=function(b){return b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},A=function(b){b=b.slice(1).match(/.{2}/g);var c=parseFloat(parseInt(parseInt(b[3],16)/255*1E3)/1E3);return"rgba("+b.slice(0,3).map(function(b){return parseInt(b,16)}).join(",")+","+c+");"},B=function(b,c){for(var d=0;d<c.length;d++)if(-1<c[d].indexOf(b))return!0;
        return!1},E=function(b,c){for(var d=0;d<c.length;d++)if(-1<c[d].indexOf(b))return c[d];return null},D=function(b,c){c.splice(c.indexOf(E(b,c)),1)},G=function(b,c){for(var d=0;d<b.length;d++)for(var e=0;e<c.length;e++)b[d]&&-1<b[d].split(":")[0].indexOf(c[e].split(":")[0])&&b.splice(d,1);return b.concat(c)},I=function(c,d){var g=[];return c.match(/\S+/g).forEach(function(c){a:{for(var m=0;m<b.length;m++){var r=b[m];if(r["xml:id"]===c||r.id===c){c=r;break a}}c=null}if(c){var u;c=JSON.parse(JSON.stringify(c));
        m=[];for(u in c)c.hasOwnProperty(u)&&(r=u.replace("ebutts:",""),r=r.replace("xml:",""),r=r.replace("tts:",""),r=z(r),c[r]=c[u],delete c[u]);"line-padding"in c&&(r=parseFloat(c["line-padding"].slice(c["line-padding"].indexOf(":")+1,c["line-padding"].indexOf("c"))),"id"in c&&(k[c.id]=r),r=r*d[0]+"px;",m.push("padding-left:"+r),m.push("padding-right:"+r));"font-size"in c&&(r=parseFloat(c["font-size"].slice(c["font-size"].indexOf(":")+1,c["font-size"].indexOf("%"))),"id"in c&&(h[c.id]=r),m.push("font-size:"+
            (r/100*d[1]+"px;")));"line-heigt"in c&&("normal"===c["line-height"]?m.push("line-heigth: normal;"):(r=parseFloat(c["line-heigt"].slice(c["line-heigt"].indexOf(":")+1,c["line-heigt"].indexOf("%"))),"id"in c&&(f[c.id]=r),m.push(u+":"+(r/100*d[1]+"px;"))));"font-family"in c&&(c["font-family"]in l?m.push(l[c["font-family"]]):m.push("font-family:"+c["font-family"]+";"));"text-align"in c&&c["text-align"]in n&&(m.push(n[c["text-align"]][0]),m.push(n[c["text-align"]][1]));"multi-row-align"in c&&(B("text-align",
            m)&&"auto"!=c["multi-row-align"]&&D("text-align",m),c["multi-row-align"]in p&&m.push(p[c["multi-row-align"]]));var v;u=("background-color"in c&&(-1<c["background-color"].indexOf("#")&&8===c["background-color"].length-1?(v=A(c["background-color"]),m.push("background-color: "+v)):m.push("background-color:"+c["background-color"]+";")),"color"in c&&(-1<c.color.indexOf("#")&&8===c.color.length-1?(v=A(c.color),m.push("color: "+v)):m.push("color:"+c.color+";")),"wrap-option"in c&&(c["wrap-option"]in q?m.push(q[c["wrap-option"]]):
            m.push("white-space:"+c["wrap-option"])),"unicode-bidi"in c&&(c["unicode-bidi"]in t?m.push(t[c["unicode-bidi"]]):m.push("unicode-bidi:"+c["unicode-bidi"])),"font-style"in c&&m.push("font-style:"+c["font-style"]+";"),"font-weight"in c&&m.push("font-weight:"+c["font-weight"]+";"),"direction"in c&&m.push("direction:"+c.direction+";"),"text-decoration"in c&&m.push("text-decoration:"+c["text-decoration"]+";"),e.tt.hasOwnProperty("xml:space")&&"preserve"===e.tt["xml:space"]&&m.push("white-space: pre;"),
            m);g=g.concat(u)}}),g},C=function(b,c){var d=[],e;for(e in b){var g=e.replace("tts:",""),g=g.replace("xml:",""),g=z(g);b[g]=b[e];g!==e&&delete b[e]}"extent"in b&&(e=b.extent.split(/\s/),d.push("width: "+e[0]+";"),d.push("height: "+e[1]+";"));"origin"in b&&(e=b.origin.split(/\s/),d.push("left: "+e[0]+";"),d.push("top: "+e[1]+";"));if("display-align"in b&&d.push(r[b["display-align"]]),"writing-mode"in b&&d.push(w[b["writing-mode"]]),"style"in b)e=I(b.style,c),d=d.concat(e);return"padding"in b&&d.push("padding:"+
        b.padding+";"),"overflow"in b&&d.push("overflow:"+b.overflow+";"),"show-background"in b&&d.push("show-background:"+b["show-background"]+";"),"id"in b&&d.push("regionID:"+b.id+";"),d},J=function(b,c){var e=[];return b.match(/\S+/g).forEach(function(b){a:{for(var g=0;g<d.length;g++){var f=d[g];if(f["xml:id"]===b||f.id===b){b=f;break a}}b=null}b&&(b=C(JSON.parse(JSON.stringify(b)),c),e=e.concat(b))}),e},F=function(){var b=[32,15];return e.tt.hasOwnProperty("ttp:cellResolution")?e.tt["ttp:cellResolution"].split(" ").map(parseFloat):
        b},H=function(b,c){for(var d=E("padding-left",c),e=E("padding-right",c),g=d.concat(" "+e),f="",h="",l="",k=Array.prototype.slice.call(b.children),d=b.getElementsByClassName("lineBreak")[0],e=k.indexOf(d),m=[];-1!=e;)m.push(e),e=k.indexOf(d,e+1);if(m.length)m.forEach(function(b,c){if(0===c){for(var d="",e=0;b>e;e++)f+=k[e].outerHTML,0===e&&(d=g.concat(k[e].style.cssText));f='<span class="spanPadding" style="-webkit-box-decoration-break: clone; '+d+'">'+f}d="";for(e=b+1;e<k.length;e++)h+=k[e].outerHTML,
    e===k.length-1&&(d+=g.concat(k[e].style.cssText));h='<span class="spanPadding" style="-webkit-box-decoration-break: clone; '+d+'">'+h;f&&h&&c===m.length-1?l+=f+"</span><br>"+h+"</span>":f&&h&&c!==m.length-1?l+=f+"</span><br>"+h+"</span><br>":f&&!h?l+=f+"</span>":!f&&h&&c===m.length-1?l+=h+"</span>":!f&&h&&c!==m.length-1&&(l+=h+"</span><br>")});else{d="";for(e=0;e<k.length;e++)d+=k[e].style.cssText;l='<span class="spanPadding" style="-webkit-box-decoration-break: clone; '+g+d+'">'+b.innerHTML+"</span>"}return l},
    O=function(b,c){var d=document.createElement("div");return b.forEach(function(b){if(!b.hasOwnProperty("metadata"))if(b.hasOwnProperty("span")){var e=b.span.__children,g=document.createElement("span");if(b.span.hasOwnProperty("style")){var f=I(b.span.style,c);g.className="spanPadding "+b.span.style;g.style.cssText=f.join(" ")}e.forEach(function(b){e.hasOwnProperty("metadata")||(b.hasOwnProperty("#text")?(b=document.createTextNode(b["#text"]),g.appendChild(b)):"br"in b&&(g.hasChildNodes()&&d.appendChild(g),
        b=document.createElement("br"),b.className="lineBreak",d.appendChild(b),b=document.createElement("span"),b.className=g.className,b.style.cssText=g.style.cssText,g=b))});d.appendChild(g)}else b.hasOwnProperty("br")?(b=document.createElement("br"),b.className="lineBreak",d.appendChild(b)):b.hasOwnProperty("#text")&&(f=document.createElement("span"),f.textContent=b["#text"],d.appendChild(f))}),d},N=function(b,c,d){var e,f,h=[];b=b.region;c=c.region;return c&&(e=J(c,d)),b?(f=h.concat(J(b,d)),h=e?G(e,
        f):f):e&&(h=e),P(h,g),h},R=function(b,c){var d,g,f,h=[],l=b.style,k=e.tt.body.style,n=e.tt.body.div.style,r="";return k&&(d=I(k,c),r="paragraph "+k),n&&(g=I(n,c),d?(g=G(d,g),r+=" "+n):r="paragraph "+n),l?(f=I(l,c),d&&g?(h=G(g,f),r+=" "+l):d?(h=G(d,f),r+=" "+l):g?(h=G(g,f),r+=" "+l):(h=f,r="paragraph "+l)):d&&!g?h=d:!d&&g&&(h=g),P(h,m),[h,r]},P=function(b,c){for(var d in c)c.hasOwnProperty(d)&&(B(d,b)||b.push(d+":"+c[d]))};return{parse:function(c){var g;if(e=(new X2JS([],"",!1)).xml_str2json(c),!e)throw"TTML document could not be parsed";
    this.videoModel.getTTMLRenderingDiv()&&(g="html");c=y(e,"http://www.w3.org/ns/ttml");if(c&&x(e,c),d=e.tt.head.layout.region_asArray,b=e.tt.head.styling.style_asArray,!u())throw"TTML document has incorrect structure";var l=F(),n=this.videoModel.getElement().clientWidth,r=this.videoModel.getElement().clientHeight,p=[n/l[0],r/l[1]];m["font-size"]=p[1]+"px;";var q=[];for(c=0;c<d.length;c++)q.push(C(JSON.parse(JSON.stringify(d[c])),p));c=y(e.tt,"http://www.w3.org/ns/ttml#parameter");e.tt.hasOwnProperty(c+
        ":frameRate")&&(e.tt.frameRate=parseInt(e.tt[c+":frameRate"],10));var t=[];return e.tt.body_asArray[0].__children.forEach(function(b){var c=b.div.p_asArray;if(!c||0===c.length){var d="TTML document does not contain any cues";throw d;}var m,u,w,x;c.forEach(function(c){if(c.hasOwnProperty("begin")&&c.hasOwnProperty("end"))m=v(c.begin),u=v(c.end);else{if(!c.span.hasOwnProperty("begin")||!c.span.hasOwnProperty("end"))throw d="TTML document has incorrect timing value";w=v(c.span.begin);x=v(c.span.end)}if(void 0!==
        c["smpte:backgroundImage"])for(var y=e.tt.head.metadata.image_asArray,z=0;z<y.length;z+=1)"#"+y[z]["xml:id"]==c["smpte:backgroundImage"]&&t.push({start:w||m,end:x||u,id:y[z]["xml:id"],data:"data:image/"+y[z].imagetype.toLowerCase()+";base64, "+y[z].__text,type:"image"});else if("html"===g){f={};k={};h={};y="";if((c.hasOwnProperty("id")||c.hasOwnProperty("xml:id"))&&(y=c["xml:id"]||c.id),(isNaN(m)||isNaN(u))&&(isNaN(w)||isNaN(x)))throw d="TTML document has incorrect timing value";var z=N(c,b.div,p),
        A=R(c,p),C=A[1],A=A[0],I=document.createElement("div");I.className=C;c=O(c.__children,p);c.className="cueDirUniWrapper";B("unicode-bidi",A)&&(c.style.cssText+=E("unicode-bidi",A),D("unicode-bidi",A));B("direction",A)&&(c.style.cssText+=E("direction",A),D("direction",A));B("padding-left",A)&&B("padding-right",A)&&(c.innerHTML=H(c,A));B("padding-left",A)&&B("padding-right",A)&&(D("padding-left",A),D("padding-right",A));C="";B("regionID",z)&&(C=E("regionID",z),C=C.slice(C.indexOf(":")+1,C.length-1));
        A&&(I.style.cssText=A.join(" ")+"display:flex;");z&&(z=z.join(" "));I.appendChild(c);A=document.createElement("div");A.appendChild(I);A.id="subtitle_"+y;A.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+z;0===Object.keys(h).length&&(h.defaultFontSize="100");t.push({start:w||m,end:x||u,type:"html",cueHTMLElement:A,regions:q,regionID:C,cueID:y,videoHeight:r,videoWidth:n,cellResolution:l,fontSize:h||{defaultFontSize:"100"},lineHeight:f,linePadding:k})}else{var F=
        "",y=c.__children;y.length&&y.forEach(function(b){if(b.hasOwnProperty("span")){var c=b.span.__children;c.forEach(function(b){c.hasOwnProperty("metadata")||(b.hasOwnProperty("#text")?F+=b["#text"].replace(/[\r\n]+/gm," ").trim():"br"in b&&(F+="\n"))})}else F+=b.hasOwnProperty("br")?"\n":b["#text"].replace(/[\r\n]+/gm," ").trim()});t.push({start:w||m,end:x||u,data:F,type:"text"})}})}),t},videoModel:void 0}};
MediaPlayer.dependencies.TextSourceBuffer=function(){var e=!1,b=null;return{system:void 0,videoModel:void 0,errHandler:void 0,adapter:void 0,manifestExt:void 0,mediaController:void 0,streamController:void 0,initialize:function(b,c){this.sp=c.streamProcessor;this.mediaInfos=this.sp.getMediaInfoArr();this.textTrackExtensions=this.system.getObject("textTrackExtensions");(this.isFragmented=!this.manifestExt.getIsTextTrack(b))&&(this.fragmentModel=this.sp.getFragmentModel(),this.buffered=this.system.getObject("customTimeRanges"),
    this.initializationSegmentReceived=!1,this.timescale=9E4,this.allTracks=this.mediaController.getTracksFor("fragmentedText",this.streamController.getActiveStreamInfo()))},append:function(d,c){function e(b,c){var d=new MediaPlayer.vo.TextTrackInfo,g={subtitle:"subtitles",caption:"captions"};d.captionData=b;d.lang=c.lang;d.label=c.id;d.index=c.index;d.isTTML=function(){var b=!1;return c.codec&&0<=c.codec.search("stpp")&&(b=!0),c.mimeType&&0<=c.mimeType.search("ttml")&&(b=!0),b}();d.video=l.videoModel.getElement();
    d.defaultTrack=l.getIsDefault(c);d.isFragmented=l.isFragmented;d.kind=function(){var b=0<c.roles.length?g[c.roles[0]]:g.caption;return b===g.caption||b===g.subtitle?b:g.caption}();l.textTrackExtensions.addTextTrack(d,l.mediaInfos.length)}var f,k,g,m,l=this;g=c.mediaInfo;var n=g.mimeType;if("fragmentedText"===g.type)if(m=l.system.getObject("fragmentExt"),this.initializationSegmentReceived)for(k=m.getSamplesInfo(d),g=0;g<k.length;g++){this.firstSubtitleStart||(this.firstSubtitleStart=k[0].cts-c.start*
    this.timescale);k[g].cts-=this.firstSubtitleStart;this.buffered.add(k[g].cts/this.timescale,(k[g].cts+k[g].duration)/this.timescale);m=window.UTF8.decode(new Uint8Array(d.slice(k[g].offset,k[g].offset+k[g].size)));b=null!==b?b:l.getParser(n);try{f=b.parse(m),this.textTrackExtensions.addCaptions(this.firstSubtitleStart/this.timescale,f)}catch(p){}}else{this.initializationSegmentReceived=!0;for(g=0;g<this.mediaInfos.length;g++)e(null,this.mediaInfos[g]);this.timescale=m.getMediaTimescaleFromMoov(d)}else{d=
    new Uint8Array(d);m=window.UTF8.decode(d);try{f=l.getParser(n).parse(m),e(f,g)}catch(p){l.errHandler.closedCaptionsError(p,"parse",m)}}},getIsDefault:function(b){return b.index===this.mediaInfos[0].index},abort:function(){this.textTrackExtensions.deleteAllTextTracks();e=!1;b=null},getParser:function(b){var c;return"text/vtt"===b?c=this.system.getObject("vttParser"):("application/ttml+xml"===b||"application/mp4"===b)&&(c=this.system.getObject("ttmlParser")),c},getAllTracksAreDisabled:function(){return e},
    setTextTrack:function(){for(var b=this.videoModel.getElement().textTracks,c=b.length,h=0;c>h;h++){var f=b[h];if(e="showing"!==f.mode,"showing"===f.mode){this.textTrackExtensions.getCurrentTrackIdx()!==h&&(this.textTrackExtensions.setCurrentTrackIdx(h),this.isFragmented&&(this.mediaController.isCurrentTrack(this.allTracks[h])||(this.textTrackExtensions.deleteTrackCues(this.textTrackExtensions.getCurrentTextTrack()),this.fragmentModel.cancelPendingRequests(),this.fragmentModel.abortRequests(),this.buffered.clear(),
        this.mediaController.setTrack(this.allTracks[h]))));break}}e&&this.textTrackExtensions.setCurrentTrackIdx(-1)}}};MediaPlayer.dependencies.TextSourceBuffer.prototype={constructor:MediaPlayer.dependencies.TextSourceBuffer};
MediaPlayer.dependencies.TimeSyncController=function(){var e,b=0,d=!1,c=function(b){var c=Date.parse(b);if(isNaN(c)){var d,e;b=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(b);c=(d=Date.UTC(parseInt(b[1],10),parseInt(b[2],10)-1,parseInt(b[3],10),parseInt(b[4],10),parseInt(b[5],10),b[6]&&(parseInt(b[6],10)||0),b[7]&&1E3*parseFloat(b[7])||0),b[9]&&b[10]&&(e=60*parseInt(b[9],10)+parseInt(b[10],10),d+=("+"===b[8]?-1:1)*e*6E4),(new Date(d)).getTime())}return c},
    h=function(b){return Date.parse(b)},f=function(b){return Date.parse(b)},k=function(b,c,d){d()},g=function(b,d,e){b=c(b);return isNaN(b)?void e():void d(b)},m=function(b,c,d,e,g){var f=!1,h=new XMLHttpRequest,l=g?"HEAD":"GET",k=c.match(/\S+/g);c=k.shift();h.open(l,c);h.timeout=5E3;h.onload=function(){var c,e;200===h.status&&(c=g?h.getResponseHeader("Date"):h.response,e=b(c),isNaN(e)||(d(e),f=!0))};h.onloadend=function(){f||(f=!0,k.length?m(b,k.join(" "),d,e,g):e())};h.send()},l=function(b,c,d){m.call(this,
        f,b,c,d,!0)},n={"urn:mpeg:dash:utc:http-head:2014":l,"urn:mpeg:dash:utc:http-xsdate:2014":m.bind(null,c),"urn:mpeg:dash:utc:http-iso:2014":m.bind(null,h),"urn:mpeg:dash:utc:direct:2014":g,"urn:mpeg:dash:utc:http-head:2012":l,"urn:mpeg:dash:utc:http-xsdate:2012":m.bind(null,c),"urn:mpeg:dash:utc:http-iso:2012":m.bind(null,h),"urn:mpeg:dash:utc:direct:2012":g,"urn:mpeg:dash:utc:http-ntp:2014":k,"urn:mpeg:dash:utc:ntp:2014":k,"urn:mpeg:dash:utc:sntp:2014":k},p=function(){var c=this.metricsModel.getReadOnlyMetricsFor("stream"),
        c=this.metricsExt.getLatestMPDRequestHeaderValueByID(c,"Date"),c=null!==c?(new Date(c)).getTime():Number.NaN;isNaN(c)?q.call(this,!0):(b=c-(new Date).getTime(),q.call(this,!1,c/1E3,b))},q=function(b,c,e){d=!1;this.notify(MediaPlayer.dependencies.TimeSyncController.eventList.ENAME_TIME_SYNCHRONIZATION_COMPLETED,{time:c,offset:e},b?new MediaPlayer.vo.Error(MediaPlayer.dependencies.TimeSyncController.TIME_SYNC_FAILED_ERROR_CODE):null)},t=function(c,g){var f=this,h=g||0,l=c[h],k=function(b,c){var d=!b||
        !c;d&&e?p.call(f):q.call(f,d,b,c)};d=!0;l?n.hasOwnProperty(l.schemeIdUri)?n[l.schemeIdUri](l.value,function(c){var d=(new Date).getTime(),e=c-d;b=e;f.log("Local time:      "+new Date(d));f.log("Server time:     "+new Date(c));f.log("Difference (ms): "+e);k.call(f,c,e)},function(){t.call(f,c,h+1)}):t.call(f,c,h+1):(b=0,k.call(f))};return{log:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,metricsModel:void 0,metricsExt:void 0,getOffsetToDeviceTimeMs:function(){return b},initialize:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               c){e=c;d||t.call(this,b)},reset:function(){d=!1}}};MediaPlayer.dependencies.TimeSyncController.prototype={constructor:MediaPlayer.dependencies.TimeSyncController};MediaPlayer.dependencies.TimeSyncController.eventList={ENAME_TIME_SYNCHRONIZATION_COMPLETED:"timeSynchronizationComplete"};MediaPlayer.dependencies.TimeSyncController.TIME_SYNC_FAILED_ERROR_CODE=1;
MediaPlayer.utils.VTTParser=function(){var e=/(?:\r\n|\r|\n)/gm,b=/--\x3e/,d=/(^[\s]+|[\s]+$)/g,c=/\s\b/g,h=function(b){var c=b.split(":"),d=c.length-1;return b=60*parseInt(c[d-1],10)+parseFloat(c[d]),2===d&&(b+=3600*parseInt(c[0],10)),b},f=function(b){var c={};return b.forEach(function(b){if(1<b.split(/:/).length){var d=b.split(/:/)[1];d&&-1!=d.search(/%/)&&(d=parseInt(d.replace(/%/,"")));(b.match(/align/)||b.match(/A/))&&(c.align=d);(b.match(/line/)||b.match(/L/))&&(c.line=d);(b.match(/position/)||
b.match(/P/))&&(c.position=d);(b.match(/size/)||b.match(/S/))&&(c.size=d)}}),c};return{log:void 0,parse:function(k){var g,m,l=[];k=k.split(e);g=k.length;m=-1;for(var n=0;g>n;n++){var p=k[n];if(0<p.length&&"WEBVTT"!==p&&p.match(b)){var q,p=p.split(b);q=p[1].split(c);q=(q.shift(),p[1]=q[0],q.shift(),{cuePoints:p,styles:f(q)});p=q.cuePoints;q=q.styles;var t;t=k;for(var r=n+1,w=void 0,v=r,u="",y="";""!==t[v]&&v<t.length;)v++;if(w=v-r,1<w)for(v=0;w>v;v++){if(y=t[r+v],y.match(b)){u="";break}u+=y;v!==w-
1&&(u+="\n")}else y=t[r],y.match(b)||(u=y);t=decodeURI(u);r=h(p[0].replace(d,""));p=h(p[1].replace(d,""));!isNaN(r)&&!isNaN(p)&&r>=m&&p>r?""!==t?(m=r,l.push({start:r,end:p,data:t,styles:q})):this.log("Skipping cue due to empty/malformed cue text"):this.log("Skipping cue due to incorrect cue timing")}}return l}}};
MediaPlayer.dependencies.XlinkLoader=function(){var e=function(b,d,c,h){var f,k,g,m=new XMLHttpRequest,l=this,n=!0,p=!0,q=new Date;f=function(){p&&(p=!1,l.metricsModel.addHttpRequest("stream",null,MediaPlayer.vo.metrics.HTTPRequest.XLINK_EXPANSION_TYPE,b,m.responseURL||null,null,q,m.firstByteDate||null,new Date,m.status,null,m.getAllResponseHeaders()),0<h?(console.log("Failed loading xLink content: "+b+", retry in 500ms attempts: "+h),h--,setTimeout(function(){e.call(l,b,d,c,h)},500)):(console.log("Failed loading Xlink content: "+
    b+" no retry attempts left"),l.errHandler.downloadError("xlink",b,m),d.resolved=!0,d.resolvedContent=null,l.notify(MediaPlayer.dependencies.XlinkLoader.eventList.ENAME_XLINKELEMENT_LOADED,{element:d,resolveObject:c},Error("Failed loading xlink Element: "+b+" no retry attempts left"))))};k=function(b){n&&(n=!1,(!b.lengthComputable||b.lengthComputable&&b.total!=b.loaded)&&(m.firstByteDate=new Date))};try{m.onload=function(){200>m.status||299<m.status||(p=!1,l.metricsModel.addHttpRequest("stream",null,
    MediaPlayer.vo.metrics.HTTPRequest.XLINK_EXPANSION_TYPE,b,m.responseURL||null,null,q,m.firstByteDate||null,new Date,m.status,null,m.getAllResponseHeaders()),g=m.responseText,d.resolved=!0,g?(d.resolvedContent=g,l.notify(MediaPlayer.dependencies.XlinkLoader.eventList.ENAME_XLINKELEMENT_LOADED,{element:d,resolveObject:c})):(d.resolvedContent=null,l.notify(MediaPlayer.dependencies.XlinkLoader.eventList.ENAME_XLINKELEMENT_LOADED,{element:d,resolveObject:c},new MediaPlayer.vo.Error(null,"Failed loading Xlink element: "+
    b,null))))},m.onloadend=f,m.onerror=f,m.onprogress=k,m.open("GET",l.requestModifierExt.modifyRequestURL(b),!0),m.send()}catch(t){console.log("Error"),m.onerror()}};return{errHandler:void 0,metricsModel:void 0,requestModifierExt:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,load:function(b,d,c){"urn:mpeg:dash:resolve-to-zero:2013"===b?(d.resolvedContent=null,d.resolved=!0,this.notify(MediaPlayer.dependencies.XlinkLoader.eventList.ENAME_XLINKELEMENT_LOADED,{element:d,resolveObject:c})):e.call(this,
    b,d,c,1)}}};MediaPlayer.dependencies.XlinkLoader.prototype={constructor:MediaPlayer.dependencies.XlinkLoader};MediaPlayer.dependencies.XlinkLoader.eventList={ENAME_XLINKELEMENT_LOADED:"xlinkElementLoaded"};
MediaPlayer.dependencies.AbrController=function(){var e,b=!0,d={},c={},h={},f={},k={},g={},m={},l=function(b,d){return c[d]=c[d]||{},c[d].hasOwnProperty(b)||(c[d][b]=0),c[d][b]},n=function(b,c){return h[c]=h[c]||{},h[c].hasOwnProperty(b)||(h[c][b]=0),h[c][b]},p=function(b){return f.hasOwnProperty("max")&&f.max.hasOwnProperty(b)?f.max[b]:NaN},q=function(b,c){d[c]=d[c]||{};d[c].hasOwnProperty(b)||(d[c][b]=0);var e;e=d[c][b];var f=p(b);isNaN(f)||(f=this.getQualityForBitrate(g[b].getMediaInfo(),f),e=
    Math.min(e,f));return e},t=function(c){if(0===MediaPlayer.dependencies.ScheduleController.LOADING_REQUEST_THRESHOLD&&b){var d=this,f=c.data.request.mediaType,h=d.abrRulesCollection.getRules(MediaPlayer.rules.ABRRulesCollection.prototype.ABANDON_FRAGMENT_RULES),l=g[f].getScheduleController(),k=l.getFragmentModel();d.rulesController.applyRules(h,g[f],function(b){function c(b){e=setTimeout(function(){d.setAbandonmentStateFor(b,MediaPlayer.dependencies.AbrController.ALLOW_LOAD)},MediaPlayer.dependencies.AbrController.ABANDON_TIMEOUT)}
    if(b.confidence===MediaPlayer.rules.SwitchRequest.prototype.STRONG){var g=k.getRequests({state:MediaPlayer.dependencies.FragmentModel.states.LOADING});b=b.value;d.getQualityFor(f,d.streamController.getActiveStreamInfo())>b&&(k.abortRequests(),d.setAbandonmentStateFor(f,MediaPlayer.dependencies.AbrController.ABANDON_LOAD),d.setPlaybackQuality(f,d.streamController.getActiveStreamInfo(),b),l.replaceCanceledRequests(g),c(f))}},c,function(b,c){return c})}};return{log:void 0,abrRulesCollection:void 0,rulesController:void 0,
    notify:void 0,subscribe:void 0,unsubscribe:void 0,streamController:void 0,setup:function(){this[MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_LOADING_PROGRESS]=t},initialize:function(b,c){g[b]=c;m[b]=m[b]||{};m[b].state=MediaPlayer.dependencies.AbrController.ALLOW_LOAD},getAutoSwitchBitrate:function(){return b},setAutoSwitchBitrate:function(c){b=c},getPlaybackQuality:function(d){var e,g,f,k,p=this,t=d.getType(),A=d.getStreamInfo().id,B=function(b){var f=q.call(p,t,A);e=b.value;k=b.confidence;
        0>e&&(e=0);e>f&&(e=f);g=l(t,A);e===g||m[t].state===MediaPlayer.dependencies.AbrController.ABANDON_LOAD&&e>g||(b=e,c[A]=c[A]||{},c[A][t]=b,b=k,h[A]=h[A]||{},h[A][t]=b,p.notify(MediaPlayer.dependencies.AbrController.eventList.ENAME_QUALITY_CHANGED,{mediaType:t,streamInfo:d.getStreamInfo(),oldQuality:g,newQuality:e}))};e=l(t,A);k=n(t,A);b&&(f=p.abrRulesCollection.getRules(MediaPlayer.rules.ABRRulesCollection.prototype.QUALITY_SWITCH_RULES),p.rulesController.applyRules(f,d,B.bind(p),e,function(b,c){return b=
        b===MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE?0:b,Math.max(b,c)}))},setPlaybackQuality:function(b,d,e){var g=d.id,f=l(b,g);if(null===e||isNaN(e)||0!==e%1)throw"argument is not an integer";e!==f&&0<=e&&e<=q.call(this,b,g)&&(g=d.id,c[g]=c[g]||{},c[g][b]=e,this.notify(MediaPlayer.dependencies.AbrController.eventList.ENAME_QUALITY_CHANGED,{mediaType:b,streamInfo:d,oldQuality:f,newQuality:e}))},setAbandonmentStateFor:function(b,c){m[b].state=c},getAbandonmentStateFor:function(b){return m[b].state},
    getQualityFor:function(b,c){return l(b,c.id)},getConfidenceFor:function(b,c){return n(b,c.id)},setInitialBitrateFor:function(b,c){f[b]=c},getInitialBitrateFor:function(b){return f[b]},setMaxAllowedBitrateFor:function(b,c){f.max=f.max||{};f.max[b]=c},getMaxAllowedBitrateFor:function(b){return p(b)},getQualityForBitrate:function(b,c){for(var d,e=this.getBitrateList(b),g=e.length,f=0;g>f;f+=1)if(d=e[f],1E3*c<=d.bitrate)return Math.max(f-1,0);return g-1},getBitrateList:function(b){if(!b||!b.bitrateList)return null;
        for(var c=b.bitrateList,d=b.type,e=[],g=0,f=c.length;f>g;g+=1)b=new MediaPlayer.vo.BitrateInfo,b.mediaType=d,b.qualityIndex=g,b.bitrate=c[g],e.push(b);return e},setAverageThroughput:function(b,c){k[b]=c},getAverageThroughput:function(b){return k[b]},updateTopQualityIndex:function(b){var c=b.type,e=b.streamInfo.id;b=b.representationCount-1;d[e]=d[e]||{};return d[e][c]=b},isPlayingAtTopQuality:function(b){var c=b.id,d=this.getQualityFor("audio",b);b=this.getQualityFor("video",b);return d===q.call(this,
            "audio",c)&&b===q.call(this,"video",c)},getTopQualityIndexFor:q,reset:function(){b=!0;d={};c={};h={};g={};m={};k={};clearTimeout(e);e=null}}};MediaPlayer.dependencies.AbrController.prototype={constructor:MediaPlayer.dependencies.AbrController};MediaPlayer.dependencies.AbrController.eventList={ENAME_QUALITY_CHANGED:"qualityChanged"};MediaPlayer.dependencies.AbrController.DEFAULT_VIDEO_BITRATE=1E3;MediaPlayer.dependencies.AbrController.DEFAULT_AUDIO_BITRATE=100;
MediaPlayer.dependencies.AbrController.ABANDON_LOAD="abandonload";MediaPlayer.dependencies.AbrController.ALLOW_LOAD="allowload";MediaPlayer.dependencies.AbrController.ABANDON_TIMEOUT=1E4;MediaPlayer.dependencies.AbrController.BANDWIDTH_SAFETY=.9;
MediaPlayer.dependencies.BufferController=function(){var e,b,d,c,h=0,f=-1,k=!1,g=0,m=0,l=Number.POSITIVE_INFINITY,n=-1,p=-1,q=null,t=null,r=0,w=!1,v=!1,u=!1,y=!1,x=function(){var c=this.streamProcessor.getFragmentModel().getRequests({state:MediaPlayer.dependencies.FragmentModel.states.LOADING}),d=this.streamProcessor.getStreamInfo().id,d=this.virtualBuffer.getChunks({streamId:d,mediaType:b,segmentType:MediaPlayer.vo.metrics.HTTPRequest.MEDIA_SEGMENT_TYPE,quality:f});return f>h&&(z(d,f)||z(c,f))?!1:
f!==h},z=function(b,c){var d=0,e=b.length;for(d;e>d;d+=1)if(b[d].quality===c)return!0;return!1},A=function(b){var c;b.data.fragmentModel===this.streamProcessor.getFragmentModel()&&(this.log("Initialization finished loading"),c=b.data.chunk,this.virtualBuffer.append(c),c.quality===h&&x.call(this)&&X.call(this))},B=function(b){if(b.data.fragmentModel===this.streamProcessor.getFragmentModel()){b=b.data.chunk;var c=b.bytes,d=b.quality,e=b.index,e=this.streamProcessor.getFragmentModel().getRequests({state:MediaPlayer.dependencies.FragmentModel.states.EXECUTED,
    quality:d,index:e})[0],d=this.streamProcessor.getRepresentationInfoForQuality(d),g=this.manifestModel.getValue(),f=this.adapter.getEventsFor(g,d.mediaInfo,this.streamProcessor),h=this.adapter.getEventsFor(g,d,this.streamProcessor);if(0<f.length||0<h.length){d=[];e=Math.max(isNaN(e.startTime)?0:e.startTime,0);g=[];y=!1;f=f.concat(h);for(h=0;h<f.length;h++)g[f[h].schemeIdUri]=f[h];for(var f=this.boxParser.parse(c).getBoxes("emsg"),l=0,k=f.length;k>l;l+=1)(h=this.adapter.getEvent(f[l],g,e))&&d.push(h);
    this.streamProcessor.getEventController().addInbandEvents(d)}var m;if(y){e=c.length;f=g=0;h=Math.pow(256,2);l=Math.pow(256,3);for(k=new Uint8Array(c.length);e>g;){if(m=String.fromCharCode(c[g+4],c[g+5],c[g+6],c[g+7]),d=c[g]*l+c[g+1]*h+256*c[g+2]+1*c[g+3],"emsg"!=m)for(var n=g;g+d>n;n++)k[f]=c[n],f+=1;g+=d}m=k.subarray(0,f)}else m=c;b.bytes=m;this.virtualBuffer.append(b);P.call(this)}},E=function(b){v=!0;c=b;var d=b.quality,e=isNaN(b.index);d!==h&&e||d!==f&&!e?(this.log("reject request - required quality = "+
    h+" current quality = "+f+" chunk media type = "+b.mediaType+" chunk quality = "+d+" chunk index = "+b.index),e=b.index,b=b.start,v=!1,this.notify(MediaPlayer.dependencies.BufferController.eventList.ENAME_BYTES_REJECTED,{quality:d,index:e,start:b}),P.call(this),d=void 0):d=void this.sourceBufferExt.append(q,b);return d},D=function(b){if(q===b.data.buffer){this.isBufferingCompleted()&&this.streamProcessor.getStreamInfo().isLast&&this.mediaSourceExt.signalEndOfStream(e);var d;if(b.error)return b.error.code===
MediaPlayer.dependencies.SourceBufferExtensions.QUOTA_EXCEEDED_ERROR_CODE&&(this.virtualBuffer.append(c),l=.8*this.sourceBufferExt.getTotalBufferedTime(q),this.notify(MediaPlayer.dependencies.BufferController.eventList.ENAME_QUOTA_EXCEEDED,{criticalBufferLevel:l}),J.call(this,C.call(this))),void(v=!1);if(G.call(this),I.call(this)||(this.notify(MediaPlayer.dependencies.BufferController.eventList.ENAME_QUOTA_EXCEEDED,{criticalBufferLevel:l}),J.call(this,C.call(this))),d=this.sourceBufferExt.getAllRanges(q),
    d&&0<d.length){var g;b=0;for(g=d.length;g>b;b+=1)this.log("Buffered Range: "+d.start(b)+" - "+d.end(b))}this.notify(MediaPlayer.dependencies.BufferController.eventList.ENAME_BYTES_APPENDED,{quality:c.quality,index:c.index,bufferedRanges:d});d=c.quality;b=c.index;v=!1;isNaN(b)?f=d:(this.virtualBuffer.storeAppendedChunk(c,q),K.call(this),n=Math.max(b,n),H.call(this));P.call(this)}},G=function(){var b=this.playbackController.getTime(),c=this.streamProcessor.getScheduleController().getFragmentToLoadCount(),
    e=this.streamProcessor.getCurrentRepresentationInfo().fragmentDuration;g=this.sourceBufferExt.getBufferLength(q,b);m=0<c?c*e+g:m;U.call(this);this.notify(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_UPDATED,{bufferLevel:g});b=this.metricsModel.getReadOnlyMetricsFor("video");b=this.metricsExt.getCurrentBufferLevel(b);c=this.metricsModel.getReadOnlyMetricsFor("audio");e=this.metricsExt.getCurrentBufferLevel(c);c=2*d;b=g-(null===b||null===e?null!==e?e.level:null!==b?b.level:
        0:Math.min(e.level,b.level));b>=c&&!w?(w=!0,this.notify(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_OUTRUN)):c/2>b&&w&&(this.notify(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_BALANCED),w=!1,P.call(this));.5>g&&!k?O.call(this,!1):O.call(this,!0);return!0},I=function(){var b=this.sourceBufferExt.getTotalBufferedTime(q);return l>b},C=function(){var b,c,d,e,g;return q?(b=this.playbackController.getTime(),g=this.streamProcessor.getFragmentModel().getRequests({state:MediaPlayer.dependencies.FragmentModel.states.EXECUTED,
    time:b})[0],d=g&&!isNaN(g.startTime)?g.startTime:Math.floor(b),e=this.sourceBufferExt.getBufferRange(q,b),null===e&&0<q.buffered.length&&(d=q.buffered.end(q.buffered.length-1)),c=q.buffered.start(0),{start:c,end:d}):null},J=function(b){b&&q&&this.sourceBufferExt.remove(q,b.start,b.end,e)},F=function(c){q===c.data.buffer&&(u&&(u=!1),this.virtualBuffer.updateBufferedRanges({streamId:this.streamProcessor.getStreamInfo().id,mediaType:b},this.sourceBufferExt.getAllRanges(q)),G.call(this),this.notify(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_CLEARED,
    {from:c.data.from,to:c.data.to,hasEnoughSpaceToAppend:I.call(this)}),I.call(this)||setTimeout(J.bind(this,C.call(this)),1E3*d))},H=function(){n===p-1&&!k&&(k=!0,this.notify(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFERING_COMPLETED))},O=function(c){if(!(t===c||"fragmentedText"===b&&this.textSourceBuffer.getAllTracksAreDisabled())){t=c;var d=(t?MediaPlayer.dependencies.BufferController.BUFFER_LOADED:MediaPlayer.dependencies.BufferController.BUFFER_EMPTY)===MediaPlayer.dependencies.BufferController.BUFFER_LOADED?
    MediaPlayer.events.BUFFER_LOADED:MediaPlayer.events.BUFFER_EMPTY;U.call(this);this.eventBus.dispatchEvent({type:d,data:{bufferType:b}});this.notify(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_STATE_CHANGED,{hasSufficientBuffer:c});this.log(t?"Got enough buffer to start.":"Waiting for more buffer before starting playback.")}},N=function(b){q&&q.timestampOffset!==b&&!isNaN(b)&&(q.timestampOffset=b)},R=function(){q&&(G.call(this),P.call(this))},P=function(){if(x.call(this))X.call(this);
else{var c,d=this.streamProcessor.getStreamInfo().id;!q||u||w||v||x.call(this)||!I.call(this)||(c=this.virtualBuffer.extract({streamId:d,mediaType:b,segmentType:MediaPlayer.vo.metrics.HTTPRequest.MEDIA_SEGMENT_TYPE,limit:1})[0],c&&E.call(this,c))}},U=function(){var c=this.streamProcessor.getStreamInfo().id,d=this.streamController.getActiveStreamInfo().id;c===d&&(this.metricsModel.addBufferState(b,t?MediaPlayer.dependencies.BufferController.BUFFER_LOADED:MediaPlayer.dependencies.BufferController.BUFFER_EMPTY,
    m),d=g,(c=this.virtualBuffer.getTotalBufferLevel(this.streamProcessor.getMediaInfo()))&&(d+=c),this.metricsModel.addBufferLevel(b,new Date,d))},K=function(){var c,d,e=this,g=this.virtualBuffer.getChunks({streamId:this.streamProcessor.getStreamInfo().id,mediaType:b,segmentType:MediaPlayer.vo.metrics.HTTPRequest.MEDIA_SEGMENT_TYPE,appended:!0}),f=new MediaPlayer.utils.CustomTimeRanges,h=new MediaPlayer.utils.CustomTimeRanges,l=this.playbackController.getTime(),k=2*this.streamProcessor.getCurrentRepresentationInfo().fragmentDuration;
    if(g.forEach(function(b){d=e.mediaController.isCurrentTrack(b.mediaInfo)?h:f;d.add(b.bufferedRange.start,b.bufferedRange.end)}),0!==f.length&&0!==h.length&&(c=this.sourceBufferExt.getBufferLength({buffered:h},l),!(k>c)))for(g=0,k=f.length;k>g;g+=1)c={start:f.start(g),end:f.end(g)},(e.mediaController.getSwitchMode(b)===MediaPlayer.dependencies.MediaController.trackSwitchModes.ALWAYS_REPLACE||c.start>l)&&J.call(e,c)},L=function(b){b.error||(N.call(this,b.data.currentRepresentation.MSETimeOffset),b=
    this.streamProcessor.getStreamInfo().manifestInfo.minBufferTime,d!==b&&(this.setMinBufferTime(b),this.notify(MediaPlayer.dependencies.BufferController.eventList.ENAME_MIN_BUFFER_TIME_UPDATED,{minBufferTime:b})))},Z=function(b){b.data.fragmentModel===this.streamProcessor.getFragmentModel()&&(p=b.data.request.index,H.call(this))},Q=function(c){b===c.data.mediaType&&this.streamProcessor.getStreamInfo().id===c.data.streamInfo.id&&(c=c.data.newQuality,h!==c&&(N.call(this,this.streamProcessor.getRepresentationInfoForQuality(c).MSETimeOffset),
    h=c,x.call(this)&&X.call(this)))},W=function(){U.call(this)},X=function(){var c={streamId:this.streamProcessor.getStreamInfo().id,mediaType:b,segmentType:MediaPlayer.vo.metrics.HTTPRequest.INIT_SEGMENT_TYPE,quality:h};(c=this.virtualBuffer.getChunks(c)[0])?!v&&q&&E.call(this,c):this.notify(MediaPlayer.dependencies.BufferController.eventList.ENAME_INIT_REQUESTED,{requiredQuality:h})},Y=function(c){if(q){var d=c.data.newMediaInfo.type;c=c.data.switchMode;var e={start:0,end:this.playbackController.getTime()};
    if(b===d)switch(c){case MediaPlayer.dependencies.MediaController.trackSwitchModes.ALWAYS_REPLACE:J.call(this,e);break;case MediaPlayer.dependencies.MediaController.trackSwitchModes.NEVER_REPLACE:break;default:this.log("track switch mode is not supported: "+c)}}},ia=function(){P.call(this);r+=1;if(0===r%MediaPlayer.dependencies.BufferController.BUFFER_PRUNING_INTERVAL&&!v){var b=0,c=this.playbackController.getTime(),d=this.sourceBufferExt.getBufferRange(q,c);null!==d&&(b=c-d.start-MediaPlayer.dependencies.BufferController.BUFFER_TO_KEEP,
0<b&&(u=!0,this.sourceBufferExt.remove(q,0,Math.round(d.start+b),e)))}},S=function(){.5>g&&!k?O.call(this,!1):O.call(this,!0)};return{sourceBufferExt:void 0,eventBus:void 0,bufferMax:void 0,manifestModel:void 0,errHandler:void 0,mediaSourceExt:void 0,metricsModel:void 0,metricsExt:void 0,streamController:void 0,playbackController:void 0,mediaController:void 0,adapter:void 0,log:void 0,abrController:void 0,boxParser:void 0,system:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,virtualBuffer:void 0,
    textSourceBuffer:void 0,setup:function(){this[Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED]=L;this[MediaPlayer.dependencies.FragmentController.eventList.ENAME_INIT_FRAGMENT_LOADED]=A;this[MediaPlayer.dependencies.FragmentController.eventList.ENAME_MEDIA_FRAGMENT_LOADED]=B;this[MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED]=Z;this[MediaPlayer.dependencies.AbrController.eventList.ENAME_QUALITY_CHANGED]=Q;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_PROGRESS]=
        R;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING]=R;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_TIME_UPDATED]=R;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_RATE_CHANGED]=S;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_WALLCLOCK_TIME_UPDATED]=ia;this[MediaPlayer.dependencies.MediaController.eventList.CURRENT_TRACK_CHANGED]=Y;D=D.bind(this);F=F.bind(this);W=W.bind(this);this.sourceBufferExt.subscribe(MediaPlayer.dependencies.SourceBufferExtensions.eventList.ENAME_SOURCEBUFFER_APPEND_COMPLETED,
        this,D);this.sourceBufferExt.subscribe(MediaPlayer.dependencies.SourceBufferExtensions.eventList.ENAME_SOURCEBUFFER_REMOVE_COMPLETED,this,F);this.virtualBuffer.subscribe(MediaPlayer.utils.VirtualBuffer.eventList.CHUNK_APPENDED,this,W)},initialize:function(c,d,e){b=c;this.setMediaType(b);this.setMediaSource(d);this.streamProcessor=e;this.fragmentController=e.fragmentController;this.scheduleController=e.scheduleController;h=this.abrController.getQualityFor(b,e.getStreamInfo())},createBuffer:function(c){if(!c||
        !e||!this.streamProcessor)return null;var d=null;try{(d=this.sourceBufferExt.createSourceBuffer(e,c))&&d.hasOwnProperty("initialize")&&d.initialize(b,this)}catch(g){this.errHandler.mediaSourceError("Error creating "+b+" source buffer.")}return this.setBuffer(d),N.call(this,this.streamProcessor.getRepresentationInfoForQuality(h).MSETimeOffset),d},getStreamProcessor:function(){return this.streamProcessor},setStreamProcessor:function(b){this.streamProcessor=b},getBuffer:function(){return q},setBuffer:function(b){q=
        b},getBufferLevel:function(){return g},getMinBufferTime:function(){return d},setMinBufferTime:function(b){d=b},getCriticalBufferLevel:function(){return l},setMediaSource:function(b){e=b},getMediaSource:function(){return e},isBufferingCompleted:function(){return k},reset:function(b){l=Number.POSITIVE_INFINITY;d=t=null;n=p=f=-1;h=0;this.sourceBufferExt.unsubscribe(MediaPlayer.dependencies.SourceBufferExtensions.eventList.ENAME_SOURCEBUFFER_APPEND_COMPLETED,this,D);this.sourceBufferExt.unsubscribe(MediaPlayer.dependencies.SourceBufferExtensions.eventList.ENAME_SOURCEBUFFER_REMOVE_COMPLETED,
        this,F);c=null;this.virtualBuffer.unsubscribe(MediaPlayer.utils.VirtualBuffer.eventList.CHUNK_APPENDED,this,W);u=v=w=!1;b||(this.sourceBufferExt.abort(e,q),this.sourceBufferExt.removeSourceBuffer(e,q));q=null}}};MediaPlayer.dependencies.BufferController.BUFFER_SIZE_REQUIRED="required";MediaPlayer.dependencies.BufferController.BUFFER_SIZE_MIN="min";MediaPlayer.dependencies.BufferController.BUFFER_SIZE_INFINITY="infinity";MediaPlayer.dependencies.BufferController.DEFAULT_MIN_BUFFER_TIME=12;
MediaPlayer.dependencies.BufferController.LOW_BUFFER_THRESHOLD=4;MediaPlayer.dependencies.BufferController.BUFFER_TIME_AT_TOP_QUALITY=30;MediaPlayer.dependencies.BufferController.BUFFER_TIME_AT_TOP_QUALITY_LONG_FORM=300;MediaPlayer.dependencies.BufferController.LONG_FORM_CONTENT_DURATION_THRESHOLD=600;MediaPlayer.dependencies.BufferController.RICH_BUFFER_THRESHOLD=20;MediaPlayer.dependencies.BufferController.BUFFER_LOADED="bufferLoaded";MediaPlayer.dependencies.BufferController.BUFFER_EMPTY="bufferStalled";
MediaPlayer.dependencies.BufferController.BUFFER_TO_KEEP=30;MediaPlayer.dependencies.BufferController.BUFFER_PRUNING_INTERVAL=30;MediaPlayer.dependencies.BufferController.prototype={constructor:MediaPlayer.dependencies.BufferController};
MediaPlayer.dependencies.BufferController.eventList={ENAME_BUFFER_LEVEL_STATE_CHANGED:"bufferLevelStateChanged",ENAME_BUFFER_LEVEL_UPDATED:"bufferLevelUpdated",ENAME_QUOTA_EXCEEDED:"quotaExceeded",ENAME_BYTES_APPENDED:"bytesAppended",ENAME_BYTES_REJECTED:"bytesRejected",ENAME_BUFFERING_COMPLETED:"bufferingCompleted",ENAME_BUFFER_CLEARED:"bufferCleared",ENAME_INIT_REQUESTED:"initRequested",ENAME_BUFFER_LEVEL_OUTRUN:"bufferLevelOutrun",ENAME_BUFFER_LEVEL_BALANCED:"bufferLevelBalanced",ENAME_MIN_BUFFER_TIME_UPDATED:"minBufferTimeUpdated"};
MediaPlayer.dependencies.EventController=function(){var e={},b={},d={},c=null,h=function(){null!==c&&(clearInterval(c),c=null)},f=function(){k.call(this,b);k.call(this,e);if(d)for(var c=this.videoModel.getCurrentTime(),f=Object.keys(d),h=0;h<f.length;h++){var n=f[h],p=d[n];null!==p&&(p.duration+p.presentationTime)/p.eventStream.timescale<c&&(this.log("Remove Event "+n+" at time "+c),delete d[n])}},k=function(b){var c,e=this.videoModel.getCurrentTime();if(b)for(var f=Object.keys(b),h=0;h<f.length;h++){var k=
    f[h],t=b[k];void 0!==t&&(c=t.presentationTime/t.eventStream.timescale,0===c||e>=c&&c+.1>e)&&(this.log("Start Event "+k+" at "+e),0<t.duration&&(d[k]=t),"urn:mpeg:dash:event:2012"==t.eventStream.schemeIdUri&&1==t.eventStream.value&&(c=this.manifestModel.getValue(),t=c.url,c.hasOwnProperty("Location")&&(t=c.Location),this.log("Refresh manifest @ "+t),this.manifestUpdater.getManifestLoader().load(t)),delete b[k])}};return{manifestModel:void 0,manifestUpdater:void 0,log:void 0,system:void 0,videoModel:void 0,
    addInlineEvents:function(b){if(e={},b)for(var c=0;c<b.length;c++){var d=b[c];e[d.id]=d;this.log("Add inline event with id "+d.id)}this.log("Added "+b.length+" inline events")},addInbandEvents:function(c){for(var d=0;d<c.length;d++){var e=c[d];e.id in b?this.log("Repeated event with id "+e.id):(b[e.id]=e,this.log("Add inband event with id "+e.id))}},reset:function(){h();d=b=e=null},clear:h,start:function(){this.log("Start Event Controller");isNaN(100)||(c=setInterval(f.bind(this),100))}}};
MediaPlayer.dependencies.EventController.prototype={constructor:MediaPlayer.dependencies.EventController};
MediaPlayer.dependencies.FragmentController=function(){var e=[],b=!1,d=function(b,c){var d=e[0].getContext().streamProcessor,g=d.getStreamInfo().id,f=this.scheduleRulesCollection.getRules(MediaPlayer.rules.ScheduleRulesCollection.prototype.FRAGMENTS_TO_EXECUTE_RULES);-1!==f.indexOf(this.scheduleRulesCollection.sameTimeRequestRule)&&this.scheduleRulesCollection.sameTimeRequestRule.setFragmentModels(e,g);this.rulesController.applyRules(f,d,c,b,function(b,c){return c})},c=function(b){var c=b.data.request;
    this.isInitializationRequest(c)?this.notify(MediaPlayer.dependencies.FragmentController.eventList.ENAME_INIT_FRAGMENT_LOADING_START,{request:c,fragmentModel:b.sender}):this.notify(MediaPlayer.dependencies.FragmentController.eventList.ENAME_MEDIA_FRAGMENT_LOADING_START,{request:c,fragmentModel:b.sender})},h=function(b){var c,d=b.data.request,e=b.data.response,g=b.sender.getContext().streamProcessor.getStreamInfo().id,f=this.isInitializationRequest(d)?MediaPlayer.dependencies.FragmentController.eventList.ENAME_INIT_FRAGMENT_LOADED:
    MediaPlayer.dependencies.FragmentController.eventList.ENAME_MEDIA_FRAGMENT_LOADED;if(e){var h=new MediaPlayer.vo.DataChunk;b=(c=(h.streamId=g,h.mediaInfo=d.mediaInfo,h.segmentType=d.type,h.start=d.startTime,h.duration=d.duration,h.end=h.start+h.duration,h.bytes=e,h.index=d.index,h.quality=d.quality,h),this.notify(f,{chunk:c,fragmentModel:b.sender}),void m.call(this))}else b=void this.log("No "+d.mediaType+" bytes to push.");return b},f=function(b){this.notify(MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED,
    {request:b.data.request,fragmentModel:b.sender})},k=function(){m.call(this)},g=function(c){var d,g,f,h,k=c.value;for(f=0;f<k.length;f+=1)if(d=k[f])for(h=0;h<e.length;h+=1)g=e[h],c=g.getContext().streamProcessor.getType(),d.mediaType===c&&(d instanceof MediaPlayer.vo.FragmentRequest||(d=g.getRequests({state:MediaPlayer.dependencies.FragmentModel.states.PENDING,time:d.startTime})[0]),g.executeRequest(d));b=!1},m=function(c){b||(b=!0,d.call(this,c,g.bind(this)))};return{system:void 0,log:void 0,scheduleRulesCollection:void 0,
    rulesController:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,setup:function(){this[MediaPlayer.dependencies.FragmentModel.eventList.ENAME_FRAGMENT_LOADING_STARTED]=c;this[MediaPlayer.dependencies.FragmentModel.eventList.ENAME_FRAGMENT_LOADING_COMPLETED]=h;this[MediaPlayer.dependencies.FragmentModel.eventList.ENAME_STREAM_COMPLETED]=f;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_BALANCED]=k;this.scheduleRulesCollection.sameTimeRequestRule&&this.subscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED,
        this.scheduleRulesCollection.sameTimeRequestRule)},process:function(b){var c=null;return null!==b&&void 0!==b&&0<b.byteLength&&(c=new Uint8Array(b)),c},getModel:function(b){if(!b)return null;var c;a:{c=e.length;for(var d=0;c>d;d++)if(e[d].getContext()==b){c=e[d];break a}c=null}return c||(c=this.system.getObject("fragmentModel"),c.setContext(b),e.push(c)),c},detachModel:function(b){b=e.indexOf(b);-1<b&&e.splice(b,1)},isInitializationRequest:function(b){return b&&b.type&&b.type===MediaPlayer.vo.metrics.HTTPRequest.INIT_SEGMENT_TYPE},
    prepareFragmentForLoading:function(b,c){b&&c&&b.addRequest(c)&&m.call(this,c)},executePendingRequests:function(){m.call(this)},reset:function(){e=[];this.scheduleRulesCollection.sameTimeRequestRule&&this.unsubscribe(MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED,this.scheduleRulesCollection.sameTimeRequestRule)}}};MediaPlayer.dependencies.FragmentController.prototype={constructor:MediaPlayer.dependencies.FragmentController};
MediaPlayer.dependencies.FragmentController.eventList={ENAME_STREAM_COMPLETED:"streamCompleted",ENAME_INIT_FRAGMENT_LOADING_START:"initFragmentLoadingStart",ENAME_MEDIA_FRAGMENT_LOADING_START:"mediaFragmentLoadingStart",ENAME_INIT_FRAGMENT_LOADED:"initFragmentLoaded",ENAME_MEDIA_FRAGMENT_LOADED:"mediaFragmentLoaded"};
MediaPlayer.dependencies.MediaController=function(){var e,b,d,c={},h=function(b,c){var d=!b.lang||b.lang===c.lang,e=!b.viewpoint||b.viewpoint===c.viewpoint,f=!b.role||!!c.roles.filter(function(c){return c===b.role})[0],h=!b.accessibility||!!c.accessibility.filter(function(c){return c===b.accessibility})[0],k=!b.audioChannelConfiguration||!!c.audioChannelConfiguration.filter(function(c){return c===b.audioChannelConfiguration})[0];return d&&e&&f&&h&&k},f=function(){d={audio:MediaPlayer.dependencies.MediaController.trackSwitchModes.ALWAYS_REPLACE,
    video:MediaPlayer.dependencies.MediaController.trackSwitchModes.NEVER_REPLACE}},k=function(b){var c=this.getSelectionModeForInitialTrack(),d=[],e=function(b){var c,d=0,e=[];return b.forEach(function(b){c=Math.max.apply(Math,b.bitrateList);c>d?(d=c,e=[b]):c===d&&e.push(b)}),e},f=function(b){var c,d=0,e=[];return b.forEach(function(b){c=b.representationCount;c>d?(d=c,e=[b]):c===d&&e.push(b)}),e};switch(c){case MediaPlayer.dependencies.MediaController.trackSelectionModes.HIGHEST_BITRATE:d=e(b);1<d.length&&
(d=f(d));break;case MediaPlayer.dependencies.MediaController.trackSelectionModes.WIDEST_RANGE:d=f(b);1<d.length&&(d=e(b));break;default:this.log("track selection mode is not supported: "+c)}return d[0]};return{log:void 0,system:void 0,errHandler:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,DOMStorage:void 0,setup:function(){e={audio:null,video:null};f.call(this)},checkInitialMediaSettings:function(b){var c=this;["audio","video","text","fragmentedText"].forEach(function(d){var e=c.getInitialSettings(d),
    f=c.getTracksFor(d,b),q=!1;e||(e=c.DOMStorage.getSavedMediaSettings(d),c.setInitialSettings(d,e));f&&0!==f.length&&(e&&f.forEach(function(b){!q&&h.call(c,e,b)&&(c.setTrack(b),q=!0)}),q||c.setTrack(k.call(c,f)))})},addTrack:function(b){var d=b?b.type:null,e=b?b.streamInfo.id:null,f=this.getInitialSettings(d);return b&&this.isMultiTrackSupportedByType(d)?(c[e]=c[e]||{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,
        current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null}},0<=c[e][d].list.indexOf(b)?!1:(c[e][d].list.push(b),f&&h.call(this,f,b)&&!this.getCurrentTrackFor(d,b.streamInfo)&&this.setTrack(b),!0)):!1},getTracksFor:function(b,d){if(!b||!d)return[];var e=d.id;return c[e]&&c[e][b]?c[e][b].list:[]},getCurrentTrackFor:function(b,d){return b&&d?c[d.id][b].current:null},isCurrentTrack:function(b){var d=b.type,e=b.streamInfo.id;return c[e]&&c[e][d]&&this.isTracksEqual(c[e][d].current,b)},setTrack:function(b){if(b){var e=
    b.type,f=b.streamInfo,h=f.id,f=this.getCurrentTrackFor(e,f);!c[h]||!c[h][e]||f&&this.isTracksEqual(b,f)||(c[h][e].current=b,f&&this.notify(MediaPlayer.dependencies.MediaController.eventList.CURRENT_TRACK_CHANGED,{oldMediaInfo:f,newMediaInfo:b,switchMode:d[e]}),b={lang:b.lang,viewpoint:b.viewpoint,roles:b.roles,accessibility:b.accessibility,audioChannelConfiguration:b.audioChannelConfiguration},(b=b.lang||b.viewpoint||b.role&&0<b.role.length||b.accessibility&&0<b.accessibility.length||b.audioChannelConfiguration&&
0<b.audioChannelConfiguration.length?b:null)&&c[h][e].storeLastSettings&&(b.roles&&(b.role=b.roles[0],delete b.roles),b.accessibility&&(b.accessibility=b.accessibility[0]),b.audioChannelConfiguration&&(b.audioChannelConfiguration=b.audioChannelConfiguration[0]),!this.DOMStorage.isSupported(MediaPlayer.utils.DOMStorage.STORAGE_TYPE_LOCAL)||"video"!==e&&"audio"!==e||localStorage.setItem(MediaPlayer.utils.DOMStorage["LOCAL_STORAGE_"+e.toUpperCase()+"_SETTINGS_KEY"],JSON.stringify({settings:b,timestamp:(new Date).getTime()}))))}},
    setInitialSettings:function(b,c){b&&c&&(e[b]=c)},getInitialSettings:function(b){return b?e[b]:null},setSwitchMode:function(b,c){return MediaPlayer.dependencies.MediaController.trackSwitchModes[c]?void(d[b]=c):void this.log("track switch mode is not supported: "+c)},getSwitchMode:function(b){return d[b]},setSelectionModeForInitialTrack:function(c){return MediaPlayer.dependencies.MediaController.trackSelectionModes[c]?void(b=c):void this.log("track selection mode is not supported: "+c)},getSelectionModeForInitialTrack:function(){return b||
        MediaPlayer.dependencies.MediaController.DEFAULT_INIT_TRACK_SELECTION_MODE},isMultiTrackSupportedByType:function(b){return"audio"===b||"video"===b||"text"===b||"fragmentedText"===b},isTracksEqual:function(b,c){var d=b.viewpoint===c.viewpoint,e=b.lang===c.lang,f=b.roles.toString()==c.roles.toString(),h=b.accessibility.toString()==c.accessibility.toString(),k=b.audioChannelConfiguration.toString()==c.audioChannelConfiguration.toString();return b.id===c.id&&d&&e&&f&&h&&k},reset:function(){f.call(this);
        c={};e={audio:null,video:null}}}};MediaPlayer.dependencies.MediaController.prototype={constructor:MediaPlayer.dependencies.MediaController};MediaPlayer.dependencies.MediaController.eventList={CURRENT_TRACK_CHANGED:"currenttrackchanged"};MediaPlayer.dependencies.MediaController.trackSwitchModes={NEVER_REPLACE:"NEVER_REPLACE",ALWAYS_REPLACE:"ALWAYS_REPLACE"};MediaPlayer.dependencies.MediaController.trackSelectionModes={HIGHEST_BITRATE:"HIGHEST_BITRATE",WIDEST_RANGE:"WIDEST_RANGE"};
MediaPlayer.dependencies.MediaController.DEFAULT_INIT_TRACK_SELECTION_MODE=MediaPlayer.dependencies.MediaController.trackSelectionModes.HIGHEST_BITRATE;
MediaPlayer.dependencies.PlaybackController=function(){var e,b,d,c,h=0,f=NaN,k=null,g={},m={},l=NaN,n=function(b){var c,e=parseInt(this.uriQueryFragModel.getURIFragmentData().s);return d?(!isNaN(e)&&1262304E3<e&&(c=e-b.manifestInfo.availableFrom.getTime()/1E3,(c>f||c<f-b.manifestInfo.DVRWindowSize)&&(c=null)),c=c||f):c=!isNaN(e)&&e<b.duration&&0<=e?e:b.start,c},p=function(){if(null===k){var b=this;k=setInterval(function(){F.call(b)},50)}},q=function(){if(!m[e.id]&&!this.isSeeking()){var b=n.call(this,
    e);this.log("Starting playback at offset: "+b);this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING,{seekTime:b})}},t=function(){if(!this.isPaused()&&d&&0!==b.getElement().readyState){var c=this.getTime(),f;f=this.metricsModel.getReadOnlyMetricsFor("video")||this.metricsModel.getReadOnlyMetricsFor("audio");f=(f=(f=this.metricsExt.getCurrentDVRInfo(f))?f.range:null)?c>=f.start&&c<=f.end?c:Math.max(f.end-2*e.manifestInfo.minBufferTime,f.start):NaN;!isNaN(f)&&f!==
    c&&this.seek(f)}},r=function(b){b.error||(b=this.adapter.convertDataToTrack(this.manifestModel.getValue(),b.data.currentRepresentation),e.id===b.mediaInfo.streamInfo.id&&(e=b.mediaInfo.streamInfo,t.call(this)))},w=function(c){c.error||0===b.getElement().readyState||q.call(this)},v=function(){b&&(b.unlisten("canplay",u),b.unlisten("play",y),b.unlisten("playing",x),b.unlisten("pause",z),b.unlisten("error",J),b.unlisten("seeking",A),b.unlisten("seeked",B),b.unlisten("timeupdate",E),b.unlisten("progress",
    D),b.unlisten("ratechange",G),b.unlisten("loadedmetadata",I),b.unlisten("ended",C))},u=function(){this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_CAN_PLAY)},y=function(){this.log("<video> play");t.call(this);p.call(this);this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_STARTED,{startTime:this.getTime()})},x=function(){this.log("<video> playing");this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_PLAYING,{playingTime:this.getTime()})},
    z=function(){this.log("<video> pause");this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_PAUSED)},A=function(){this.log("<video> seek");p.call(this);this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING,{seekTime:this.getTime()})},B=function(){this.log("<video> seeked");this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKED)},E=function(){var b=this.getTime();b!==h&&(h=b,this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_TIME_UPDATED,
        {timeToEnd:this.getTimeToStreamEnd()}))},D=function(){var c,d,f,g=b.getElement().buffered;g.length&&(c=g.length-1,d=g.end(c),f=n.call(this,e)+e.duration-d);this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_PROGRESS,{bufferedRanges:b.getElement().buffered,remainingUnbufferedDuration:f})},G=function(){this.log("<video> ratechange: ",this.getPlaybackRate());this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_RATE_CHANGED)},I=function(){this.log("<video> loadedmetadata");
        d&&!this.timelineConverter.isTimeSyncCompleted()||q.call(this);this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_METADATA_LOADED);p.call(this)},C=function(){this.log("<video> ended");clearInterval(k);k=null;this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_ENDED)},J=function(b){this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_ERROR,{error:(b.target||b.srcElement).error})},F=function(){this.notify(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_WALLCLOCK_TIME_UPDATED,
        {isDynamic:d,time:new Date})},H=function(b){var c,d=b.data.bufferedRanges,f=e.id,h=this.getTime(),l=b.sender.streamProcessor,k=l.getType(),p=this.system.getObject("streamController").getStreamById(e.id),q=n.call(this,e),l=this.adapter.getFragmentRequestForTime(l,l.getCurrentRepresentationInfo(),q,{ignoreIsFinished:!0}),r=g[f];b.data.index===(l?l.index:null)&&(m[f]=m[f]||{},m[f][k]=!0,m[f].ready=!(p.hasMedia("audio")&&!m[f].audio||p.hasMedia("video")&&!m[f].video));!d||!d.length||m[f]&&m[f].seekCompleted||
    (c=Math.max(d.start(0),e.start),g[f]=void 0===g[f]?c:Math.max(g[f],c),r===g[f]&&h===r||!m[f]||!m[f].ready||h>g[f]||(this.isSeeking()?g={}:(this.seek(Math.max(g[f],q)),m[f].seekCompleted=!0)))},O=function(c){var d=c.sender.streamProcessor.getType();c.sender.streamProcessor.getStreamInfo().id===e.id&&b.setStallState(d,!c.data.hasSufficientBuffer)};return{system:void 0,log:void 0,timelineConverter:void 0,uriQueryFragModel:void 0,metricsModel:void 0,metricsExt:void 0,manifestModel:void 0,manifestExt:void 0,
    videoModel:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,adapter:void 0,setup:function(){this[Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED]=r;this[MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED]=w;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BYTES_APPENDED]=H;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_STATE_CHANGED]=O;u=u.bind(this);y=y.bind(this);x=x.bind(this);z=
        z.bind(this);J=J.bind(this);A=A.bind(this);B=B.bind(this);E=E.bind(this);D=D.bind(this);G=G.bind(this);I=I.bind(this);C=C.bind(this)},initialize:function(c){b=this.videoModel;e=c;g={};v.call(this);b.listen("canplay",u);b.listen("play",y);b.listen("playing",x);b.listen("pause",z);b.listen("error",J);b.listen("seeking",A);b.listen("seeked",B);b.listen("timeupdate",E);b.listen("progress",D);b.listen("ratechange",G);b.listen("loadedmetadata",I);b.listen("ended",C);d=e.manifestInfo.isDynamic;f=c.start},
    getStreamStartTime:n,getTimeToStreamEnd:function(){var c=b.getCurrentTime();return n.call(this,e)+e.duration-c},isPlaybackStarted:function(){return 0<this.getTime()},getStreamId:function(){return e.id},getStreamDuration:function(){return e.duration},getTime:function(){return b.getCurrentTime()},getPlaybackRate:function(){return b.getPlaybackRate()},getPlayedRanges:function(){return b.getElement().played},getIsDynamic:function(){return d},setLiveStartTime:function(b){f=b},getLiveStartTime:function(){return f},
    setLiveDelayAttributes:function(b,d){l=b;c=d},getLiveDelay:function(b){var d=this.manifestExt.getMpd(this.manifestModel.getValue());return c&&d.hasOwnProperty("suggestedPresentationDelay")?d.suggestedPresentationDelay:isNaN(b)?2*e.manifestInfo.minBufferTime:b*l},start:function(){b.play()},isPaused:function(){return b.isPaused()},pause:function(){b&&b.pause()},isSeeking:function(){return b.getElement().seeking},seek:function(c){b&&c!==this.getTime()&&(this.log("Do seek: "+c),b.setCurrentTime(c))},
    reset:function(){clearInterval(k);k=null;v.call(this);e=b=null;h=0;f=NaN;g={};m={};c=d=void 0;l=NaN}}};MediaPlayer.dependencies.PlaybackController.prototype={constructor:MediaPlayer.dependencies.PlaybackController};
MediaPlayer.dependencies.PlaybackController.eventList={ENAME_CAN_PLAY:"canPlay",ENAME_PLAYBACK_STARTED:"playbackStarted",ENAME_PLAYBACK_PLAYING:"playbackPlaying",ENAME_PLAYBACK_STOPPED:"playbackStopped",ENAME_PLAYBACK_PAUSED:"playbackPaused",ENAME_PLAYBACK_ENDED:"playbackEnded",ENAME_PLAYBACK_SEEKING:"playbackSeeking",ENAME_PLAYBACK_SEEKED:"playbackSeeked",ENAME_PLAYBACK_TIME_UPDATED:"playbackTimeUpdated",ENAME_PLAYBACK_PROGRESS:"playbackProgress",ENAME_PLAYBACK_RATE_CHANGED:"playbackRateChanged",
    ENAME_PLAYBACK_METADATA_LOADED:"playbackMetaDataLoaded",ENAME_PLAYBACK_ERROR:"playbackError",ENAME_WALLCLOCK_TIME_UPDATED:"wallclockTimeUpdated"};
MediaPlayer.dependencies.ProtectionController=function(){var e,b,d,c=[],h=!1,f=function(b){var c=null;b=b.systemString;return d&&(c=b in d?d[b]:null),c},k=function(d,f){var g=this,h=[],l=[];b&&l.push(new MediaPlayer.vo.protection.MediaCapability(b.codec));e&&h.push(new MediaPlayer.vo.protection.MediaCapability(e.codec));var k,l=new MediaPlayer.vo.protection.KeySystemConfiguration(h,l,"optional","temporary"===g.sessionType?"optional":"required",[g.sessionType]),h=[];if(this.keySystem)for(k=0;k<d.length;k++){if(this.keySystem===
        d[k].ks){h.push({ks:d[k].ks,configs:[l]});l={};l[MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_ACCESS_COMPLETE]=function(b){b.error?f||g.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SYSTEM_SELECTED,error:"DRM: KeySystem Access Denied! -- "+b.error}):(g.log("KeySystem Access Granted"),g.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SYSTEM_SELECTED,data:b.data}),g.createKeySession(d[k].initData))};this.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_ACCESS_COMPLETE,
    l,void 0,!0);this.protectionModel.requestKeySystemAccess(h);break}}else if(void 0===this.keySystem){this.keySystem=null;c.push(d);for(var m=0;m<d.length;m++)h.push({ks:d[m].ks,configs:[l]});var n,p={};p[MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_ACCESS_COMPLETE]=function(b){b.error?(g.keySystem=void 0,g.protectionModel.unsubscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_SELECTED,p),f||g.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SYSTEM_SELECTED,
        error:"DRM: KeySystem Access Denied! -- "+b.error})):(n=b.data,g.log("KeySystem Access Granted ("+n.keySystem.systemString+")!  Selecting key system..."),g.protectionModel.selectKeySystem(n))};p[MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_SELECTED]=function(b){if(b.error)g.keySystem=void 0,f||g.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SYSTEM_SELECTED,error:"DRM: Error selecting key system! -- "+b.error});else for(g.keySystem=g.protectionModel.keySystem,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            g.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SYSTEM_SELECTED,data:n}),b=0;b<c.length;b++)for(k=0;k<c[b].length;k++)if(g.keySystem===c[b][k].ks){g.createKeySession(c[b][k].initData);break}};this.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_SELECTED,p,void 0,!0);this.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_ACCESS_COMPLETE,p,void 0,!0);this.protectionModel.requestKeySystemAccess(h)}else c.push(d)},
    g=function(b,c){this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.LICENSE_REQUEST_COMPLETE,data:b,error:c})},m=function(b){if(b.error)return void this.log(b.error);var c=b.data;this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_MESSAGE,data:c});var d=c.messageType?c.messageType:"license-request",e=c.message,h=c.sessionToken,c=f(this.keySystem),l=this.keySystem.systemString,k=this.protectionExt.getLicenseServer(this.keySystem,
        c,d),m=g.bind(this),n={sessionToken:h,messageType:d};if(!k)return this.log("DRM: License server request not required for this message (type = "+b.data.messageType+").  Session ID = "+h.getSessionID()),void m(n);if(this.protectionExt.isClearKey(this.keySystem)){var p=this.protectionExt.processClearKeyLicenseRequest(c,e);if(p)return this.log("DRM: ClearKey license request handled by application!"),m(n),void this.protectionModel.updateKeySession(h,p)}var q=new XMLHttpRequest,r=this,p=null;c?c.serverURL?
        (b=c.serverURL,"string"==typeof b&&""!==b?p=b:"object"==typeof b&&b.hasOwnProperty(d)&&(p=b[d])):c.laURL&&""!==c.laURL&&(p=c.laURL):(p=this.keySystem.getLicenseServerURLFromInitData(MediaPlayer.dependencies.protection.CommonEncryption.getPSSHData(h.initData)))||(p=b.data.laURL);if(p=k.getServerURLFromMessage(p,e,d),!p)return void m(n,"DRM: No license server URL specified!");q.open(k.getHTTPMethod(d),p,!0);q.responseType=k.getResponseType(l,d);q.onload=function(){200==this.status?(m(n),r.protectionModel.updateKeySession(h,
        k.getLicenseMessage(this.response,l,d))):m(n,"DRM: "+l+' update, XHR status is "'+this.statusText+'" ('+this.status+"), expected to be 200. readyState is "+this.readyState+".  Response is "+(this.response?k.getErrorResponse(this.response,l,d):"NONE"))};q.onabort=function(){m(n,"DRM: "+l+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};q.onerror=function(){m(n,"DRM: "+l+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+
        this.readyState)};b=function(b){var c;if(b)for(c in b)"authorization"===c.toLowerCase()&&(q.withCredentials=!0),q.setRequestHeader(c,b[c])};c&&b(c.httpRequestHeaders);b(this.keySystem.getRequestHeadersFromMessage(e));c&&c.withCredentials&&(q.withCredentials=!0);q.send(this.keySystem.getLicenseRequestFromMessage(e))},l=function(b){if("cenc"!==b.data.initDataType)return void this.log("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+b.data.initDataType);b=b.data.initData;ArrayBuffer.isView(b)&&
    (b=b.buffer);b=this.protectionExt.getSupportedKeySystems(b);return 0===b.length?void this.log("Received needkey event with initData, but we don't support any of the key systems!"):void k.call(this,b,!1)},n=function(b){b.error?this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.SERVER_CERTIFICATE_UPDATED,data:null,error:"DRM: Failed to update license server certificate. -- "+b.error}):(this.log("DRM: License server certificate successfully updated."),this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.SERVER_CERTIFICATE_UPDATED,
        data:null,error:null}))},p=function(b){b.error?this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SESSION_CREATED,data:null,error:"DRM: Failed to create key session. -- "+b.error}):(this.log("DRM: Session created.  SessionID = "+b.data.getSessionID()),this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SESSION_CREATED,data:b.data,error:null}))},q=function(){this.log("DRM: Key added.");this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_ADDED,
        data:null,error:null})},t=function(b){this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_ADDED,data:null,error:"DRM: MediaKeyError - sessionId: "+b.data.sessionToken.getSessionID()+".  "+b.data.error})},r=function(b){b.error?this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SESSION_CLOSED,data:null,error:"DRM Failed to close key session. -- "+b.error}):(this.log("DRM: Session closed.  SessionID = "+b.data),this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SESSION_CLOSED,
        data:b.data,error:null}))},w=function(b){b.error?this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SESSION_REMOVED,data:null,error:"DRM Failed to remove key session. -- "+b.error}):(this.log("DRM: Session removed.  SessionID = "+b.data),this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SESSION_REMOVED,data:b.data,error:null}))},v=function(b){this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_STATUSES_CHANGED,
        data:b.data,error:null})};return{system:void 0,log:void 0,protectionExt:void 0,keySystem:void 0,sessionType:"temporary",setup:function(){this[MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_MESSAGE]=m.bind(this);this[MediaPlayer.models.ProtectionModel.eventList.ENAME_NEED_KEY]=l.bind(this);this[MediaPlayer.models.ProtectionModel.eventList.ENAME_SERVER_CERTIFICATE_UPDATED]=n.bind(this);this[MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_ADDED]=q.bind(this);this[MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_ERROR]=
    t.bind(this);this[MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CREATED]=p.bind(this);this[MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CLOSED]=r.bind(this);this[MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_REMOVED]=w.bind(this);this[MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_STATUSES_CHANGED]=v.bind(this);this.protectionExt.getKeySystems();this.protectionModel=this.system.getObject("protectionModel");this.protectionModel.init();this.eventBus=
    this.system.getObject("eventBusCl");this.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_SERVER_CERTIFICATE_UPDATED,this);this.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_ADDED,this);this.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_ERROR,this);this.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CREATED,this);this.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CLOSED,
    this);this.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_REMOVED,this);this.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_MESSAGE,this);this.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_STATUSES_CHANGED,this)},init:function(c,d,f){if(!h){var g,l;d||f||(g=this.system.getObject("adapter"),l=g.getStreamsInfo(c)[0]);e=d||(l?g.getMediaInfoForType(c,l,"audio"):null);b=f||(l?g.getMediaInfoForType(c,
        l,"video"):null);(c=this.protectionExt.getSupportedKeySystemsFromContentProtection((b?b:e).contentProtection))&&0<c.length&&k.call(this,c,!0);h=!0}},addEventListener:function(b,c){this.eventBus.addEventListener(b,c)},removeEventListener:function(b,c){this.eventBus.removeEventListener(b,c)},teardown:function(){this.setMediaElement(null);this.protectionModel.unsubscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_MESSAGE,this);this.protectionModel.unsubscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_SERVER_CERTIFICATE_UPDATED,
    this);this.protectionModel.unsubscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_ADDED,this);this.protectionModel.unsubscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_ERROR,this);this.protectionModel.unsubscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CREATED,this);this.protectionModel.unsubscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CLOSED,this);this.protectionModel.unsubscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_REMOVED,
    this);this.protectionModel.unsubscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_MESSAGE,this);this.protectionModel.unsubscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_STATUSES_CHANGED,this);this.keySystem=void 0;this.protectionModel.teardown();this.protectionModel=void 0},createKeySession:function(b){if(b=MediaPlayer.dependencies.protection.CommonEncryption.getPSSHForKeySystem(this.keySystem,b)){for(var c=this.protectionModel.getAllInitData(),d=0;d<c.length;d++)if(this.protectionExt.initDataEquals(b,
        c[d]))return void this.log("Ignoring initData because we have already seen it!");try{this.protectionModel.createKeySession(b,this.sessionType)}catch(e){this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SESSION_CREATED,data:null,error:"Error creating key session! "+e.message})}}else this.eventBus.dispatchEvent({type:MediaPlayer.dependencies.ProtectionController.events.KEY_SESSION_CREATED,data:null,error:"Selected key system is "+this.keySystem.systemString+
".  needkey/encrypted event contains no initData corresponding to that key system!"})},loadKeySession:function(b){this.protectionModel.loadKeySession(b)},removeKeySession:function(b){this.protectionModel.removeKeySession(b)},closeKeySession:function(b){this.protectionModel.closeKeySession(b)},setServerCertificate:function(b){this.protectionModel.setServerCertificate(b)},setMediaElement:function(b){b?(this.protectionModel.setMediaElement(b),this.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_NEED_KEY,
    this)):null===b&&(this.protectionModel.setMediaElement(b),this.protectionModel.unsubscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_NEED_KEY,this))},setSessionType:function(b){this.sessionType=b},setProtectionData:function(b){d=b}}};
MediaPlayer.dependencies.ProtectionController.events={KEY_SYSTEM_SELECTED:"keySystemSelected",SERVER_CERTIFICATE_UPDATED:"serverCertificateUpdated",KEY_ADDED:"keyAdded",KEY_SESSION_CREATED:"keySessionCreated",KEY_SESSION_REMOVED:"keySessionRemoved",KEY_SESSION_CLOSED:"keySessionClosed",KEY_STATUSES_CHANGED:"keyStatusesChanged",KEY_MESSAGE:"keyMessage",LICENSE_REQUEST_COMPLETE:"licenseRequestComplete"};MediaPlayer.dependencies.ProtectionController.prototype={constructor:MediaPlayer.dependencies.ProtectionController};
MediaPlayer.dependencies.ScheduleController=function(){var e,b,d,c,h,f=0,k=!0,g=null,m=!1,l=null,n=null,p=!0,q=function(b,c){var d=0,e=null;!1===p&&(e=n.start,d=b.getTime()-e.getTime(),n.duration=d,n.stopreason=c,p=!0)},t=function(){b&&(m=!1,k&&(k=!1),this.log("start"),A.call(this))},r=function(b){m||(m=!0,this.log("stop"),b&&d.cancelPendingRequests(),q(new Date,MediaPlayer.vo.metrics.PlayList.Trace.USER_REQUEST_STOP_REASON))},w=function(b){var c=this.scheduleRulesCollection.getRules(MediaPlayer.rules.ScheduleRulesCollection.prototype.NEXT_FRAGMENT_RULES);
        this.rulesController.applyRules(c,this.streamProcessor,b,null,function(b,c){return c})},v=function(b){var c;return c=this.adapter.getInitRequest(this.streamProcessor,b),null!==c&&this.fragmentController.prepareFragmentForLoading(d,c),c},u=function(b){var c=this.scheduleRulesCollection.getRules(MediaPlayer.rules.ScheduleRulesCollection.prototype.FRAGMENTS_TO_SCHEDULE_RULES);this.rulesController.applyRules(c,this.streamProcessor,b,f,function(b,c){return b=b===MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE?
        0:b,Math.max(b,c)})},y=function(b){var c,e,f=b.length;for(e=0;f>e;e+=1)c=b[e],c=c.startTime+c.duration/2+.1,c=this.adapter.getFragmentRequestForTime(this.streamProcessor,h,c,{timeThreshold:0,ignoreIsFinished:!0}),this.fragmentController.prepareFragmentForLoading(d,c)},x=function(b){return f=b.value,0>=f?void this.fragmentController.executePendingRequests():void w.call(this,z.bind(this))},z=function(b){b=b.value;null===b||b instanceof MediaPlayer.vo.FragmentRequest||(b=this.adapter.getFragmentRequestForTime(this.streamProcessor,
    h,b.startTime));b?(f--,this.fragmentController.prepareFragmentForLoading(d,b)):this.fragmentController.executePendingRequests()},A=function(){var b=(new Date).getTime(),e=g?b-g>d.getLoadingTime():!0;this.abrController.getPlaybackQuality(this.streamProcessor);!e||m||this.playbackController.isPaused()&&0<this.playbackController.getPlayedRanges().length&&(!this.scheduleWhilePaused||c)||(g=b,u.call(this,x.bind(this)))},B=function(b){b.error||(h=this.adapter.convertDataToTrack(this.manifestModel.getValue(),
    b.data.currentRepresentation))},E=function(d){d.error||(h=this.streamProcessor.getCurrentRepresentationInfo(),c&&null===this.liveEdgeFinder.getLiveEdge()||(b=!0),b&&(k&&(v.call(this,h.quality),U.call(this,MediaPlayer.vo.metrics.PlayList.INITIAL_PLAY_START_REASON)),t.call(this)))},D=function(b){b.data.fragmentModel===this.streamProcessor.getFragmentModel()&&(this.log("Stream is complete"),q(new Date,MediaPlayer.vo.metrics.PlayList.Trace.END_OF_CONTENT_STOP_REASON))},G=function(b){b.data.fragmentModel===
    this.streamProcessor.getFragmentModel()&&A.call(this)},I=function(b){b.error&&r.call(this)},C=function(){K.call(this)},J=function(){r.call(this,!1)},F=function(b){v.call(this,b.data.requiredQuality)},H=function(b){d.removeExecutedRequestsBeforeTime(b.data.to);b.data.hasEnoughSpaceToAppend&&t.call(this)},O=function(b){b.data.hasSufficientBuffer||this.playbackController.isSeeking()||(this.log("Stalling Buffer"),q(new Date,MediaPlayer.vo.metrics.PlayList.Trace.REBUFFERING_REASON))},N=function(){A.call(this)},
    R=function(){r.call(this,!1)},P=function(b){if(e===b.data.mediaType&&this.streamProcessor.getStreamInfo().id===b.data.streamInfo.id){var c;if(c=d.cancelPendingRequests(b.data.oldQuality),h=this.streamProcessor.getRepresentationInfoForQuality(b.data.newQuality),null===h||void 0===h)throw"Unexpected error!";y.call(this,c);q(new Date,MediaPlayer.vo.metrics.PlayList.Trace.REPRESENTATION_SWITCH_STOP_REASON)}},U=function(b){var c=new Date,d=this.playbackController.getTime();q(c,MediaPlayer.vo.metrics.PlayList.Trace.USER_REQUEST_STOP_REASON);
        l=this.metricsModel.addPlayList(e,c,d,b)},K=function(){var b=this.playbackController.getTime(),c=this.playbackController.getPlaybackRate(),d=new Date;!0===p&&h&&l&&(p=!1,n=this.metricsModel.appendPlayListTrace(l,h.id,null,d,b,null,c,null))},L=function(b){b=v.call(this,b.data.CCIndex);d.executeRequest(b)},Z=function(){t.call(this)},Q=function(b){k||d.cancelPendingRequests();var c=this.metricsModel.getMetricsFor("stream"),c=this.metricsExt.getCurrentManifestUpdate(c);this.log("seek: "+b.data.seekTime);
        U.call(this,MediaPlayer.vo.metrics.PlayList.SEEK_START_REASON);this.metricsModel.updateManifestUpdateInfo(c,{latency:h.DVRWindow.end-this.playbackController.getTime()})},W=function(){K.call(this)},X=function(){A.call(this)},Y=function(c){if(!c.error){var d;c=c.data.liveEdge;d=h.mediaInfo.streamInfo.manifestInfo;d=c-Math.min(this.playbackController.getLiveDelay(h.fragmentDuration),d.DVRWindowSize/2);var e=this.metricsModel.getMetricsFor("stream"),e=this.metricsExt.getCurrentManifestUpdate(e),f=this.playbackController.getLiveStartTime();
        d=this.adapter.getFragmentRequestForTime(this.streamProcessor,h,d,{ignoreIsFinished:!0}).startTime;(isNaN(f)||d>f)&&this.playbackController.setLiveStartTime(d);this.metricsModel.updateManifestUpdateInfo(e,{currentTime:d,presentationStartTime:c,latency:c-d,clientTimeOffset:this.timelineConverter.getClientTimeOffset()});b=!0}};return{log:void 0,system:void 0,metricsModel:void 0,manifestModel:void 0,metricsExt:void 0,scheduleWhilePaused:void 0,timelineConverter:void 0,abrController:void 0,playbackController:void 0,
    adapter:void 0,scheduleRulesCollection:void 0,rulesController:void 0,numOfParallelRequestAllowed:void 0,setup:function(){this[MediaPlayer.dependencies.LiveEdgeFinder.eventList.ENAME_LIVE_EDGE_SEARCH_COMPLETED]=Y;this[MediaPlayer.dependencies.AbrController.eventList.ENAME_QUALITY_CHANGED]=P;this[Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_STARTED]=J;this[Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED]=B;this[MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_UPDATED]=
        E;this[MediaPlayer.dependencies.FragmentController.eventList.ENAME_MEDIA_FRAGMENT_LOADING_START]=G;this[MediaPlayer.dependencies.FragmentModel.eventList.ENAME_FRAGMENT_LOADING_COMPLETED]=I;this[MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED]=D;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_CLEARED]=H;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BYTES_APPENDED]=C;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_STATE_CHANGED]=
        O;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_UPDATED]=N;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_INIT_REQUESTED]=F;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_QUOTA_EXCEEDED]=R;this[MediaPlayer.dependencies.TextController.eventList.ENAME_CLOSED_CAPTIONING_REQUESTED]=L;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_STARTED]=Z;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING]=
        Q;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_RATE_CHANGED]=W;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_WALLCLOCK_TIME_UPDATED]=X},initialize:function(b,f){e=b;this.setMediaType(e);this.streamProcessor=f;this.fragmentController=f.fragmentController;this.liveEdgeFinder=f.liveEdgeFinder;this.bufferController=f.bufferController;c=f.isDynamic();d=this.fragmentController.getModel(this);MediaPlayer.dependencies.ScheduleController.LOADING_REQUEST_THRESHOLD=
        this.numOfParallelRequestAllowed;this.scheduleRulesCollection.bufferLevelRule&&this.scheduleRulesCollection.bufferLevelRule.setScheduleController(this);this.scheduleRulesCollection.pendingRequestsRule&&this.scheduleRulesCollection.pendingRequestsRule.setScheduleController(this);this.scheduleRulesCollection.playbackTimeRule&&this.scheduleRulesCollection.playbackTimeRule.setScheduleController(this)},getFragmentModel:function(){return d},getFragmentToLoadCount:function(){return f},replaceCanceledRequests:y,
    reset:function(){r.call(this,!0);this.bufferController.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_OUTRUN,this.scheduleRulesCollection.bufferLevelRule);this.bufferController.unsubscribe(MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_BALANCED,this.scheduleRulesCollection.bufferLevelRule);d.abortRequests();this.fragmentController.detachModel(d);f=0},start:t,stop:r}};MediaPlayer.dependencies.ScheduleController.prototype={constructor:MediaPlayer.dependencies.ScheduleController};
MediaPlayer.dependencies.ScheduleController.LOADING_REQUEST_THRESHOLD=0;
MediaPlayer.dependencies.StreamController=function(){var e,b,d,c,h,f,k=[],g=!1,m=!0,l=!1,n=!1,p=!1,q=!1,t=function(b){this.system.getObject("mediaController").subscribe(MediaPlayer.dependencies.MediaController.eventList.CURRENT_TRACK_CHANGED,b);b.subscribe(MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_UPDATED,this.liveEdgeFinder);b.subscribe(MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_BUFFERING_COMPLETED,this)},r=function(b){b.unsubscribe(MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_UPDATED,
    this.liveEdgeFinder);b.unsubscribe(MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_BUFFERING_COMPLETED,this)},w=function(b,c,d){this.eventBus.dispatchEvent({type:b,data:{fromStreamInfo:c?c.getStreamInfo():null,toStreamInfo:d.getStreamInfo()}})},v=function(){e.isActivated()&&l&&0===e.getStreamInfo().index&&(e.startEventController(),m&&this.playbackController.start())},u=function(){l=!0;v.call(this)},y=function(b){var c=b.data.error?b.data.error.code:0,d="";if(-1!==c){switch(c){case 1:d="MEDIA_ERR_ABORTED";
        break;case 2:d="MEDIA_ERR_NETWORK";break;case 3:d="MEDIA_ERR_DECODE";break;case 4:d="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:d="MEDIA_ERR_ENCRYPTED";break;default:d="UNKNOWN"}q=!0;this.log("Video Element Error: "+d);b.error&&this.log(b.error);this.errHandler.mediaSourceError(d);this.reset()}},x=function(b){var d=this.videoExt.getPlaybackQuality(this.videoModel.getElement());d&&this.metricsModel.addDroppedFrames("video",d);this.playbackController.isSeeking()||.2>b.data.timeToEnd&&this.mediaSourceExt.signalEndOfStream(c)},
    z=function(){D.call(this,e,E())},A=function(b){var c;a:{c=b.data.seekTime;var d=0,f=null,g=k.length;0<g&&(d+=k[0].getStartTime());for(var h=0;g>h;h++)if(f=k[h],d+=f.getDuration(),d>c){c=f;break a}c=null}c&&c!==e&&D.call(this,e,c,b.data.seekTime)},B=function(b){var d=E();b=b.data.streamInfo.isLast;c&&b&&this.mediaSourceExt.signalEndOfStream(c);d&&d.activate(c)},E=function(){var b=e.getStreamInfo().start,c=e.getStreamInfo().duration;return k.filter(function(d){return d.getStreamInfo().start===b+c})[0]},
    D=function(b,c,d){if(!n&&b&&c&&b!==c){w.call(this,MediaPlayer.events.STREAM_SWITCH_STARTED,b,c);n=!0;var f=this,g=function(){void 0!==d&&f.playbackController.seek(d);f.playbackController.start();e.startEventController();n=!1;w.call(f,MediaPlayer.events.STREAM_SWITCH_COMPLETED,b,c)};setTimeout(function(){r.call(f,b);b.deactivate();e=c;t.call(f,c);f.playbackController.initialize(e.getStreamInfo());G.call(f,g)},0)}},G=function(b){var d,f=this,g=function(h){f.log("MediaSource is open!");f.log(h);window.URL.revokeObjectURL(d);
        c.removeEventListener("sourceopen",g);c.removeEventListener("webkitsourceopen",g);I.call(f);e.activate(c);b&&b()};c?f.mediaSourceExt.detachMediaSource(f.videoModel):c=f.mediaSourceExt.createMediaSource();c.addEventListener("sourceopen",g,!1);c.addEventListener("webkitsourceopen",g,!1);d=f.mediaSourceExt.attachMediaSource(c,f.videoModel)},I=function(){var b;b=e.getStreamInfo().manifestInfo.duration;b=this.mediaSourceExt.setDuration(c,b);this.log("Duration successfully set to: "+b)},C=function(){if(!p){var b=
        k.length,c=0;v.call(this);for(c;b>c;c+=1)if(!k[c].isInitialized())return;this.notify(MediaPlayer.dependencies.StreamController.eventList.ENAME_STREAMS_COMPOSED)}},J=function(){C.call(this)},F=function(){var f,h,l,m,n,q,r,v=this.manifestModel.getValue();q=this.metricsModel.getMetricsFor("stream");var u=this.metricsExt.getCurrentManifestUpdate(q),x=[];if(v){q=this.adapter.getStreamsInfo(v);this.capabilities.supportsEncryptedMedia()&&(b||(b=this.system.getObject("protectionController"),this.eventBus.dispatchEvent({type:MediaPlayer.events.PROTECTION_CREATED,
        data:{controller:b,manifest:v}}),g=!0),b.setMediaElement(this.videoModel.getElement()),d&&b.setProtectionData(d));try{if(0===q.length)throw Error("There are no streams");this.metricsModel.updateManifestUpdateInfo(u,{currentTime:this.videoModel.getCurrentTime(),buffered:this.videoModel.getElement().buffered,presentationStartTime:q[0].start,clientTimeOffset:this.timelineConverter.getClientTimeOffset()});p=!0;m=0;for(h=q.length;h>m;m+=1){f=q[m];n=0;for(l=k.length;l>n;n+=1)k[n].getId()===f.id&&(r=k[n],
        x.push(r),r.updateData(f));r||(r=this.system.getObject("stream"),r.initialize(f,b,d),r.subscribe(MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_UPDATED,this),x.push(r),e&&r.updateData(f));this.metricsModel.addManifestUpdateStreamInfo(u,f.id,f.index,f.start,f.duration);r=null}k=x;e||(e=k[0],w.call(this,MediaPlayer.events.STREAM_SWITCH_STARTED,null,e),this.playbackController.initialize(e.getStreamInfo()),t.call(this,e),w.call(this,MediaPlayer.events.STREAM_SWITCH_COMPLETED,null,e));c||G.call(this);
        p=!1;C.call(this)}catch(y){this.errHandler.manifestError(y.message,"nostreamscomposed",v),this.reset()}}},H=function(b){var c=this;if(b.error)c.reset();else{var d,e,g=b.data.manifest,l=c.adapter.getStreamsInfo(g)[0];(l=c.adapter.getMediaInfoForType(g,l,"video")||c.adapter.getMediaInfoForType(g,l,"audio"))&&(d=c.adapter.getDataForMedia(l),e=c.manifestExt.getRepresentationsForAdaptation(g,d)[0].useCalculatedLiveEdgeTime,e&&(c.log("SegmentTimeline detected using calculated Live Edge Time"),f=!1));b=
        c.manifestExt.getUTCTimingSources(b.data.manifest);e=!c.manifestExt.getIsDynamic(g)||e?b:b.concat(h);var k=c.uriQueryFragModel.isManifestHTTPS();e.forEach(function(b){b.value.replace(/.*?:\/\//g,"")===MediaPlayer.UTCTimingSources["default"].value.replace(/.*?:\/\//g,"")&&(b.value=b.value.replace(k?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),k?"https://":"http://"),c.log("Matching default timing source protocol to manifest protocol: ",b.value))});c.timeSyncController.initialize(e,f)}};
    return{system:void 0,capabilities:void 0,videoModel:void 0,manifestUpdater:void 0,manifestLoader:void 0,manifestModel:void 0,manifestExt:void 0,adapter:void 0,playbackController:void 0,log:void 0,metricsModel:void 0,metricsExt:void 0,videoExt:void 0,liveEdgeFinder:void 0,mediaSourceExt:void 0,timelineConverter:void 0,protectionExt:void 0,timeSyncController:void 0,virtualBuffer:void 0,errHandler:void 0,eventBus:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,uriQueryFragModel:void 0,setup:function(){this[MediaPlayer.dependencies.ManifestUpdater.eventList.ENAME_MANIFEST_UPDATED]=
        H;this[MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_UPDATED]=J;this[MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_BUFFERING_COMPLETED]=B;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING]=A;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_TIME_UPDATED]=x;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_ENDED]=z;this[MediaPlayer.dependencies.TimeSyncController.eventList.ENAME_TIME_SYNCHRONIZATION_COMPLETED]=
        F;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_CAN_PLAY]=u;this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_ERROR]=y},getAutoPlay:function(){return m},getActiveStreamInfo:function(){return e?e.getStreamInfo():null},isStreamActive:function(b){return e.getId()===b.id},setUTCTimingSources:function(b,c){h=b;f=c},getStreamById:function(b){return k.filter(function(c){return c.getId()===b})[0]},initialize:function(c,e,f){m=c;b=e;d=f;this.timeSyncController.subscribe(MediaPlayer.dependencies.TimeSyncController.eventList.ENAME_TIME_SYNCHRONIZATION_COMPLETED,
        this.timelineConverter);this.timeSyncController.subscribe(MediaPlayer.dependencies.TimeSyncController.eventList.ENAME_TIME_SYNCHRONIZATION_COMPLETED,this.liveEdgeFinder);this.timeSyncController.subscribe(MediaPlayer.dependencies.TimeSyncController.eventList.ENAME_TIME_SYNCHRONIZATION_COMPLETED,this);this.playbackController.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_STARTED,this.manifestUpdater);this.playbackController.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_PAUSED,
        this.manifestUpdater);this.playbackController.subscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_ENDED,this);this.subscribe(MediaPlayer.dependencies.StreamController.eventList.ENAME_STREAMS_COMPOSED,this.manifestUpdater);this.manifestUpdater.subscribe(MediaPlayer.dependencies.ManifestUpdater.eventList.ENAME_MANIFEST_UPDATED,this);this.manifestUpdater.initialize(this.manifestLoader)},load:function(b){this.manifestLoader.load(b)},loadWithManifest:function(b){this.manifestUpdater.setManifest(b)},
        reset:function(){e&&r.call(this,e);var f,h=this.system.getObject("mediaController");this.timeSyncController.unsubscribe(MediaPlayer.dependencies.TimeSyncController.eventList.ENAME_TIME_SYNCHRONIZATION_COMPLETED,this.timelineConverter);this.timeSyncController.unsubscribe(MediaPlayer.dependencies.TimeSyncController.eventList.ENAME_TIME_SYNCHRONIZATION_COMPLETED,this.liveEdgeFinder);this.timeSyncController.unsubscribe(MediaPlayer.dependencies.TimeSyncController.eventList.ENAME_TIME_SYNCHRONIZATION_COMPLETED,
            this);this.timeSyncController.reset();for(var m=0,v=k.length;v>m;m++)f=k[m],f.unsubscribe(MediaPlayer.dependencies.Stream.eventList.ENAME_STREAM_UPDATED,this),h.unsubscribe(MediaPlayer.dependencies.MediaController.eventList.CURRENT_TRACK_CHANGED,f),f.reset(q);k=[];this.unsubscribe(MediaPlayer.dependencies.StreamController.eventList.ENAME_STREAMS_COMPOSED,this.manifestUpdater);this.playbackController.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_STARTED,this.manifestUpdater);
            this.playbackController.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_PAUSED,this.manifestUpdater);this.playbackController.unsubscribe(MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_ENDED,this);this.manifestUpdater.unsubscribe(MediaPlayer.dependencies.ManifestUpdater.eventList.ENAME_MANIFEST_UPDATED,this);this.manifestUpdater.reset();this.metricsModel.clearAllCurrentMetrics();var t=this.manifestModel.getValue()?this.manifestModel.getValue().url:
                null;if(this.manifestModel.setValue(null),this.timelineConverter.reset(),this.liveEdgeFinder.reset(),this.adapter.reset(),this.virtualBuffer.reset(),n=!1,p=!1,e=null,l=!1,q=!1,c&&(this.mediaSourceExt.detachMediaSource(this.videoModel),c=null),b)if(g){f={};var u=this;f[MediaPlayer.models.ProtectionModel.eventList.ENAME_TEARDOWN_COMPLETE]=function(){g=!1;d=b=null;t&&u.eventBus.dispatchEvent({type:MediaPlayer.events.PROTECTION_DESTROYED,data:t});u.notify(MediaPlayer.dependencies.StreamController.eventList.ENAME_TEARDOWN_COMPLETE)};
                b.protectionModel.subscribe(MediaPlayer.models.ProtectionModel.eventList.ENAME_TEARDOWN_COMPLETE,f,void 0,!0);b.teardown()}else b.setMediaElement(null),d=b=null,this.notify(MediaPlayer.dependencies.StreamController.eventList.ENAME_TEARDOWN_COMPLETE);else this.notify(MediaPlayer.dependencies.StreamController.eventList.ENAME_TEARDOWN_COMPLETE)}}};MediaPlayer.dependencies.StreamController.prototype={constructor:MediaPlayer.dependencies.StreamController};
MediaPlayer.dependencies.StreamController.eventList={ENAME_STREAMS_COMPOSED:"streamsComposed",ENAME_TEARDOWN_COMPLETE:"streamTeardownComplete"};
MediaPlayer.dependencies.TextController=function(){var e=!1,b=null,d=null,c=null,h=function(){this.notify(MediaPlayer.dependencies.TextController.eventList.ENAME_CLOSED_CAPTIONING_REQUESTED,{CCIndex:0})},f=function(b){b.data.fragmentModel===this.streamProcessor.getFragmentModel()&&b.data.chunk.bytes&&this.sourceBufferExt.append(d,b.data.chunk)};return{sourceBufferExt:void 0,log:void 0,system:void 0,errHandler:void 0,videoModel:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,setup:function(){this[Dash.dependencies.RepresentationController.eventList.ENAME_DATA_UPDATE_COMPLETED]=
    h;this[MediaPlayer.dependencies.FragmentController.eventList.ENAME_INIT_FRAGMENT_LOADED]=f},initialize:function(b,d,e){c=b;this.setMediaSource(d);this.representationController=e.representationController;this.streamProcessor=e},createBuffer:function(f){try{d=this.sourceBufferExt.createSourceBuffer(b,f),e||(d.hasOwnProperty("initialize")&&d.initialize(c,this),e=!0)}catch(g){this.errHandler.mediaSourceError("Error creating "+c+" source buffer.")}return d},getBuffer:function(){return d},setBuffer:function(b){d=
    b},setMediaSource:function(c){b=c},reset:function(c){c||(this.sourceBufferExt.abort(b,d),this.sourceBufferExt.removeSourceBuffer(b,d))}}};MediaPlayer.dependencies.TextController.prototype={constructor:MediaPlayer.dependencies.TextController};MediaPlayer.dependencies.TextController.eventList={ENAME_CLOSED_CAPTIONING_REQUESTED:"closedCaptioningRequested"};
MediaPlayer.dependencies.XlinkController=function(){var e,b,d,c,h=function(b,c,d){var e={};e.elements=b;e.type=c;e.resolveType=d;0===e.elements.length&&k.call(this,e);for(d=0;d<e.elements.length;d+=1)b=e.elements[d],c=-1!==b.url.indexOf("http://")?b.url:b.originalContent.BaseURL+b.url,this.xlinkLoader.load(c,b,e)},f=function(b){var d,e,f="";d=b.data.element;b=b.data.resolveObject;d.resolvedContent&&(e=d.resolvedContent.indexOf(">")+1,f=d.resolvedContent.substr(0,e)+"<response>"+d.resolvedContent.substr(e)+
    "</response>",d.resolvedContent=c.xml_str2json(f));var g;a:{for(d=0;d<b.elements.length;d++)if(g=b.elements[d],!1===g.resolved){g=!1;break a}g=!0}g&&k.call(this,b)},k=function(c){var e,f=[],k,q,t,r,w=[];for(t=c.elements.length-1;0<=t;t--){if(e=c.elements[t],k=e.type+"_asArray",!e.resolvedContent||!1)delete e.originalContent["xlink:actuate"],delete e.originalContent["xlink:href"],w.push(e.originalContent);else if(e.resolvedContent)for(r=0;r<e.resolvedContent[k].length;r++)q=e.resolvedContent[k][r],
    w.push(q);e.parentElement[k].splice(e.index,1);for(q=0;q<w.length;q++)e.parentElement[k].splice(e.index+q,0,w[q]);w=[]}0<c.elements.length&&b.run(d);if("onActuate"===c.resolveType&&this.notify(MediaPlayer.dependencies.XlinkController.eventList.ENAME_XLINK_READY,{manifest:d}),"onLoad"===c.resolveType)switch(c.type){case "Period":for(c=0;c<d.Period_asArray.length;c++)e=d.Period_asArray[c],e.hasOwnProperty("AdaptationSet_asArray")&&(f=f.concat(g.call(this,e.AdaptationSet_asArray,e,"AdaptationSet","onLoad"))),
e.hasOwnProperty("EventStream_asArray")&&(f=f.concat(g.call(this,e.EventStream_asArray,e,"EventStream","onLoad")));h.call(this,f,"AdaptationSet","onLoad");break;case "AdaptationSet":this.notify(MediaPlayer.dependencies.XlinkController.eventList.ENAME_XLINK_READY,{manifest:d})}},g=function(b,c,d,e){var f,g,h,k=[];for(g=b.length-1;0<=g;--g)f=b[g],f.hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===f["xlink:href"]&&b.splice(g,1);for(g=0;g<b.length;g++)f=b[g],f.hasOwnProperty("xlink:href")&&
f.hasOwnProperty("xlink:actuate")&&f["xlink:actuate"]===e&&(h={url:f["xlink:href"],parentElement:c,type:d,index:g,resolveType:e,originalContent:f,resolvedContent:null,resolved:!1},k.push(h));return k};return{xlinkLoader:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,setup:function(){f=f.bind(this);this.xlinkLoader.subscribe(MediaPlayer.dependencies.XlinkLoader.eventList.ENAME_XLINKELEMENT_LOADED,this,f)},resolveManifestOnLoad:function(b){c=new X2JS(e,"",!0);d=b;b=g(d.Period_asArray,d,"Period",
    "onLoad");h.call(this,b,"Period","onLoad")},setMatchers:function(b){e=b},setIron:function(c){b=c}}};MediaPlayer.dependencies.XlinkController.prototype={constructor:MediaPlayer.dependencies.XlinkController};MediaPlayer.dependencies.XlinkController.eventList={ENAME_XLINK_ALLELEMENTSLOADED:"xlinkAllElementsLoaded",ENAME_XLINK_READY:"xlinkReady"};MediaPlayer.dependencies.MediaSourceExtensions=function(){};
MediaPlayer.dependencies.MediaSourceExtensions.prototype={constructor:MediaPlayer.dependencies.MediaSourceExtensions,createMediaSource:function(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null},attachMediaSource:function(e,b){var d=window.URL.createObjectURL(e);return b.setSource(d),d},detachMediaSource:function(e){e.setSource("")},setDuration:function(e,b){return e.duration!=b&&(e.duration=b),e.duration},signalEndOfStream:function(e){var b=
    e.sourceBuffers,d=b.length,c=0;if("open"===e.readyState){for(c;d>c;c+=1)if(b[c].updating)return;e.endOfStream()}}};MediaPlayer.dependencies.ProtectionExtensions=function(){this.log=this.system=void 0;this.keySystems=[];this.clearkeyKeySystem=this.unsubscribe=this.subscribe=this.notify=void 0};
MediaPlayer.dependencies.ProtectionExtensions.prototype={constructor:MediaPlayer.dependencies.ProtectionExtensions,setup:function(){var e;e=this.system.getObject("ksPlayReady");this.keySystems.push(e);e=this.system.getObject("ksWidevine");this.keySystems.push(e);e=this.system.getObject("ksClearKey");this.keySystems.push(e);this.clearkeyKeySystem=e},getKeySystems:function(){return this.keySystems},getKeySystemBySystemString:function(e){for(var b=0;b<this.keySystems.length;b++)if(this.keySystems[b].systemString===
    e)return this.keySystems[b];return null},isClearKey:function(e){return e===this.clearkeyKeySystem},initDataEquals:function(e,b){if(e.byteLength===b.byteLength){for(var d=new Uint8Array(e),c=new Uint8Array(b),h=0;h<d.length;h++)if(d[h]!==c[h])return!1;return!0}return!1},getSupportedKeySystemsFromContentProtection:function(e){var b,d,c,h,f=[];if(e)for(c=0;c<this.keySystems.length;++c)for(d=this.keySystems[c],h=0;h<e.length;++h)if(b=e[h],b.schemeIdUri.toLowerCase()===d.schemeIdURI){var k=d.getInitData(b);
    k&&f.push({ks:this.keySystems[c],initData:k})}return f},getSupportedKeySystems:function(e){var b=[],d=MediaPlayer.dependencies.protection.CommonEncryption.parsePSSHList(e);for(e=0;e<this.keySystems.length;++e)this.keySystems[e].uuid in d&&b.push({ks:this.keySystems[e],initData:d[this.keySystems[e].uuid]});return b},getLicenseServer:function(e,b,d){if("license-release"===d||"individualization-request"==d)return null;d=null;return b&&b.hasOwnProperty("drmtoday")?d=this.system.getObject("serverDRMToday"):
    "com.widevine.alpha"===e.systemString?d=this.system.getObject("serverWidevine"):"com.microsoft.playready"===e.systemString?d=this.system.getObject("serverPlayReady"):"org.w3.clearkey"===e.systemString&&(d=this.system.getObject("serverClearKey")),d},processClearKeyLicenseRequest:function(e,b){try{return MediaPlayer.dependencies.protection.KeySystem_ClearKey.getClearKeysFromProtectionData(e,b)}catch(d){return this.log("Failed to retrieve clearkeys from ProtectionData"),null}}};
MediaPlayer.dependencies.RequestModifierExtensions=function(){return{modifyRequestURL:function(e){return e},modifyRequestHeader:function(e){return e}}};MediaPlayer.dependencies.SourceBufferExtensions=function(){this.manifestExt=this.unsubscribe=this.subscribe=this.notify=this.system=void 0};
MediaPlayer.dependencies.SourceBufferExtensions.prototype={constructor:MediaPlayer.dependencies.SourceBufferExtensions,createSourceBuffer:function(e,b){var d=b.codec,c=null;try{if(d.match(/application\/mp4;\s*codecs="stpp"/i))throw Error("not really supported");c=e.addSourceBuffer(d)}catch(h){if(!b.isText&&-1===d.indexOf('codecs="stpp"'))throw h;c=this.system.getObject("textSourceBuffer")}return c},removeSourceBuffer:function(e,b){try{e.removeSourceBuffer(b)}catch(d){}},getBufferRange:function(e,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   b,d){var c,h=null,f=0,k=0,g=null,m=null,l=0;d=d||.15;try{h=e.buffered}catch(n){return null}if(null!==h&&void 0!==h){c=0;for(e=h.length;e>c;c+=1)if(f=h.start(c),k=h.end(c),null===g)l=Math.abs(f-b),b>=f&&k>b?(g=f,m=k):d>=l&&(g=f,m=k);else{if(l=f-m,!(d>=l))break;m=k}if(null!==g)return{start:g,end:m}}return null},getAllRanges:function(e){try{return e.buffered}catch(b){return null}},getTotalBufferedTime:function(e){var b,d=this.getAllRanges(e),c=0;if(!d)return c;b=0;for(e=d.length;e>b;b+=1)c+=d.end(b)-
    d.start(b);return c},getBufferLength:function(e,b,d){var c;return c=this.getBufferRange(e,b,d),null===c?0:c.end-b},getRangeDifference:function(e,b){if(!b)return null;var d,c,h,f,k,g,m,l,n=this.getAllRanges(b);if(!n)return null;for(var p=0,q=n.length;q>p;p+=1){if(l=e.length>p,k=l?{start:e.start(p),end:e.end(p)}:null,d=n.start(p),c=n.end(p),!k)return{start:d,end:c};if(h=k.start===d,f=k.end===c,!h||!f){if(h)d={start:k.end,end:c};else{if(!f)return{start:d,end:c};d={start:d,end:k.start}}return g=e.length>
p+1?{start:e.start(p+1),end:e.end(p+1)}:null,m=q>p+1?{start:n.start(p+1),end:n.end(p+1)}:null,!g||m&&m.start===g.start&&m.end===g.end||(d.end=g.start),d}}return null},waitForUpdateEnd:function(e,b){var d,c=function(){e.updating||(clearInterval(d),b())},h=function(){e.updating||(e.removeEventListener("updateend",h,!1),b())};if(!e.updating)return void b();if("function"==typeof e.addEventListener)try{e.addEventListener("updateend",h,!1)}catch(f){d=setInterval(c,50)}else d=setInterval(c,50)},append:function(e,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             b){var d=this,c=b.bytes,h="append"in e?"append":"appendBuffer"in e?"appendBuffer":null,f="Object"===Object.prototype.toString.call(e).slice(8,-1);if(h)try{d.waitForUpdateEnd(e,function(){f?e[h](c,b):e[h](c);d.waitForUpdateEnd(e,function(){d.notify(MediaPlayer.dependencies.SourceBufferExtensions.eventList.ENAME_SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:c})})})}catch(k){d.notify(MediaPlayer.dependencies.SourceBufferExtensions.eventList.ENAME_SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:c},new MediaPlayer.vo.Error(k.code,
    k.message,null))}},remove:function(e,b,d,c){var h=this;try{h.waitForUpdateEnd(e,function(){0<=b&&d>b&&"ended"!==c.readyState&&e.remove(b,d);h.waitForUpdateEnd(e,function(){h.notify(MediaPlayer.dependencies.SourceBufferExtensions.eventList.ENAME_SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:b,to:d})})})}catch(f){h.notify(MediaPlayer.dependencies.SourceBufferExtensions.eventList.ENAME_SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:b,to:d},new MediaPlayer.vo.Error(f.code,f.message,null))}},abort:function(e,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            b){try{"open"===e.readyState&&b.abort()}catch(d){}}};MediaPlayer.dependencies.SourceBufferExtensions.QUOTA_EXCEEDED_ERROR_CODE=22;MediaPlayer.dependencies.SourceBufferExtensions.eventList={ENAME_SOURCEBUFFER_REMOVE_COMPLETED:"sourceBufferRemoveCompleted",ENAME_SOURCEBUFFER_APPEND_COMPLETED:"sourceBufferAppendCompleted"};
MediaPlayer.utils.TextTrackExtensions=function(){var e,b,d=[],c=[],h=-1,f=0,k=0,g=0,m=0,l=null,n=null,p=!1,q=!1,t=null,r=!1,w=function(c){var e=d[c].kind,f=void 0!==d[c].label?d[c].label:d[c].lang;c=d[c].lang;var g=p?b.addTextTrack(e,f,c):document.createElement("track");return p||(g.kind=e,g.label=f,g.srclang=c),g};return{mediaController:void 0,videoModel:void 0,eventBus:void 0,setup:function(){e=window.VTTCue||window.TextTrackCue;p=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)||navigator.userAgent.match(/Edge/);
    q=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/);void 0!==document.fullscreenElement?t="fullscreenElement":void 0!==document.webkitIsFullScreen?t="webkitIsFullScreen":document.msFullscreenElement?t="msFullscreenElement":document.mozFullScreen&&(t="mozFullScreen")},displayCConTop:function(b){r=b;l&&!document[t]&&(l.style.zIndex=b?2147483647:null)},addTextTrack:function(e,f){if(d.push(e),void 0===b&&(b=e.video),d.length===f){d.sort(function(b,c){return b.index-c.index});l=
    this.videoModel.getTTMLRenderingDiv();for(var g=0,k=0;k<d.length;k++){var m=w(k);h=k;c.push(m);d[k].defaultTrack&&(m["default"]=!0,g=k);p||b.appendChild(m);m=b.textTracks[k];l&&d[k].isTTML?m.renderingType="html":m.renderingType="default";this.addCaptions(0,d[k].captionData);this.eventBus.dispatchEvent({type:MediaPlayer.events.TEXT_TRACK_ADDED})}this.setCurrentTrackIdx(g);this.eventBus.dispatchEvent({type:MediaPlayer.events.TEXT_TRACKS_ADDED,data:{index:h,tracks:d}})}},getVideoVisibleVideoSize:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               c,d,e){var f=0,g=0,h=0,l=0;return b/c>d/e?(l=c,h=l/e*d,f=(b-h)/2,g=0):(h=b,l=h/d*e,f=0,g=(c-l)/2),{x:f,y:g,w:h,h:l}},checkVideoSize:function(){var c=this.getCurrentTextTrack();if(c&&"html"===c.renderingType){var d=b.clientWidth,e=b.clientHeight,h=this.getVideoVisibleVideoSize(b.clientWidth,b.clientHeight,b.videoWidth,b.videoHeight);if(d=h.w,e=h.h,d!=g||e!=m){f=h.x;k=h.y;g=d;m=e;l.style.left=f+"px";l.style.top=k+"px";l.style.width=g+"px";l.style.height=m+"px";for(d=0;d<c.activeCues.length;++d)e=c.activeCues[d],
    e.scaleCue(e);t&&document[t]||r?l.style.zIndex=2147483647:l.style.zIndex=null}}},scaleCue:function(b){var c,d,e,f=[g/b.cellResolution[0],m/b.cellResolution[1]];if(b.linePadding)for(c in b.linePadding)if(b.linePadding.hasOwnProperty(c)){d=(b.linePadding[c]*f[0]).toString();e=document.getElementsByClassName("spanPadding");for(var h=0;h<e.length;h++)e[h].style.cssText=e[h].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+d),e[h].style.cssText=e[h].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,
    "$1"+d)}if(b.fontSize)for(c in b.fontSize)if(b.fontSize.hasOwnProperty(c))for(d=(b.fontSize[c]/100*f[1]).toString(),e="defaultFontSize"!==c?document.getElementsByClassName(c):document.getElementsByClassName("paragraph"),h=0;h<e.length;h++)e[h].style.cssText=e[h].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+d);if(b.lineHeight)for(c in b.lineHeight)if(b.lineHeight.hasOwnProperty(c))for(d=(b.lineHeight[c]/100*f[1]).toString(),e=document.getElementsByClassName(c),h=0;h<e.length;h++)e[h].style.cssText=
    e[h].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+d)},addCaptions:function(c,p){var q=this.getCurrentTextTrack();if(q){q.mode="showing";for(var r in p){var t,w=p[r];n||"html"!=w.type||(n=setInterval(this.checkVideoSize.bind(this),500));"image"==w.type?(t=new e(w.start-c,w.end-c,""),t.image=w.data,t.id=w.id,t.size=0,t.type="image",t.onenter=function(){var c=new Image;c.id="ttmlImage_"+this.id;c.src=this.image;c.className="cue-image";l?l.appendChild(c):b.parentNode.appendChild(c)},
    t.onexit=function(){var c,d,e;c=l?l:b.parentNode;e=c.childNodes;for(d=0;d<e.length;d++)e[d].id=="ttmlImage_"+this.id&&c.removeChild(e[d])}):"html"===w.type?(t=new e(w.start-c,w.end-c,""),t.cueHTMLElement=w.cueHTMLElement,t.regions=w.regions,t.regionID=w.regionID,t.cueID=w.cueID,t.videoWidth=w.videoWidth,t.videoHeight=w.videoHeight,t.cellResolution=w.cellResolution,t.fontSize=w.fontSize,t.lineHeight=w.lineHeight,t.linePadding=w.linePadding,t.scaleCue=this.scaleCue,l.style.left=f+"px",l.style.top=k+
    "px",l.style.width=g+"px",l.style.height=m+"px",t.onenter=function(){"showing"==q.mode&&(l.appendChild(this.cueHTMLElement),this.scaleCue(this))},t.onexit=function(){for(var b=l.childNodes,c=0;c<b.length;++c)b[c].id=="subtitle_"+this.cueID&&l.removeChild(b[c])}):(t=new e(w.start-c,w.end-c,w.data),w.styles&&(void 0!==w.styles.align&&t.hasOwnProperty("align")&&(t.align=w.styles.align),void 0!==w.styles.line&&t.hasOwnProperty("line")&&(t.line=w.styles.line),void 0!==w.styles.position&&t.hasOwnProperty("position")&&
(t.position=w.styles.position),void 0!==w.styles.size&&t.hasOwnProperty("size")&&(t.size=w.styles.size)));q.addCue(t)}d[h].isFragmented||(q.mode=d[h].defaultTrack?"showing":"hidden")}},getCurrentTextTrack:function(){return 0<=h?b.textTracks[h]:null},getCurrentTrackIdx:function(){return h},setCurrentTrackIdx:function(c){(h=c,this.clearCues(),0<=c)?"html"===b.textTracks[c].renderingType?this.setNativeCueStyle():this.removeNativeCueStyle():this.removeNativeCueStyle()},getTextTrack:function(c){return b.textTracks[c]},
    deleteTrackCues:function(b){if(b.cues){for(var c=b.cues,d=c.length-1;0<=d;d--)b.removeCue(c[d]);b.mode="disabled"}},deleteAllTextTracks:function(){for(var e=c.length,f=0;e>f;f++)p?this.deleteTrackCues(this.getTextTrack(f)):b.removeChild(c[f]);c=[];d=[];n&&(clearInterval(n),n=null);this.clearCues()},deleteTextTrack:function(d){b.removeChild(c[d]);c.splice(d,1)},setNativeCueStyle:function(){if(q){var c=document.getElementById("native-cue-style");c||(c=document.createElement("style"),c.id="native-cue-style",
        document.head.appendChild(c),c=c.sheet,b.id?c.insertRule("#"+b.id+"::cue {background: transparent}",0):0!==b.classList.length?c.insertRule("."+b.className+"::cue {background: transparent}",0):c.insertRule("video::cue {background: transparent}",0))}},removeNativeCueStyle:function(){if(q){var b=document.getElementById("native-cue-style");b&&document.head.removeChild(b)}},clearCues:function(){if(l)for(;l.firstChild;)l.removeChild(l.firstChild)}}};
MediaPlayer.dependencies.VideoModelExtensions=function(){return{getPlaybackQuality:function(e){var b="webkitDroppedFrameCount"in e,d=null;return"getVideoPlaybackQuality"in e?d=e.getVideoPlaybackQuality():b&&(d={droppedVideoFrames:e.webkitDroppedFrameCount,creationTime:new Date}),d}}};MediaPlayer.dependencies.VideoModelExtensions.prototype={constructor:MediaPlayer.dependencies.VideoModelExtensions};
MediaPlayer.dependencies.FragmentModel=function(){var e=null,b=[],d=[],c=[],h=[],f=!1,k=function(b,c){var d=b.indexOf(c);-1!==d&&b.splice(d,1)},g=function(b,c,d){var e,f=NaN,g=NaN,h=null;for(e=b.length-1;0<=e;--e)if(h=b[e],f=h.startTime,g=f+h.duration,d=d||h.duration/2,!isNaN(f)&&!isNaN(g)&&c+d>=f&&g>c-d||isNaN(f)&&isNaN(c))return h;return null},m=function(b,c){return c?c.hasOwnProperty("time")?[g.call(this,b,c.time,c.threshold)]:b.filter(function(b){for(var d in c)if("state"!==d&&c.hasOwnProperty(d)&&
    b[d]!=c[d])return!1;return!0}):b},l=function(e,f){if(e){var g=e.mediaType;this.metricsModel.addSchedulingInfo(g,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,f);this.metricsModel.addRequestsQueue(g,d,c,b,h)}},n=function(d){var e=d.data.request,f=d.data.response;d=d.error;c.splice(c.indexOf(e),1);f&&!d&&b.push(e);l.call(this,e,d?MediaPlayer.dependencies.FragmentModel.states.FAILED:MediaPlayer.dependencies.FragmentModel.states.EXECUTED);this.notify(MediaPlayer.dependencies.FragmentModel.eventList.ENAME_FRAGMENT_LOADING_COMPLETED,
    {request:e,response:f},d)},p=function(c){var d=this.getRequests({state:MediaPlayer.dependencies.FragmentModel.states.EXECUTED,quality:c.data.quality,time:c.data.start})[0];d&&(k.call(this,b,d),isNaN(c.data.index)||(h.push(d),l.call(this,d,MediaPlayer.dependencies.FragmentModel.states.REJECTED)))},q=function(){f=!0},t=function(){f=!1};return{system:void 0,log:void 0,metricsModel:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,manifestExt:void 0,setup:function(){this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_OUTRUN]=
    q;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_BALANCED]=t;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BYTES_REJECTED]=p;this[MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_LOADING_COMPLETED]=n},setLoader:function(b){this.fragmentLoader=b},setContext:function(b){e=b},getContext:function(){return e},getIsPostponed:function(){return f},addRequest:function(b){return this.manifestExt.getIsTextTrack(b.mediaType)||b&&!this.isFragmentLoadedOrPending(b)?
    (d.push(b),l.call(this,b,MediaPlayer.dependencies.FragmentModel.states.PENDING),!0):!1},isFragmentLoadedOrPending:function(e){var f=function(b){var c,d,f=!1,g=b.length;for(d=0;g>d;d+=1){c=b[d];var h;if(!(h=e.url===c.url&&e.startTime===c.startTime)){h=e;var l=c;h=isNaN(h.index)&&isNaN(l.index)&&h.quality===l.quality}if(h||"complete"===e.action&&e.action===c.action){f=!0;break}}return f};return f(d)||f(c)||f(b)},getRequests:function(e){var f,g=[],l=[],k=1;if(!e||!e.state)return g;e.state instanceof
Array?(k=e.state.length,f=e.state):f=[e.state];for(var n=0;k>n;n+=1){g=void 0;switch(f[n]){case MediaPlayer.dependencies.FragmentModel.states.PENDING:g=d;break;case MediaPlayer.dependencies.FragmentModel.states.LOADING:g=c;break;case MediaPlayer.dependencies.FragmentModel.states.EXECUTED:g=b;break;case MediaPlayer.dependencies.FragmentModel.states.REJECTED:g=h;break;default:g=[]}l=l.concat(m.call(this,g,e))}return l},getLoadingTime:function(){var c,d,e=0;for(d=b.length-1;0<=d;--d)if(c=b[d],c.requestEndDate instanceof
    Date&&c.firstByteDate instanceof Date){e=c.requestEndDate.getTime()-c.firstByteDate.getTime();break}return e},removeExecutedRequest:function(c){k.call(this,b,c)},removeRejectedRequest:function(b){k.call(this,h,b)},removeExecutedRequestsBeforeTime:function(c){var d,e=NaN,f=null;for(d=b.length-1;0<=d;--d)f=b[d],e=f.startTime,!isNaN(e)&&c>e&&k.call(this,b,f)},cancelPendingRequests:function(b){var c=this,e=d;return d=[],void 0!==b&&(d=e.filter(function(c){return c.quality===b?!1:(e.splice(e.indexOf(c),
    1),!0)})),e.forEach(function(b){l.call(c,b,MediaPlayer.dependencies.FragmentModel.states.CANCELED)}),e},abortRequests:function(){var b=[];for(this.fragmentLoader.abort();0<c.length;)b.push(c[0]),k.call(this,c,c[0]);return c=[],b},executeRequest:function(e){var f=d.indexOf(e);if(e&&-1!==f)switch(d.splice(f,1),e.action){case "complete":b.push(e);l.call(this,e,MediaPlayer.dependencies.FragmentModel.states.EXECUTED);this.notify(MediaPlayer.dependencies.FragmentModel.eventList.ENAME_STREAM_COMPLETED,{request:e});
    break;case "download":c.push(e);l.call(this,e,MediaPlayer.dependencies.FragmentModel.states.LOADING);this.notify(MediaPlayer.dependencies.FragmentModel.eventList.ENAME_FRAGMENT_LOADING_STARTED,{request:e});this.fragmentLoader.load(e);break;default:this.log("Unknown request action.")}},reset:function(){this.abortRequests();this.cancelPendingRequests();e=null;b=[];d=[];c=[];h=[];f=!1}}};MediaPlayer.dependencies.FragmentModel.prototype={constructor:MediaPlayer.dependencies.FragmentModel};
MediaPlayer.dependencies.FragmentModel.eventList={ENAME_STREAM_COMPLETED:"streamCompleted",ENAME_FRAGMENT_LOADING_STARTED:"fragmentLoadingStarted",ENAME_FRAGMENT_LOADING_COMPLETED:"fragmentLoadingCompleted"};MediaPlayer.dependencies.FragmentModel.states={PENDING:"pending",LOADING:"loading",EXECUTED:"executed",REJECTED:"rejected",CANCELED:"canceled",FAILED:"failed"};
MediaPlayer.models.ManifestModel=function(){var e;return{system:void 0,eventBus:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,getValue:function(){return e},setValue:function(b){e=b;this.eventBus.dispatchEvent({type:MediaPlayer.events.MANIFEST_LOADED,data:b});this.notify(MediaPlayer.models.ManifestModel.eventList.ENAME_MANIFEST_UPDATED,{manifest:b})}}};MediaPlayer.models.ManifestModel.prototype={constructor:MediaPlayer.models.ManifestModel};MediaPlayer.models.ManifestModel.eventList={ENAME_MANIFEST_UPDATED:"manifestUpdated"};
MediaPlayer.models.MetricsModel=function(){return{system:void 0,eventBus:void 0,adapter:void 0,streamMetrics:{},metricsChanged:function(){this.eventBus.dispatchEvent({type:MediaPlayer.events.METRICS_CHANGED,data:{}})},metricChanged:function(e){this.eventBus.dispatchEvent({type:MediaPlayer.events.METRIC_CHANGED,data:{stream:e}});this.metricsChanged()},metricUpdated:function(e,b,d){this.eventBus.dispatchEvent({type:MediaPlayer.events.METRIC_UPDATED,data:{stream:e,metric:b,value:d}});this.metricChanged(e)},
    metricAdded:function(e,b,d){this.eventBus.dispatchEvent({type:MediaPlayer.events.METRIC_ADDED,data:{stream:e,metric:b,value:d}});this.metricChanged(e)},clearCurrentMetricsForType:function(e){delete this.streamMetrics[e];this.metricChanged(e)},clearAllCurrentMetrics:function(){this.streamMetrics={};this.metricsChanged.call(this)},getReadOnlyMetricsFor:function(e){return this.streamMetrics.hasOwnProperty(e)?this.streamMetrics[e]:null},getMetricsFor:function(e){var b;return this.streamMetrics.hasOwnProperty(e)?
        b=this.streamMetrics[e]:(b=this.system.getObject("metrics"),this.streamMetrics[e]=b),b},addTcpConnection:function(e,b,d,c,h,f){var k=new MediaPlayer.vo.metrics.TCPConnection;return k.tcpid=b,k.dest=d,k.topen=c,k.tclose=h,k.tconnect=f,this.getMetricsFor(e).TcpList.push(k),this.metricAdded(e,this.adapter.metricsList.TCP_CONNECTION,k),k},addHttpRequest:function(e,b,d,c,h,f,k,g,m,l,n,p){var q=new MediaPlayer.vo.metrics.HTTPRequest;return h&&h!==c&&(this.addHttpRequest(e,null,d,c,null,f,k,null,null,null,
        n,null),q.actualurl=h),q.stream=e,q.tcpid=b,q.type=d,q.url=c,q.range=f,q.trequest=k,q.tresponse=g,q.tfinish=m,q.responsecode=l,q.mediaduration=n,q.responseHeaders=p,this.getMetricsFor(e).HttpList.push(q),this.metricAdded(e,this.adapter.metricsList.HTTP_REQUEST,q),q},appendHttpTrace:function(e,b,d,c){var h=new MediaPlayer.vo.metrics.HTTPRequest.Trace;return h.s=b,h.d=d,h.b=c,e.trace.push(h),e.interval||(e.interval=0),e.interval+=d,this.metricUpdated(e.stream,this.adapter.metricsList.HTTP_REQUEST_TRACE,
        e),h},addRepresentationSwitch:function(e,b,d,c,h){var f=new MediaPlayer.vo.metrics.RepresentationSwitch;return f.t=b,f.mt=d,f.to=c,f.lto=h,this.getMetricsFor(e).RepSwitchList.push(f),this.metricAdded(e,this.adapter.metricsList.TRACK_SWITCH,f),f},addBufferLevel:function(e,b,d){var c=new MediaPlayer.vo.metrics.BufferLevel;return c.t=b,c.level=d,this.getMetricsFor(e).BufferLevel.push(c),this.metricAdded(e,this.adapter.metricsList.BUFFER_LEVEL,c),c},addBufferState:function(e,b,d){var c=new MediaPlayer.vo.metrics.BufferState;
        return c.target=d,c.state=b,this.getMetricsFor(e).BufferState.push(c),this.metricAdded(e,this.adapter.metricsList.BUFFER_STATE,c),c},addDVRInfo:function(e,b,d,c){var h=new MediaPlayer.vo.metrics.DVRInfo;return h.time=b,h.range=c,h.manifestInfo=d,this.getMetricsFor(e).DVRInfo.push(h),this.metricAdded(e,this.adapter.metricsList.DVR_INFO,h),h},addDroppedFrames:function(e,b){var d=new MediaPlayer.vo.metrics.DroppedFrames,c=this.getMetricsFor(e).DroppedFrames;return d.time=b.creationTime,d.droppedFrames=
        b.droppedVideoFrames,0<c.length&&c[c.length-1]==d?c[c.length-1]:(c.push(d),this.metricAdded(e,this.adapter.metricsList.DROPPED_FRAMES,d),d)},addSchedulingInfo:function(e,b,d,c,h,f,k,g,m){var l=new MediaPlayer.vo.metrics.SchedulingInfo;return l.mediaType=e,l.t=b,l.type=d,l.startTime=c,l.availabilityStartTime=h,l.duration=f,l.quality=k,l.range=g,l.state=m,this.getMetricsFor(e).SchedulingInfo.push(l),this.metricAdded(e,this.adapter.metricsList.SCHEDULING_INFO,l),l},addRequestsQueue:function(e,b,d,c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     h){var f=new MediaPlayer.vo.metrics.RequestsQueue;f.pendingRequests=b;f.loadingRequests=d;f.executedRequests=c;f.rejectedRequests=h;this.getMetricsFor(e).RequestsQueue=f;this.metricAdded(e,this.adapter.metricsList.REQUESTS_QUEUE,f)},addManifestUpdate:function(e,b,d,c,h,f,k,g,m,l){var n=new MediaPlayer.vo.metrics.ManifestUpdate,p=this.getMetricsFor("stream");return n.mediaType=e,n.type=b,n.requestTime=d,n.fetchTime=c,n.availabilityStartTime=h,n.presentationStartTime=f,n.clientTimeOffset=k,n.currentTime=
        g,n.buffered=m,n.latency=l,p.ManifestUpdate.push(n),this.metricAdded(e,this.adapter.metricsList.MANIFEST_UPDATE,n),n},updateManifestUpdateInfo:function(e,b){if(e){for(var d in b)e[d]=b[d];this.metricUpdated(e.mediaType,this.adapter.metricsList.MANIFEST_UPDATE,e)}},addManifestUpdateStreamInfo:function(e,b,d,c,h){if(e){var f=new MediaPlayer.vo.metrics.ManifestUpdate.StreamInfo;return f.id=b,f.index=d,f.start=c,f.duration=h,e.streamInfo.push(f),this.metricUpdated(e.mediaType,this.adapter.metricsList.MANIFEST_UPDATE_STREAM_INFO,
        e),f}return null},addManifestUpdateRepresentationInfo:function(e,b,d,c,h,f,k,g){if(e){var m=new MediaPlayer.vo.metrics.ManifestUpdate.TrackInfo;return m.id=b,m.index=d,m.streamIndex=c,m.mediaType=h,m.startNumber=k,m.fragmentInfoType=g,m.presentationTimeOffset=f,e.trackInfo.push(m),this.metricUpdated(e.mediaType,this.adapter.metricsList.MANIFEST_UPDATE_TRACK_INFO,e),m}return null},addPlayList:function(e,b,d,c){var h=new MediaPlayer.vo.metrics.PlayList;return h.stream=e,h.start=b,h.mstart=d,h.starttype=
        c,this.getMetricsFor(e).PlayList.push(h),this.metricAdded(e,this.adapter.metricsList.PLAY_LIST,h),h},appendPlayListTrace:function(e,b,d,c,h,f,k,g){var m=new MediaPlayer.vo.metrics.PlayList.Trace;return m.representationid=b,m.subreplevel=d,m.start=c,m.mstart=h,m.duration=f,m.playbackspeed=k,m.stopreason=g,e.trace.push(m),this.metricUpdated(e.stream,this.adapter.metricsList.PLAY_LIST_TRACE,e),m}}};MediaPlayer.models.MetricsModel.prototype={constructor:MediaPlayer.models.MetricsModel};
MediaPlayer.models.ProtectionModel=function(){};
MediaPlayer.models.ProtectionModel.eventList={ENAME_NEED_KEY:"needkey",ENAME_KEY_SYSTEM_ACCESS_COMPLETE:"keySystemAccessComplete",ENAME_KEY_SYSTEM_SELECTED:"keySystemSelected",ENAME_VIDEO_ELEMENT_SELECTED:"videoElementSelected",ENAME_SERVER_CERTIFICATE_UPDATED:"serverCertificateUpdated",ENAME_KEY_MESSAGE:"keyMessage",ENAME_KEY_ADDED:"keyAdded",ENAME_KEY_ERROR:"keyError",ENAME_KEY_SESSION_CREATED:"keySessionCreated",ENAME_KEY_SESSION_REMOVED:"keySessionRemoved",ENAME_KEY_SESSION_CLOSED:"keySessionClosed",
    ENAME_KEY_STATUSES_CHANGED:"keyStatusesChanged",ENAME_TEARDOWN_COMPLETE:"protectionTeardownComplete"};
MediaPlayer.models.ProtectionModel_01b=function(){var e,b=null,d=null,c=[],h=[],f=function(){var b=this;return{handleEvent:function(f){var k=null;switch(f.type){case d.needkey:f=ArrayBuffer.isView(f.initData)?f.initData.buffer:f.initData;b.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_NEED_KEY,new MediaPlayer.vo.protection.NeedKey(f,"cenc"));break;case d.keyerror:if(k=g(h,f.sessionId),k||(k=g(c,f.sessionId)),k){var m="";switch(f.errorCode.code){case 1:m+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";
        break;case 2:m+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:m+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:m+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:m+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:m+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain."}m+=
        "  System Code = "+f.systemCode;b.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_ERROR,new MediaPlayer.vo.protection.KeyError(k,m))}else b.log("No session token found for key error");break;case d.keyadded:(k=g(h,f.sessionId))||(k=g(c,f.sessionId));k?b.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_ADDED,k):b.log("No session token found for key added");break;case d.keymessage:(e=null!==f.sessionId&&void 0!==f.sessionId,e?(k=g(h,f.sessionId),!k&&0<c.length&&(k=c.shift(),
        h.push(k),k.sessionID=f.sessionId)):0<c.length&&(k=c.shift(),h.push(k),0!==c.length&&b.errHandler.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!")),k)?(m=ArrayBuffer.isView(f.message)?f.message.buffer:f.message,k.keyMessage=m,b.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_MESSAGE,new MediaPlayer.vo.protection.KeyMessage(k,m,f.defaultURL))):b.log("No session token found for key message")}}}},
    k=null,g=function(b,c){if(c&&b)for(var d=b.length,e=0;d>e;e++)if(b[e].sessionID==c)return b[e];return null},m=function(){b.removeEventListener(d.keyerror,k);b.removeEventListener(d.needkey,k);b.removeEventListener(d.keymessage,k);b.removeEventListener(d.keyadded,k)};return{system:void 0,log:void 0,errHandler:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,protectionExt:void 0,keySystem:null,setup:function(){k=f.call(this)},init:function(){var b=document.createElement("video");d=MediaPlayer.models.ProtectionModel_01b.detect(b)},
    teardown:function(){b&&m();for(var c=0;c<h.length;c++)this.closeKeySession(h[c]);this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_TEARDOWN_COMPLETE)},getAllInitData:function(){var b,d=[];for(b=0;b<c.length;b++)d.push(c[b].initData);for(b=0;b<h.length;b++)d.push(h[b].initData);return d},requestKeySystemAccess:function(c){var d=b;d||(d=document.createElement("video"));for(var e=!1,f=0;f<c.length;f++)for(var g=c[f].ks.systemString,h=c[f].configs,k=null,m=0;m<h.length;m++){var u=h[m].videoCapabilities;
        if(u&&0!==u.length)for(var k=[],y=0;y<u.length;y++)""!==d.canPlayType(u[y].contentType,g)&&k.push(u[y]);if(k&&(!k||0!==k.length)){e=!0;h=new MediaPlayer.vo.protection.KeySystemConfiguration(null,k);g=this.protectionExt.getKeySystemBySystemString(g);g=new MediaPlayer.vo.protection.KeySystemAccess(g,h);this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_ACCESS_COMPLETE,g);break}}e||this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_ACCESS_COMPLETE,null,"Key system access denied! -- No valid audio/video content configurations detected!")},
    selectKeySystem:function(b){this.keySystem=b.keySystem;this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_SELECTED)},setMediaElement:function(c){b!==c&&(b&&m(),b=c,b&&(b.addEventListener(d.keyerror,k),b.addEventListener(d.needkey,k),b.addEventListener(d.keymessage,k),b.addEventListener(d.keyadded,k),this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_VIDEO_ELEMENT_SELECTED)))},createKeySession:function(f){if(!this.keySystem)throw Error("Can not create sessions until you have selected a key system");
        if(e||0===h.length){var g={sessionID:null,initData:f,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return c.push(g),b[d.generateKeyRequest](this.keySystem.systemString,new Uint8Array(f)),g}throw Error("Multiple sessions not allowed!");},updateKeySession:function(c,e){var f=c.sessionID;if(this.protectionExt.isClearKey(this.keySystem))for(var g=0;g<e.keyPairs.length;g++)b[d.addKey](this.keySystem.systemString,e.keyPairs[g].key,
        e.keyPairs[g].keyID,f);else b[d.addKey](this.keySystem.systemString,new Uint8Array(e),c.initData,f)},closeKeySession:function(c){b[d.cancelKeyRequest](this.keySystem.systemString,c.sessionID)},setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){}}};MediaPlayer.models.ProtectionModel_01b.prototype={constructor:MediaPlayer.models.ProtectionModel_01b};
MediaPlayer.models.ProtectionModel_01b.APIs=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}];
MediaPlayer.models.ProtectionModel_01b.detect=function(e){for(var b=MediaPlayer.models.ProtectionModel_01b.APIs,d=0;d<b.length;d++){var c=b[d];if("function"==typeof e[c.generateKeyRequest]&&"function"==typeof e[c.addKey]&&"function"==typeof e[c.cancelKeyRequest])return c}return null};
MediaPlayer.models.ProtectionModel_21Jan2015=function(){var e=null,b=null,d=[],c=function(b,d){var e=this;!function(d){var f=b[d].ks;navigator.requestMediaKeySystemAccess(f.systemString,b[d].configs).then(function(b){var c="function"==typeof b.getConfiguration?b.getConfiguration():null,c=new MediaPlayer.vo.protection.KeySystemAccess(f,c);c.mksa=b;e.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_ACCESS_COMPLETE,c)})["catch"](function(){++d<b.length?c.call(e,b,d):e.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_ACCESS_COMPLETE,
    null,"Key system access denied!")})}(d)},h=function(b){var c=b.session;return c.removeEventListener("keystatuseschange",b),c.removeEventListener("message",b),c.close()},f=function(){var b=this;return{handleEvent:function(c){switch(c.type){case "encrypted":if(c.initData){var d=ArrayBuffer.isView(c.initData)?c.initData.buffer:c.initData;b.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_NEED_KEY,new MediaPlayer.vo.protection.NeedKey(d,c.initDataType))}}}}},k=null,g=function(b){for(var c=0;c<
d.length;c++)if(d[c]===b){d.splice(c,1);break}},m=function(b,c,e){var f=this,h={session:b,initData:c,handleEvent:function(b){switch(b.type){case "keystatuseschange":f.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_STATUSES_CHANGED,this);break;case "message":var c=ArrayBuffer.isView(b.message)?b.message.buffer:b.message;f.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_MESSAGE,new MediaPlayer.vo.protection.KeyMessage(this,c,void 0,b.messageType))}},getSessionID:function(){return this.session.sessionId},
    getExpirationTime:function(){return this.session.expiration},getKeyStatuses:function(){return this.session.keyStatuses},getSessionType:function(){return e}};return b.addEventListener("keystatuseschange",h),b.addEventListener("message",h),b.closed.then(function(){g(h);f.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CLOSED,h.getSessionID())}),d.push(h),h};return{system:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,protectionExt:void 0,keySystem:null,setup:function(){k=
    f.call(this)},init:function(){},teardown:function(){var b,c=d.length,f=this;if(0!==c)for(var m=function(b){g(b);0===d.length&&(e?(e.removeEventListener("encrypted",k),e.setMediaKeys(null).then(function(){f.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_TEARDOWN_COMPLETE)})):f.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_TEARDOWN_COMPLETE))},t=0;c>t;t++)b=d[t],function(c){b.session.closed.then(function(){m(c)});h(b)["catch"](function(){m(c)})}(b);else this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_TEARDOWN_COMPLETE)},
    getAllInitData:function(){for(var b=[],c=0;c<d.length;c++)b.push(d[c].initData);return b},requestKeySystemAccess:function(b){c.call(this,b,0)},selectKeySystem:function(c){var d=this;c.mksa.createMediaKeys().then(function(f){d.keySystem=c.keySystem;b=f;e&&e.setMediaKeys(b);d.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_SELECTED)})["catch"](function(){d.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_SELECTED,null,"Error selecting keys system ("+c.keySystem.systemString+
        ")! Could not create MediaKeys -- TODO")})},setMediaElement:function(c){e!==c&&(e&&(e.removeEventListener("encrypted",k),e.setMediaKeys(null)),e=c,e&&(e.addEventListener("encrypted",k),b&&e.setMediaKeys(b)))},setServerCertificate:function(c){if(!this.keySystem||!b)throw Error("Can not set server certificate until you have selected a key system");var d=this;b.setServerCertificate(c).then(function(){d.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_SERVER_CERTIFICATE_UPDATED)})["catch"](function(b){d.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_SERVER_CERTIFICATE_UPDATED,
        null,"Error updating server certificate -- "+b.name)})},createKeySession:function(c,d){if(!this.keySystem||!b)throw Error("Can not create sessions until you have selected a key system");var e=b.createSession(d),f=m.call(this,e,c,d),h=this;e.generateRequest("cenc",c).then(function(){h.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CREATED,f)})["catch"](function(b){g(f);h.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CREATED,null,"Error generating key request -- "+
        b.name)})},updateKeySession:function(b,c){var d=b.session,e=this;this.protectionExt.isClearKey(this.keySystem)&&(c=c.toJWK());d.update(c)["catch"](function(c){e.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_ERROR,new MediaPlayer.vo.protection.KeyError(b,"Error sending update() message! "+c.name))})},loadKeySession:function(c){if(!this.keySystem||!b)throw Error("Can not load sessions until you have selected a key system");var d=b.createSession(),e=this;d.load(c).then(function(b){b?
        (b=m.call(this,d),e.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CREATED,b)):e.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CREATED,null,"Could not load session! Invalid Session ID ("+c+")")})["catch"](function(b){e.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CREATED,null,"Could not load session ("+c+")! "+b.name)})},removeKeySession:function(b){var c=this;b.session.remove().then(function(){c.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_REMOVED,
        b.getSessionID())},function(d){c.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_REMOVED,null,"Error removing session ("+b.getSessionID()+"). "+d.name)})},closeKeySession:function(b){var c=this;h(b)["catch"](function(d){g(b);c.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CLOSED,null,"Error closing session ("+b.getSessionID()+") "+d.name)})}}};
MediaPlayer.models.ProtectionModel_21Jan2015.detect=function(e){return void 0===e.onencrypted||void 0===e.mediaKeys?!1:void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess?!1:!0};MediaPlayer.models.ProtectionModel_21Jan2015.prototype={constructor:MediaPlayer.models.ProtectionModel_21Jan2015};
MediaPlayer.models.ProtectionModel_3Feb2014=function(){var e=null,b=null,d=null,c=null,h=[],f=function(){var b=this;return{handleEvent:function(d){switch(d.type){case c.needkey:d.initData&&(d=ArrayBuffer.isView(d.initData)?d.initData.buffer:d.initData,b.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_NEED_KEY,new MediaPlayer.vo.protection.NeedKey(d,"cenc")))}}}},k=null,g=function(){var d=null,f=function(){e.removeEventListener("loadedmetadata",d);e[c.setMediaKeys](b);this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_VIDEO_ELEMENT_SELECTED)};
    1<=e.readyState?f.call(this):(d=f.bind(this),e.addEventListener("loadedmetadata",d))},m=function(b,d){var e=this;return{session:b,initData:d,handleEvent:function(b){switch(b.type){case c.error:e.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_ERROR,new MediaPlayer.vo.protection.KeyError(this,"KeyError"));break;case c.message:var d=ArrayBuffer.isView(b.message)?b.message.buffer:b.message;e.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_MESSAGE,new MediaPlayer.vo.protection.KeyMessage(this,
    d,b.destinationURL));break;case c.ready:e.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_ADDED,this);break;case c.close:e.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CLOSED,this.getSessionID())}},getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}}};return{system:void 0,notify:void 0,subscribe:void 0,unsubscribe:void 0,protectionExt:void 0,keySystem:null,setup:function(){k=
    f.call(this)},init:function(){var b=document.createElement("video");c=MediaPlayer.models.ProtectionModel_3Feb2014.detect(b)},teardown:function(){try{for(var b=0;b<h.length;b++)this.closeKeySession(h[b]);e&&e.removeEventListener(c.needkey,k);this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_TEARDOWN_COMPLETE)}catch(d){this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_TEARDOWN_COMPLETE,null,"Error tearing down key sessions and MediaKeys! -- "+d.message)}},getAllInitData:function(){for(var b=
    [],c=0;c<h.length;c++)b.push(h[c].initData);return b},requestKeySystemAccess:function(b){for(var d=!1,e=0;e<b.length;e++)for(var f=b[e].ks.systemString,g=b[e].configs,h=null,k=null,m=0;m<g.length;m++){var u=g[m].audioCapabilities,y=g[m].videoCapabilities;if(u&&0!==u.length)for(var h=[],x=0;x<u.length;x++)window[c.MediaKeys].isTypeSupported(f,u[x].contentType)&&h.push(u[x]);if(y&&0!==y.length)for(k=[],u=0;u<y.length;u++)window[c.MediaKeys].isTypeSupported(f,y[u].contentType)&&k.push(y[u]);if(!(!h&&
    !k||h&&0===h.length||k&&0===k.length)){d=!0;g=new MediaPlayer.vo.protection.KeySystemConfiguration(h,k);f=this.protectionExt.getKeySystemBySystemString(f);f=new MediaPlayer.vo.protection.KeySystemAccess(f,g);this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_ACCESS_COMPLETE,f);break}}d||this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_ACCESS_COMPLETE,null,"Key system access denied! -- No valid audio/video content configurations detected!")},selectKeySystem:function(f){try{b=
    f.mediaKeys=new window[c.MediaKeys](f.keySystem.systemString),this.keySystem=f.keySystem,d=f,e&&g.call(this),this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_SELECTED)}catch(h){this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SYSTEM_SELECTED,null,"Error selecting keys system ("+this.keySystem.systemString+")! Could not create MediaKeys -- TODO")}},setMediaElement:function(d){e!==d&&(e&&e.removeEventListener(c.needkey,k),e=d,e&&(e.addEventListener(c.needkey,
    k),b&&g.call(this)))},createKeySession:function(e){if(!this.keySystem||!b||!d)throw Error("Can not create sessions until you have selected a key system");var f=b.createSession(d.ksConfiguration.videoCapabilities[0].contentType,new Uint8Array(e));e=m.call(this,f,e);f.addEventListener(c.error,e);f.addEventListener(c.message,e);f.addEventListener(c.ready,e);f.addEventListener(c.close,e);h.push(e);this.notify(MediaPlayer.models.ProtectionModel.eventList.ENAME_KEY_SESSION_CREATED,e)},updateKeySession:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  c){var d=b.session;this.protectionExt.isClearKey(this.keySystem)?d.update(new Uint8Array(c.toJWK())):d.update(new Uint8Array(c))},closeKeySession:function(b){var d=b.session;d.removeEventListener(c.error,b);d.removeEventListener(c.message,b);d.removeEventListener(c.ready,b);d.removeEventListener(c.close,b);for(var e=0;e<h.length;e++)if(h[e]===b){h.splice(e,1);break}d[c.release]()},setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){}}};
MediaPlayer.models.ProtectionModel_3Feb2014.APIs=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];
MediaPlayer.models.ProtectionModel_3Feb2014.detect=function(e){for(var b=MediaPlayer.models.ProtectionModel_3Feb2014.APIs,d=0;d<b.length;d++){var c=b[d];if("function"==typeof e[c.setMediaKeys]&&"function"==typeof window[c.MediaKeys])return c}return null};MediaPlayer.models.ProtectionModel_3Feb2014.prototype={constructor:MediaPlayer.models.ProtectionModel_3Feb2014};
MediaPlayer.models.URIQueryAndFragmentModel=function(){var e=new MediaPlayer.vo.URIFragmentData,b=[],d=!1;return{parseURI:function(c){function h(b,c,d,e){b=e[0].split(/[=]/);return e.push({key:b[0],value:b[1]}),e.shift(),e}if(!c)return null;var f=[],k=new RegExp(/[#]/),g=new RegExp(/^(https:)?\/\//i),m=(new RegExp(/[?]/)).test(c),l=k.test(c);return d=g.test(c),c.split(/[?#]/).map(function(c,d,e){return 0<d&&(m&&0===b.length?b=e[d].split(/[&]/):l&&(f=e[d].split(/[&]/))),e}),0<b.length&&(b=b.reduce(h,
    null)),0<f.length&&(f=f.reduce(h,null),f.forEach(function(b){e[b.key]=b.value})),c},getURIFragmentData:function(){return e},getURIQueryData:function(){return b},isManifestHTTPS:function(){return d},reset:function(){e=new MediaPlayer.vo.URIFragmentData;b=[];d=!1}}};MediaPlayer.models.URIQueryAndFragmentModel.prototype={constructor:MediaPlayer.models.URIQueryAndFragmentModel};
MediaPlayer.models.VideoModel=function(){var e,b,d,c=[];return{system:void 0,play:function(){e.play()},pause:function(){e.pause()},isPaused:function(){return e.paused},getPlaybackRate:function(){return e.playbackRate},setPlaybackRate:function(b){!e||2>e.readyState||(e.playbackRate=b)},getCurrentTime:function(){return e.currentTime},setCurrentTime:function(b){if(e.currentTime!=b)try{e.currentTime=b}catch(c){0===e.readyState&&c.code===c.INVALID_STATE_ERR&&setTimeout(function(){e.currentTime=b},400)}},
    setStallState:function(b,d){if(d)null===b||e.seeking||(this.setPlaybackRate(0),!0!==c[b]&&(c.push(b),c[b]=!0));else if(null!==b){c[b]=!1;var k=c.indexOf(b);-1!==k&&c.splice(k,1);!1===0<c.length&&this.setPlaybackRate(1)}},listen:function(b,c){e.addEventListener(b,c,!1)},unlisten:function(b,c){e.removeEventListener(b,c,!1)},getElement:function(){return e},setElement:function(b){e=b},getVideoContainer:function(){return d},setVideoContainer:function(b){d=b},getTTMLRenderingDiv:function(){return b},setTTMLRenderingDiv:function(c){b=
        c;b.style.position="absolute";b.style.display="flex";b.style.overflow="hidden";b.style.pointerEvents="none";b.style.top=0;b.style.left=0},setSource:function(b){e.src=b}}};MediaPlayer.models.VideoModel.prototype={constructor:MediaPlayer.models.VideoModel};
MediaPlayer.dependencies.protection.CommonEncryption={findCencContentProtection:function(e){for(var b=null,d=0;d<e.length;++d){var c=e[d];"urn:mpeg:dash:mp4protection:2011"===c.schemeIdUri.toLowerCase()&&"cenc"===c.value.toLowerCase()&&(b=c)}return b},getPSSHData:function(e){var b=8,d=new DataView(e),c=d.getUint8(b);return b+=20,0<c&&(b+=4+16*d.getUint32(b)),b+=4,e.slice(b)},getPSSHForKeySystem:function(e,b){var d=MediaPlayer.dependencies.protection.CommonEncryption.parsePSSHList(b);return d.hasOwnProperty(e.uuid.toLowerCase())?
    d[e.uuid.toLowerCase()]:null},parseInitDataFromContentProtection:function(e){return"pssh"in e?BASE64.decodeArray(e.pssh.__text).buffer:null},parsePSSHList:function(e){if(null===e)return[];e=new DataView(e);for(var b={},d=0;;){var c,h,f,k,g=d;if(d>=e.buffer.byteLength)break;if(c=e.getUint32(d),h=d+c,d+=4,1886614376===e.getUint32(d))if(d+=4,f=e.getUint8(d),0===f||1===f){d+=1;d+=3;k="";var m,l;for(m=0;4>m;m++)l=e.getUint8(d+m).toString(16),k+=1===l.length?"0"+l:l;d+=4;k+="-";for(m=0;2>m;m++)l=e.getUint8(d+
    m).toString(16),k+=1===l.length?"0"+l:l;d+=2;k+="-";for(m=0;2>m;m++)l=e.getUint8(d+m).toString(16),k+=1===l.length?"0"+l:l;d+=2;k+="-";for(m=0;2>m;m++)l=e.getUint8(d+m).toString(16),k+=1===l.length?"0"+l:l;d+=2;k+="-";for(m=0;6>m;m++)l=e.getUint8(d+m).toString(16),k+=1===l.length?"0"+l:l;d+=6;k=k.toLowerCase();e.getUint32(d);b[k]=e.buffer.slice(g,h)}d=h}return b}};MediaPlayer.dependencies.protection.KeySystem=function(){};MediaPlayer.dependencies.protection.KeySystem_Access=function(){};
MediaPlayer.dependencies.protection.KeySystem_Access.prototype={constructor:MediaPlayer.dependencies.protection.KeySystem_Access};
MediaPlayer.dependencies.protection.KeySystem_ClearKey=function(){return{system:void 0,schemeIdURI:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",systemString:"org.w3.clearkey",uuid:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",getInitData:MediaPlayer.dependencies.protection.CommonEncryption.parseInitDataFromContentProtection,getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null}}};
MediaPlayer.dependencies.protection.KeySystem_ClearKey.prototype={constructor:MediaPlayer.dependencies.protection.KeySystem_ClearKey};
MediaPlayer.dependencies.protection.KeySystem_ClearKey.getClearKeysFromProtectionData=function(e,b){var d=null;if(e){for(var d=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(b))),c=[],h=0;h<d.kids.length;h++){var f=d.kids[h],k=e.clearkeys.hasOwnProperty(f)?e.clearkeys[f]:null;if(!k)throw Error("DRM: ClearKey keyID ("+f+") is not known!");c.push(new MediaPlayer.vo.protection.KeyPair(f,k))}d=new MediaPlayer.vo.protection.ClearKeyKeySet(c)}return d};
MediaPlayer.dependencies.protection.KeySystem_PlayReady=function(){var e="utf16";return{schemeIdURI:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",systemString:"com.microsoft.playready",uuid:"9a04f079-9840-4286-ab92-e65be0885f95",getInitData:function(b){var d,c,e,f,k,g=0,m=new Uint8Array([112,115,115,104,0,0,0,0]),l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),n=null;if("pssh"in b)return MediaPlayer.dependencies.protection.CommonEncryption.parseInitDataFromContentProtection(b);
    if("pro"in b)n=BASE64.decodeArray(b.pro.__text);else{if(!("prheader"in b))return null;n=BASE64.decodeArray(b.prheader.__text)}return d=n.length,c=4+m.length+l.length+4+d,e=new ArrayBuffer(c),f=new Uint8Array(e),k=new DataView(e),k.setUint32(g,c),g+=4,f.set(m,g),g+=m.length,f.set(l,g),g+=l.length,k.setUint32(g,d),g+=4,f.set(n,g),f.buffer},getRequestHeadersFromMessage:function(b){var d={},c=new DOMParser;b="utf16"===e?new Uint16Array(b):new Uint8Array(b);b=String.fromCharCode.apply(null,b);b=c.parseFromString(b,
    "application/xml");c=b.getElementsByTagName("name");b=b.getElementsByTagName("value");for(var h=0;h<c.length;h++)d[c[h].childNodes[0].nodeValue]=b[h].childNodes[0].nodeValue;return d.hasOwnProperty("Content")&&(d["Content-Type"]=d.Content,delete d.Content),d},getLicenseRequestFromMessage:function(b){var d,c,h=new DOMParser,f=null;b="utf16"===e?new Uint16Array(b):new Uint8Array(b);(d=String.fromCharCode.apply(null,b),c=h.parseFromString(d,"application/xml"),c.getElementsByTagName("Challenge")[0])&&
(d=c.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue)&&(f=BASE64.decode(d));return f},getLicenseServerURLFromInitData:function(b){if(b)for(var d=new DataView(b),c=d.getUint16(4,!0),e=6,f=new DOMParser,k=0;c>k;k++){var g=d.getUint16(e,!0),e=e+2,m=d.getUint16(e,!0);if(e+=2,1===g){g=b.slice(e,e+m);g=String.fromCharCode.apply(null,new Uint16Array(g));g=f.parseFromString(g,"application/xml");if(g.getElementsByTagName("LA_URL")[0]&&(m=g.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue))return m;
    if(g.getElementsByTagName("LUI_URL")[0]&&(g=g.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue))return g}else e+=m}return null},setPlayReadyMessageFormat:function(b){if("utf8"!==b&&"utf16"!==b)throw Error("Illegal PlayReady message format! -- "+b);e=b}}};MediaPlayer.dependencies.protection.KeySystem_PlayReady.prototype={constructor:MediaPlayer.dependencies.protection.KeySystem_PlayReady};
MediaPlayer.dependencies.protection.KeySystem_Widevine=function(){return{schemeIdURI:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",systemString:"com.widevine.alpha",uuid:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",getInitData:MediaPlayer.dependencies.protection.CommonEncryption.parseInitDataFromContentProtection,getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null}}};
MediaPlayer.dependencies.protection.KeySystem_Widevine.prototype={constructor:MediaPlayer.dependencies.protection.KeySystem_Widevine};
MediaPlayer.dependencies.protection.servers.ClearKey=function(){return{getServerURLFromMessage:function(e,b){var d=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(b)));e+="/?";for(var c=0;c<d.kids.length;c++)e+=d.kids[c]+"&";return e.substring(0,e.length-1)},getHTTPMethod:function(){return"GET"},getResponseType:function(){return"json"},getLicenseMessage:function(e){if(!e.hasOwnProperty("keys"))return null;var b,d=[];for(b=0;b<e.keys.length;b++){var c=e.keys[b],h=c.kid.replace(/=/g,""),c=
    c.k.replace(/=/g,"");d.push(new MediaPlayer.vo.protection.KeyPair(h,c))}return new MediaPlayer.vo.protection.ClearKeyKeySet(d)},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}};MediaPlayer.dependencies.protection.servers.ClearKey.prototype={constructor:MediaPlayer.dependencies.protection.servers.ClearKey};
MediaPlayer.dependencies.protection.servers.DRMToday=function(){var e={"com.widevine.alpha":{responseType:"json",getLicenseMessage:function(b){return BASE64.decodeArray(b.license)},getErrorResponse:function(b){return b}},"com.microsoft.playready":{responseType:"arraybuffer",getLicenseMessage:function(b){return b},getErrorResponse:function(b){return String.fromCharCode.apply(null,new Uint8Array(b))}}};return{getServerURLFromMessage:function(b){return b},getHTTPMethod:function(){return"POST"},getResponseType:function(b){return e[b].responseType},
    getLicenseMessage:function(b,d){return e[d].getLicenseMessage(b)},getErrorResponse:function(b,d){return e[d].getErrorResponse(b)}}};MediaPlayer.dependencies.protection.servers.DRMToday.prototype={constructor:MediaPlayer.dependencies.protection.servers.DRMToday};MediaPlayer.dependencies.protection.servers.LicenseServer=function(){};
MediaPlayer.dependencies.protection.servers.PlayReady=function(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}};MediaPlayer.dependencies.protection.servers.PlayReady.prototype={constructor:MediaPlayer.dependencies.protection.servers.PlayReady};
MediaPlayer.dependencies.protection.servers.Widevine=function(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}};MediaPlayer.dependencies.protection.servers.Widevine.prototype={constructor:MediaPlayer.dependencies.protection.servers.Widevine};
MediaPlayer.rules.ABRRulesCollection=function(){var e=[],b=[];return{insufficientBufferRule:void 0,bufferOccupancyRule:void 0,throughputRule:void 0,abandonRequestRule:void 0,getRules:function(d){switch(d){case MediaPlayer.rules.ABRRulesCollection.prototype.QUALITY_SWITCH_RULES:return e;case MediaPlayer.rules.ABRRulesCollection.prototype.ABANDON_FRAGMENT_RULES:return b;default:return null}},setup:function(){e.push(this.insufficientBufferRule);e.push(this.throughputRule);e.push(this.bufferOccupancyRule);
    b.push(this.abandonRequestRule)}}};MediaPlayer.rules.ABRRulesCollection.prototype={constructor:MediaPlayer.rules.ABRRulesCollection,QUALITY_SWITCH_RULES:"qualitySwitchRules",ABANDON_FRAGMENT_RULES:"abandonFragmentRules"};
MediaPlayer.rules.AbandonRequestsRule=function(){var e={},b={};return{metricsExt:void 0,log:void 0,execute:function(d,c){var h,f=(new Date).getTime(),k=d.getMediaInfo(),g=k.type,m=d.getCurrentValue(),l=d.getTrackInfo(),n=m.data.request,p=d.getStreamProcessor().getABRController(),m=new MediaPlayer.rules.SwitchRequest(MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE,MediaPlayer.rules.SwitchRequest.prototype.WEAK);if(!isNaN(n.index)){var q=n.index;e[g]=e[g]||{};e[g][q]=e[g][q]||{};if(h=e[g][n.index],
    null===h||null===n.firstByteDate||b.hasOwnProperty(h.id))return void c(m);if(void 0===h.firstByteTime&&(h.firstByteTime=n.firstByteDate.getTime(),h.segmentDuration=n.duration,h.bytesTotal=n.bytesTotal,h.id=n.index),h.bytesLoaded=n.bytesLoaded,h.elapsedTime=f-h.firstByteTime,h.bytesLoaded<h.bytesTotal&&500<=h.elapsedTime){if(h.measuredBandwidthInKbps=Math.round(8*h.bytesLoaded/h.elapsedTime),h.estimatedTimeOfDownload=(.008*h.bytesTotal/h.measuredBandwidthInKbps).toFixed(2),h.estimatedTimeOfDownload<
    1.5*h.segmentDuration||0===l.quality)return void c(m);b.hasOwnProperty(h.id)||(f=p.getQualityForBitrate(k,h.measuredBandwidthInKbps*MediaPlayer.dependencies.AbrController.BANDWIDTH_SAFETY),m=new MediaPlayer.rules.SwitchRequest(f,MediaPlayer.rules.SwitchRequest.prototype.STRONG),b[h.id]=h,this.log("AbandonRequestsRule ( ",g,"frag id",h.id,") is asking to abandon and switch to quality to ",f," measured bandwidth was",h.measuredBandwidthInKbps),delete e[g][h.id])}else h.bytesLoaded===h.bytesTotal&&delete e[g][h.id]}c(m)},
    reset:function(){e={};b={}}}};MediaPlayer.rules.AbandonRequestsRule.prototype={constructor:MediaPlayer.rules.AbandonRequestsRule};
MediaPlayer.rules.BufferOccupancyRule=function(){var e=0;return{log:void 0,metricsModel:void 0,execute:function(b,d){var c=(new Date).getTime()/1E3,h=b.getMediaInfo(),f=b.getTrackInfo(),k=h.type,f=isNaN(f.fragmentDuration)?2:f.fragmentDuration/2,g=b.getCurrentValue(),m=b.getStreamProcessor().getABRController(),l=this.metricsModel.getReadOnlyMetricsFor(k),n=0<l.BufferLevel.length?l.BufferLevel[l.BufferLevel.length-1]:null,l=0<l.BufferState.length?l.BufferState[l.BufferState.length-1]:null,p=!1,q=h.representationCount-
    1,t=new MediaPlayer.rules.SwitchRequest(MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE,MediaPlayer.rules.SwitchRequest.prototype.WEAK);return f>c-e||m.getAbandonmentStateFor(k)===MediaPlayer.dependencies.AbrController.ABANDON_LOAD?void d(t):(null!==n&&null!==l&&n.level>l.target&&(p=n.level-l.target>MediaPlayer.dependencies.BufferController.RICH_BUFFER_THRESHOLD,p&&1<h.representationCount&&(t=new MediaPlayer.rules.SwitchRequest(q,MediaPlayer.rules.SwitchRequest.prototype.STRONG))),t.value!==MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE&&
t.value!==g&&this.log("BufferOccupancyRule requesting switch to index: ",t.value,"type: ",k," Priority: ",t.priority===MediaPlayer.rules.SwitchRequest.prototype.DEFAULT?"Default":t.priority===MediaPlayer.rules.SwitchRequest.prototype.STRONG?"Strong":"Weak"),void d(t))},reset:function(){e=0}}};MediaPlayer.rules.BufferOccupancyRule.prototype={constructor:MediaPlayer.rules.BufferOccupancyRule};
MediaPlayer.rules.InsufficientBufferRule=function(){var e={},b=0,d=function(){e={}};return{log:void 0,metricsModel:void 0,playbackController:void 0,setup:function(){this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING]=d},execute:function(c,d){var f=(new Date).getTime(),k=c.getMediaInfo().type,g=c.getCurrentValue(),m=this.metricsModel.getReadOnlyMetricsFor(k),l=0<m.BufferState.length?m.BufferState[m.BufferState.length-1]:null,m=new MediaPlayer.rules.SwitchRequest(MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE,
    MediaPlayer.rules.SwitchRequest.prototype.WEAK);if(1E3>f-b||null===l)f=void d(m);else{var n=l.state;e[k]=e[k]||{};e[k].state=n;n!==MediaPlayer.dependencies.BufferController.BUFFER_LOADED||e[k].firstBufferLoadedEvent||(e[k].firstBufferLoadedEvent=!0);f=(l.state===MediaPlayer.dependencies.BufferController.BUFFER_EMPTY&&void 0!==e[k].firstBufferLoadedEvent&&(m=new MediaPlayer.rules.SwitchRequest(0,MediaPlayer.rules.SwitchRequest.prototype.STRONG)),m.value!==MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE&&
m.value!==g&&this.log("InsufficientBufferRule requesting switch to index: ",m.value,"type: ",k," Priority: ",m.priority===MediaPlayer.rules.SwitchRequest.prototype.DEFAULT?"Default":m.priority===MediaPlayer.rules.SwitchRequest.prototype.STRONG?"Strong":"Weak"),b=f,void d(m))}return f},reset:function(){e={};b=0}}};MediaPlayer.rules.InsufficientBufferRule.prototype={constructor:MediaPlayer.rules.InsufficientBufferRule};
MediaPlayer.rules.ThroughputRule=function(){var e=[],b=0,d=function(b,d){var f=0,k=d?2:3,g=e[b],m=g.length;if(k=k>m?m:k,0<m){for(var f=0,l=m-k;m>l;l++)f+=g[l];f/=k}return g.length>k&&g.shift(),f*MediaPlayer.dependencies.AbrController.BANDWIDTH_SAFETY/1E3};return{log:void 0,metricsExt:void 0,metricsModel:void 0,manifestExt:void 0,manifestModel:void 0,execute:function(c,h){var f,k;f=(new Date).getTime()/1E3;var g=c.getMediaInfo(),m=g.type,l=c.getCurrentValue(),n=c.getTrackInfo(),p=this.metricsModel.getReadOnlyMetricsFor(m),
    q=c.getStreamProcessor(),t=q.getABRController(),q=q.isDynamic(),r=this.metricsExt.getCurrentHttpRequest(p),w=isNaN(n.fragmentDuration)?2:n.fragmentDuration/2,n=0<p.BufferState.length?p.BufferState[p.BufferState.length-1]:null,v=0<p.BufferLevel.length?p.BufferLevel[p.BufferLevel.length-1]:null,u=new MediaPlayer.rules.SwitchRequest(MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE,MediaPlayer.rules.SwitchRequest.prototype.WEAK);if(w>f-b||!p||null===r||r.type!==MediaPlayer.vo.metrics.HTTPRequest.MEDIA_SEGMENT_TYPE||
    null===n||null===v)return void h(u);f=(r.tfinish.getTime()-r.tresponse.getTime())/1E3;r.trace.length&&(f=Math.round(8*r.trace[r.trace.length-1].b/f),e[m]=e[m]||[],f!==1/0&&f!==e[m][e[m].length-1]&&e[m].push(f));if(k=Math.round(d(m,q)),t.setAverageThroughput(m,k),t.getAbandonmentStateFor(m)!==MediaPlayer.dependencies.AbrController.ABANDON_LOAD)n.state===MediaPlayer.dependencies.BufferController.BUFFER_LOADED&&(v.level>=2*MediaPlayer.dependencies.BufferController.LOW_BUFFER_THRESHOLD||q)&&(g=t.getQualityForBitrate(g,
    k),u=new MediaPlayer.rules.SwitchRequest(g,MediaPlayer.rules.SwitchRequest.prototype.DEFAULT)),u.value!==MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE&&u.value!==l&&this.log("ThroughputRule requesting switch to index: ",u.value,"type: ",m," Priority: ",u.priority===MediaPlayer.rules.SwitchRequest.prototype.DEFAULT?"Default":u.priority===MediaPlayer.rules.SwitchRequest.prototype.STRONG?"Strong":"Weak","Average throughput",Math.round(k),"kbps");h(u)},reset:function(){e=[];b=0}}};
MediaPlayer.rules.ThroughputRule.prototype={constructor:MediaPlayer.rules.ThroughputRule};MediaPlayer.rules.RulesContext=function(e,b){var d=e.getCurrentRepresentationInfo();return{getStreamInfo:function(){return d.mediaInfo.streamInfo},getMediaInfo:function(){return d.mediaInfo},getTrackInfo:function(){return d},getCurrentValue:function(){return b},getManifestInfo:function(){return d.mediaInfo.streamInfo.manifestInfo},getStreamProcessor:function(){return e}}};
MediaPlayer.rules.RulesContext.prototype={constructor:MediaPlayer.rules.RulesContext};
MediaPlayer.rules.RulesController=function(){var e={},b=["execute"],d=function(c){var d=b.length,e=0;for(e;d>e;e+=1)if(!c.hasOwnProperty(b[e]))return!1;return!0},c=function(b){var c=b.execute.bind(b);return b.execute=function(d,e){c(d,function(c){e.call(b,new MediaPlayer.rules.SwitchRequest(c.value,c.priority))})},"function"!=typeof b.reset&&(b.reset=function(){}),b},h=function(b,e,g){var h,l,n,p,q,t;for(l in e)if(p=e[l],q=p.length)for(t=0;q>t;t+=1)h=p[t],d.call(this,h)&&(h=c.call(this,h),n=b.getRules(l),
g&&(g=!1,n.length=0),this.system.injectInto(h),n.push(h))};return{system:void 0,log:void 0,SCHEDULING_RULE:0,ABR_RULE:1,SYNC_RULE:2,initialize:function(){e[this.ABR_RULE]=this.system.getObject("abrRulesCollection");e[this.SCHEDULING_RULE]=this.system.getObject("scheduleRulesCollection");e[this.SYNC_RULE]=this.system.getObject("synchronizationRulesCollection")},setRules:function(b,c){(b===this.SCHEDULING_RULE||b===this.ABR_RULE)&&c&&h.call(this,e[b],c,!0)},addRules:function(b,c){(b===this.SCHEDULING_RULE||
b===this.ABR_RULE)&&c&&h.call(this,e[b],c,!1)},applyRules:function(b,c,e,h,l){var n,p=b.length,q=p,t={},r=new MediaPlayer.rules.RulesContext(c,h),w=function(b){var c,d;b.value!==MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE&&(t[b.priority]=l(t[b.priority],b.value));--p||(t[MediaPlayer.rules.SwitchRequest.prototype.WEAK]!==MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE&&(d=MediaPlayer.rules.SwitchRequest.prototype.WEAK,c=t[MediaPlayer.rules.SwitchRequest.prototype.WEAK]),t[MediaPlayer.rules.SwitchRequest.prototype.DEFAULT]!==
MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE&&(d=MediaPlayer.rules.SwitchRequest.prototype.DEFAULT,c=t[MediaPlayer.rules.SwitchRequest.prototype.DEFAULT]),t[MediaPlayer.rules.SwitchRequest.prototype.STRONG]!==MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE&&(d=MediaPlayer.rules.SwitchRequest.prototype.STRONG,c=t[MediaPlayer.rules.SwitchRequest.prototype.STRONG]),d!=MediaPlayer.rules.SwitchRequest.prototype.STRONG&&d!=MediaPlayer.rules.SwitchRequest.prototype.WEAK&&(d=MediaPlayer.rules.SwitchRequest.prototype.DEFAULT),
    e({value:void 0!==c?c:h,confidence:d}))};t[MediaPlayer.rules.SwitchRequest.prototype.STRONG]=MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE;t[MediaPlayer.rules.SwitchRequest.prototype.WEAK]=MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE;t[MediaPlayer.rules.SwitchRequest.prototype.DEFAULT]=MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE;for(n=0;q>n;n+=1)c=b[n],d.call(this,c)?c.execute(r,w):p--},reset:function(){var b,c;b=e[this.SCHEDULING_RULE];c=e[this.SYNC_RULE];var d=(e[this.ABR_RULE].getRules(MediaPlayer.rules.ABRRulesCollection.prototype.QUALITY_SWITCH_RULES)||
[]).concat(b.getRules(MediaPlayer.rules.ScheduleRulesCollection.prototype.NEXT_FRAGMENT_RULES)||[]).concat(b.getRules(MediaPlayer.rules.ScheduleRulesCollection.prototype.FRAGMENTS_TO_SCHEDULE_RULES)||[]).concat(b.getRules(MediaPlayer.rules.ScheduleRulesCollection.prototype.FRAGMENTS_TO_EXECUTE_RULES)||[]).concat(c.getRules(MediaPlayer.rules.SynchronizationRulesCollection.prototype.TIME_SYNCHRONIZED_RULES)||[]).concat(c.getRules(MediaPlayer.rules.SynchronizationRulesCollection.prototype.BEST_GUESS_RULES)||
    []),h=d.length;for(c=0;h>c;c+=1)b=d[c],"function"==typeof b.reset&&b.reset();e={}}}};MediaPlayer.rules.RulesController.prototype={constructor:MediaPlayer.rules.RulesController};
MediaPlayer.rules.BufferLevelRule=function(){var e={},b={},d={},c=function(b){b=this.metricsExt.getCurrentHttpRequest(b);return null!==b?(b.tresponse.getTime()-b.trequest.getTime())/1E3:0},h=function(b,d,e){var f=e.bufferController.getCriticalBufferLevel(),g=this.metricsModel.getReadOnlyMetricsFor("video"),h=this.metricsModel.getReadOnlyMetricsFor("audio"),k;k=e.bufferController.getMinBufferTime();var w=k=b?this.playbackController.getLiveDelay():isNaN(d)||MediaPlayer.dependencies.BufferController.DEFAULT_MIN_BUFFER_TIME<
d&&d>k?Math.max(MediaPlayer.dependencies.BufferController.DEFAULT_MIN_BUFFER_TIME,k):k>=d?Math.min(d,MediaPlayer.dependencies.BufferController.DEFAULT_MIN_BUFFER_TIME):Math.min(d,k),v=e.bufferController.bufferMax,u=0;return v===MediaPlayer.dependencies.BufferController.BUFFER_SIZE_MIN?u=k:v===MediaPlayer.dependencies.BufferController.BUFFER_SIZE_INFINITY?u=d:v===MediaPlayer.dependencies.BufferController.BUFFER_SIZE_REQUIRED&&(!b&&this.abrController.isPlayingAtTopQuality(e.streamProcessor.getStreamInfo())&&
(w=MediaPlayer.dependencies.BufferController.BUFFER_TIME_AT_TOP_QUALITY),u=w+Math.max(c.call(this,g),c.call(this,h))),Math.min(u,f)},f=function(c){var d=c.data.fragmentModel.getContext().streamProcessor.getStreamInfo().id;b[d]=b[d]||{};b[d][c.data.request.mediaType]=!0},k=function(b){var c=b.sender.streamProcessor.getStreamInfo().id;e[c]=e[c]||{};e[c][b.sender.streamProcessor.getType()]=!0},g=function(b){var c=b.sender.streamProcessor.getStreamInfo().id;e[c]=e[c]||{};e[c][b.sender.streamProcessor.getType()]=
    !1};return{metricsExt:void 0,metricsModel:void 0,abrController:void 0,playbackController:void 0,mediaController:void 0,virtualBuffer:void 0,setup:function(){this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_OUTRUN]=k;this[MediaPlayer.dependencies.BufferController.eventList.ENAME_BUFFER_LEVEL_BALANCED]=g;this[MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED]=f},setScheduleController:function(b){var c=b.streamProcessor.getStreamInfo().id;d[c]=d[c]||
    {};d[c][b.streamProcessor.getType()]=b},execute:function(c,f){var g=c.getStreamInfo(),k=g.id,q=c.getMediaInfo(),t=q.type;if(e[k]&&e[k][t])return void f(new MediaPlayer.rules.SwitchRequest(0,MediaPlayer.rules.SwitchRequest.prototype.STRONG));var r=this.metricsModel.getReadOnlyMetricsFor(t),w=this.mediaController.getSwitchMode(),v=this.metricsExt.getCurrentBufferLevel(r)?this.metricsExt.getCurrentBufferLevel(r).level:0,u=this.playbackController.getTime(),q=(q=this.virtualBuffer.getChunks({streamId:k,
    mediaType:t,appended:!0,mediaInfo:q,forRange:{start:u,end:u+v}}))&&0<q.length?q[q.length-1].bufferedRange.end-u:null,y=w===MediaPlayer.dependencies.MediaController.trackSwitchModes.NEVER_REPLACE?v:q||0,w=d[k][t],q=w.streamProcessor.getCurrentRepresentationInfo(),v=w.streamProcessor.isDynamic(),r=this.metricsExt.getCurrentPlaybackRate(r),g=g.manifestInfo.duration,r=y/Math.max(r,1),q=q.fragmentDuration,u=v?Number.POSITIVE_INFINITY:g-u,g=Math.min(h.call(this,v,g,w),u),g=Math.ceil(Math.max(g-r,0)/q);
    r>=u&&(!b[k]||!b[k][t])&&(g=g||1);f(new MediaPlayer.rules.SwitchRequest(g,MediaPlayer.rules.SwitchRequest.prototype.DEFAULT))},reset:function(){e={};b={};d={}}}};MediaPlayer.rules.BufferLevelRule.prototype={constructor:MediaPlayer.rules.BufferLevelRule};
MediaPlayer.rules.PendingRequestsRule=function(){var e={};return{metricsExt:void 0,setScheduleController:function(b){var d=b.streamProcessor.getStreamInfo().id;e[d]=e[d]||{};e[d][b.streamProcessor.getType()]=b},execute:function(b,d){var c=b.getMediaInfo().type,h=b.getStreamInfo().id,f=b.getCurrentValue(),c=e[h][c].getFragmentModel(),h=c.getRequests({state:[MediaPlayer.dependencies.FragmentModel.states.PENDING,MediaPlayer.dependencies.FragmentModel.states.LOADING]}),c=c.getRequests({state:MediaPlayer.dependencies.FragmentModel.states.REJECTED}).length,
    h=h.length,k=Math.max(f-h,0);return 0<c?void d(new MediaPlayer.rules.SwitchRequest(c,MediaPlayer.rules.SwitchRequest.prototype.DEFAULT)):3<h?void d(new MediaPlayer.rules.SwitchRequest(0,MediaPlayer.rules.SwitchRequest.prototype.DEFAULT)):0===f?void d(new MediaPlayer.rules.SwitchRequest(k,MediaPlayer.rules.SwitchRequest.prototype.NO_CHANGE)):void d(new MediaPlayer.rules.SwitchRequest(k,MediaPlayer.rules.SwitchRequest.prototype.DEFAULT))},reset:function(){e={}}}};
MediaPlayer.rules.PendingRequestsRule.prototype={constructor:MediaPlayer.rules.PendingRequestsRule};
MediaPlayer.rules.PlaybackTimeRule=function(){var e={},b={},d=function(b){setTimeout(function(){var d=b.data.seekTime;e.audio=d;e.video=d;e.fragmentedText=d},0)};return{adapter:void 0,sourceBufferExt:void 0,virtualBuffer:void 0,playbackController:void 0,textSourceBuffer:void 0,setup:function(){this[MediaPlayer.dependencies.PlaybackController.eventList.ENAME_PLAYBACK_SEEKING]=d},setScheduleController:function(c){var d=c.streamProcessor.getStreamInfo().id;b[d]=b[d]||{};b[d][c.streamProcessor.getType()]=
    c},execute:function(c,d){var f,k,g=c.getMediaInfo(),m=g.type,l=c.getStreamInfo().id,n=b[l][m],p=b[l][m].streamProcessor,q=p.getCurrentRepresentationInfo(),t=e?e[m]:null,r=void 0!==t&&null!==t,w=r?MediaPlayer.rules.SwitchRequest.prototype.STRONG:MediaPlayer.rules.SwitchRequest.prototype.DEFAULT,v=n.getFragmentModel().getRequests({state:MediaPlayer.dependencies.FragmentModel.states.REJECTED})[0],u=!!v&&!r,y=p.getIndexHandlerTime(),x=this.playbackController.getTime(),z=v?v.startTime+v.duration:null,
    z=!r&&v&&(z>x&&v.startTime<=y||isNaN(y)),A=p.bufferController.getBuffer(),B=null;if((k=r?t:z?v.startTime:y,!r&&!v&&k>x+MediaPlayer.dependencies.BufferController.BUFFER_TIME_AT_TOP_QUALITY)||(v&&n.getFragmentModel().removeRejectedRequest(v),isNaN(k)||"fragmentedText"===m&&this.textSourceBuffer.getAllTracksAreDisabled()))return void d(new MediaPlayer.rules.SwitchRequest(null,w));r&&(e[m]=null);A&&(B=this.sourceBufferExt.getBufferRange(p.bufferController.getBuffer(),k),null!==B&&(f=this.virtualBuffer.getChunks({streamId:l,
    mediaType:m,appended:!0,mediaInfo:g,forRange:B}),f&&0<f.length&&(k=f[f.length-1].bufferedRange.end)));f=this.adapter.getFragmentRequestForTime(p,q,k,{keepIdx:u});for(z&&f&&f.index!==v.index&&(f=this.adapter.getFragmentRequestForTime(p,q,v.startTime+v.duration/2+.1,{keepIdx:u,timeThreshold:0}));f&&p.getFragmentModel().isFragmentLoadedOrPending(f);){if("complete"===f.action){f=null;p.setIndexHandlerTime(NaN);break}f=this.adapter.getNextFragmentRequest(p,q)}f&&!z&&p.setIndexHandlerTime(f.startTime+f.duration);
    d(new MediaPlayer.rules.SwitchRequest(f,w))},reset:function(){e={};b={}}}};MediaPlayer.rules.PlaybackTimeRule.prototype={constructor:MediaPlayer.rules.PlaybackTimeRule};
MediaPlayer.rules.SameTimeRequestRule=function(){var e={},b=function(b,d){var e,f,h,p,q,t=0,r=b.length;for(t;r>t;t+=1)for(h=b[t].getRequests({state:MediaPlayer.dependencies.FragmentModel.states.PENDING}),c.call(this,h,"index"),p=0,q=h.length;q>p;p++){if(e=h[p],isNaN(e.startTime)&&"complete"!==e.action){f=e;break}e.startTime>d&&(!f||e.startTime<f.startTime)&&(f=e)}return f||e},d=function(b,c){var d,e,f=b.length,h=null;for(e=0;f>e;e+=1)(d=b[e].getRequests({state:MediaPlayer.dependencies.FragmentModel.states.PENDING,
    time:c})[0])&&(!h||d.startTime>h.startTime)&&(h=d);return h},c=function(b,c){b.sort(function(b,d){return b[c]<d[c]||isNaN(b[c])&&"complete"!==b.action?-1:b[c]>d[c]?1:0})},h=function(b,c){return e[b]&&e[b][c]?e[b][c]:NaN},f=function(b){var c=b.data.request;b=b.data.fragmentModel.getContext().streamProcessor.getStreamInfo().id;var d=c.mediaType;e[b]=e[b]||{};e[b][d]=c.index-1};return{playbackController:void 0,setup:function(){this[MediaPlayer.dependencies.FragmentController.eventList.ENAME_STREAM_COMPLETED]=
    f},setFragmentModels:function(b,c){this.fragmentModels=this.fragmentModels||{};this.fragmentModels[c]=b},execute:function(c,e){var f,l,n,p,q,t,r,w,v;p=c.getStreamInfo();var u=p.id;w=c.getCurrentValue();var y=MediaPlayer.rules.SwitchRequest.prototype.DEFAULT,x=this.playbackController,z=this.fragmentModels[u],A=new Date,B=null,E=z?z.length:null,D=!1,G=[];if(!z||!E||(t=x.isPlaybackStarted()?x.getTime():x.getStreamStartTime(p),r=d(z,t),q=r||b(z,t)||w,!q))return void e(new MediaPlayer.rules.SwitchRequest([],
    y));for(p=0;E>p;p+=1)if(l=z[p],f=l.getContext().streamProcessor.getType(),"video"===f||"audio"===f||"fragmentedText"===f){if(w=l.getRequests({state:MediaPlayer.dependencies.FragmentModel.states.PENDING}),v=l.getRequests({state:MediaPlayer.dependencies.FragmentModel.states.LOADING}).length,v>MediaPlayer.dependencies.ScheduleController.LOADING_REQUEST_THRESHOLD)return void e(new MediaPlayer.rules.SwitchRequest([],y));if(B=B||(q===r?t:q.startTime),-1===w.indexOf(q))if(n=l.getRequests({state:MediaPlayer.dependencies.FragmentModel.states.PENDING,
        time:B})[0],n||0!==q.index||(n=w.filter(function(b){return b.index===q.index})[0]),n)G.push(n);else{if(n=l.getRequests({state:MediaPlayer.dependencies.FragmentModel.states.LOADING,time:B})[0]||l.getRequests({state:MediaPlayer.dependencies.FragmentModel.states.EXECUTED,time:B})[0],!n&&q.index!==h.call(this,u,q.mediaType)&&"fragmentedText"!==f){D=!0;break}}else G.push(q)}return G=G.filter(function(b){return"complete"===b.action||A.getTime()>=b.availabilityStartTime.getTime()}),D?void e(new MediaPlayer.rules.SwitchRequest([],
    y)):void e(new MediaPlayer.rules.SwitchRequest(G,y))},reset:function(){e={}}}};MediaPlayer.rules.SameTimeRequestRule.prototype={constructor:MediaPlayer.rules.SameTimeRequestRule};
MediaPlayer.rules.ScheduleRulesCollection=function(){var e=[],b=[],d=[];return{bufferLevelRule:void 0,pendingRequestsRule:void 0,playbackTimeRule:void 0,sameTimeRequestRule:void 0,getRules:function(c){switch(c){case MediaPlayer.rules.ScheduleRulesCollection.prototype.FRAGMENTS_TO_SCHEDULE_RULES:return e;case MediaPlayer.rules.ScheduleRulesCollection.prototype.NEXT_FRAGMENT_RULES:return d;case MediaPlayer.rules.ScheduleRulesCollection.prototype.FRAGMENTS_TO_EXECUTE_RULES:return b;default:return null}},
    setup:function(){e.push(this.bufferLevelRule);e.push(this.pendingRequestsRule);d.push(this.playbackTimeRule);b.push(this.sameTimeRequestRule)}}};MediaPlayer.rules.ScheduleRulesCollection.prototype={constructor:MediaPlayer.rules.ScheduleRulesCollection,FRAGMENTS_TO_SCHEDULE_RULES:"fragmentsToScheduleRules",NEXT_FRAGMENT_RULES:"nextFragmentRules",FRAGMENTS_TO_EXECUTE_RULES:"fragmentsToExecuteRules"};
MediaPlayer.rules.SwitchRequest=function(e,b){this.value=e;this.priority=b;void 0===this.value&&(this.value=999);void 0===this.priority&&(this.priority=.5)};MediaPlayer.rules.SwitchRequest.prototype={constructor:MediaPlayer.rules.SwitchRequest,NO_CHANGE:999,DEFAULT:.5,STRONG:1,WEAK:0};
MediaPlayer.rules.LiveEdgeBinarySearchRule=function(){var e,b,d,c=NaN,h=null,f=NaN,k=null,g=!1,m=NaN,l=MediaPlayer.rules.SwitchRequest.prototype.DEFAULT,n=function(c,e,f,g){var h=this;if(null===g)g=h.adapter.generateFragmentRequestForTime(d,k,c),n.call(h,c,e,f,g);else{var l=function(d){b.unsubscribe(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_CHECK_FOR_EXISTENCE_COMPLETED,h,l);d.data.exists?e.call(h,d.data.request,c):f.call(h,d.data.request,c)};b.subscribe(MediaPlayer.dependencies.FragmentLoader.eventList.ENAME_CHECK_FOR_EXISTENCE_COMPLETED,
    h,l);b.checkForExistence(g)}},p=function(b,m){var v,u,y;return g?void t.call(this,!1,m):(y=m-c,v=0<y?c-y:c+Math.abs(y)+f,void(v<h.start&&v>h.end?e(new MediaPlayer.rules.SwitchRequest(null,l)):(u=this.adapter.getFragmentRequestForTime(d,k,v,{ignoreIsFinished:!0}),n.call(this,v,q,p,u))))},q=function(b,p){var q,u,y=b.startTime,x=this;if(!g){if(!k.fragmentDuration)return void e(new MediaPlayer.rules.SwitchRequest(y,l));if(g=!0,h.end=y+2*f,p===c)return u=p+m,q=x.adapter.getFragmentRequestForTime(d,k,u,
    {ignoreIsFinished:!0}),void n.call(x,u,function(){t.call(x,!0,u)},function(){e(new MediaPlayer.rules.SwitchRequest(u,l))},q)}t.call(this,!0,p)},t=function(b,c){var f,g;b?h.start=c:h.end=c;Math.floor(h.end-h.start)<=m?e(new MediaPlayer.rules.SwitchRequest(b?c:c-m,l)):(g=(h.start+h.end)/2,f=this.adapter.getFragmentRequestForTime(d,k,g,{ignoreIsFinished:!0}),n.call(this,g,q,p,f))};return{metricsExt:void 0,adapter:void 0,timelineConverter:void 0,execute:function(g,t){var v;if(e=t,d=g.getStreamProcessor(),
        b=d.getFragmentLoader(),k=g.getTrackInfo(),m=k.fragmentDuration,v=k.DVRWindow,c=v.end,k.useCalculatedLiveEdgeTime)return v=this.timelineConverter.getExpectedLiveEdge(),this.timelineConverter.setExpectedLiveEdge(c),void e(new MediaPlayer.rules.SwitchRequest(v,l));h={start:Math.max(0,c-43200),end:c+43200};f=Math.floor((v.end-v.start)/2);v=this.adapter.getFragmentRequestForTime(d,k,c,{ignoreIsFinished:!0});n.call(this,c,q,p,v)},reset:function(){c=NaN;h=null;f=NaN;k=null;g=!1;m=NaN;b=d=null}}};
MediaPlayer.rules.LiveEdgeBinarySearchRule.prototype={constructor:MediaPlayer.rules.LiveEdgeBinarySearchRule};
MediaPlayer.rules.LiveEdgeWithTimeSynchronizationRule=function(){return{timelineConverter:void 0,execute:function(e,b){var d=e.getTrackInfo(),c=d.DVRWindow.end,h=MediaPlayer.rules.SwitchRequest.prototype.DEFAULT;d.useCalculatedLiveEdgeTime?(d=this.timelineConverter.getExpectedLiveEdge(),this.timelineConverter.setExpectedLiveEdge(c),b(new MediaPlayer.rules.SwitchRequest(d,h))):b(new MediaPlayer.rules.SwitchRequest(c,h))}}};MediaPlayer.rules.LiveEdgeWithTimeSynchronizationRule.prototype={constructor:MediaPlayer.rules.LiveEdgeWithTimeSynchronizationRule};
MediaPlayer.rules.SynchronizationRulesCollection=function(){var e=[],b=[];return{liveEdgeBinarySearchRule:void 0,liveEdgeWithTimeSynchronizationRule:void 0,getRules:function(d){switch(d){case MediaPlayer.rules.SynchronizationRulesCollection.prototype.TIME_SYNCHRONIZED_RULES:return e;case MediaPlayer.rules.SynchronizationRulesCollection.prototype.BEST_GUESS_RULES:return b;default:return null}},setup:function(){e.push(this.liveEdgeWithTimeSynchronizationRule);b.push(this.liveEdgeBinarySearchRule)}}};
MediaPlayer.rules.SynchronizationRulesCollection.prototype={constructor:MediaPlayer.rules.SynchronizationRulesCollection,TIME_SYNCHRONIZED_RULES:"withAccurateTimeSourceRules",BEST_GUESS_RULES:"bestGuestRules"};MediaPlayer.utils.BoxParser=function(){return{system:void 0,log:void 0,parse:function(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);e=ISOBoxer.parseBuffer(e);var b=this.system.getObject("isoFile");return b.setData(e),b}}};MediaPlayer.utils.BoxParser.prototype={constructor:MediaPlayer.utils.BoxParser};
MediaPlayer.utils.Capabilities=function(){};
MediaPlayer.utils.Capabilities.prototype={constructor:MediaPlayer.utils.Capabilities,system:void 0,log:void 0,supportsMediaSource:function(){var e="MediaSource"in window;return"WebKitMediaSource"in window||e},supportsEncryptedMedia:function(){return this.system.hasMapping("protectionModel")},supportsCodec:function(e,b){if(!(e instanceof HTMLMediaElement))throw"element must be of type HTMLMediaElement.";var d=e.canPlayType(b);return"probably"===d||"maybe"===d}};
MediaPlayer.utils.CustomTimeRanges=function(){return{customTimeRangeArray:[],length:0,add:function(e,b){for(var d=0,d=0;d<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[d].start;d++);this.customTimeRangeArray.splice(d,0,{start:e,end:b});for(d=0;d<this.customTimeRangeArray.length-1;d++)this.mergeRanges(d,d+1)&&d--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[];this.length=0},remove:function(e,b){for(var d=0;d<this.customTimeRangeArray.length;d++)if(e<=
    this.customTimeRangeArray[d].start&&b>=this.customTimeRangeArray[d].end)this.customTimeRangeArray.splice(d,1),d--;else{if(e>this.customTimeRangeArray[d].start&&b<this.customTimeRangeArray[d].end){this.customTimeRangeArray.splice(d+1,0,{start:b,end:this.customTimeRangeArray[d].end});this.customTimeRangeArray[d].end=e;break}e>this.customTimeRangeArray[d].start&&e<this.customTimeRangeArray[d].end?this.customTimeRangeArray[d].end=e:b>this.customTimeRangeArray[d].start&&b<this.customTimeRangeArray[d].end&&
(this.customTimeRangeArray[d].start=b)}this.length=this.customTimeRangeArray.length},mergeRanges:function(e,b){var d=this.customTimeRangeArray[e],c=this.customTimeRangeArray[b];return d.start<=c.start&&c.start<=d.end&&d.end<=c.end?(d.end=c.end,this.customTimeRangeArray.splice(b,1),!0):c.start<=d.start&&d.start<=c.end&&c.end<=d.end?(d.start=c.start,this.customTimeRangeArray.splice(b,1),!0):c.start<=d.start&&d.start<=c.end&&d.end<=c.end?(this.customTimeRangeArray.splice(e,1),!0):d.start<=c.start&&c.start<=
d.end&&c.end<=d.end?(this.customTimeRangeArray.splice(b,1),!0):!1},start:function(e){return this.customTimeRangeArray[e].start},end:function(e){return this.customTimeRangeArray[e].end}}};MediaPlayer.utils.CustomTimeRanges.prototype={constructor:MediaPlayer.utils.CustomTimeRanges};
MediaPlayer.utils.DOMStorage=function(){var e,b=!0,d=!0,c=function(b,c){void 0===c||isNaN(c)||"number"!=typeof c||(MediaPlayer.utils.DOMStorage[b]=c)};return{system:void 0,log:void 0,abrController:void 0,checkInitialBitrate:function(){["video","audio"].forEach(function(c){if(void 0===this.abrController.getInitialBitrateFor(c)){if(this.isSupported(MediaPlayer.utils.DOMStorage.STORAGE_TYPE_LOCAL)&&b){var d=MediaPlayer.utils.DOMStorage["LOCAL_STORAGE_"+c.toUpperCase()+"_BITRATE_KEY"],e=JSON.parse(localStorage.getItem(d))||
    {},g=(new Date).getTime()-parseInt(e.timestamp)>=MediaPlayer.utils.DOMStorage.LOCAL_STORAGE_BITRATE_EXPIRATION||!1,e=parseInt(e.bitrate);isNaN(e)||g?g&&localStorage.removeItem(d):(this.abrController.setInitialBitrateFor(c,e),this.log("Last bitrate played for "+c+" was "+e))}void 0===this.abrController.getInitialBitrateFor(c)&&this.abrController.setInitialBitrateFor(c,MediaPlayer.dependencies.AbrController["DEFAULT_"+c.toUpperCase()+"_BITRATE"])}},this)},getSavedMediaSettings:function(b){if(!this.isSupported(MediaPlayer.utils.DOMStorage.STORAGE_TYPE_LOCAL)||
    !d)return null;b=MediaPlayer.utils.DOMStorage["LOCAL_STORAGE_"+b.toUpperCase()+"_SETTINGS_KEY"];var c=JSON.parse(localStorage.getItem(b))||{},e=(new Date).getTime()-parseInt(c.timestamp)>=MediaPlayer.utils.DOMStorage.LOCAL_STORAGE_MEDIA_SETTINGS_EXPIRATION||!1,c=c.settings;return e&&(localStorage.removeItem(b),c=null),c},enableLastBitrateCaching:function(d,e){b=d;c.call(this,"LOCAL_STORAGE_BITRATE_EXPIRATION",e)},enableLastMediaSettingsCaching:function(b,e){d=b;c.call(this,"LOCAL_STORAGE_MEDIA_SETTINGS_EXPIRATION",
    e)},isSupported:function(b){if(void 0!==e)return e;e=!1;var c;try{c=window[b]}catch(d){return this.log("Warning: DOMStorage access denied: "+d.message),e}if(!c||b!==MediaPlayer.utils.DOMStorage.STORAGE_TYPE_LOCAL&&b!==MediaPlayer.utils.DOMStorage.STORAGE_TYPE_SESSION)return e;try{c.setItem("1","1"),c.removeItem("1"),e=!0}catch(d){this.log("Warning: DOMStorage is supported, but cannot be used: "+d.message)}return e}}};MediaPlayer.utils.DOMStorage.LOCAL_STORAGE_VIDEO_BITRATE_KEY="dashjs_vbitrate";
MediaPlayer.utils.DOMStorage.LOCAL_STORAGE_AUDIO_BITRATE_KEY="dashjs_abitrate";MediaPlayer.utils.DOMStorage.LOCAL_STORAGE_AUDIO_SETTINGS_KEY="dashjs_asettings";MediaPlayer.utils.DOMStorage.LOCAL_STORAGE_VIDEO_SETTINGS_KEY="dashjs_vsettings";MediaPlayer.utils.DOMStorage.LOCAL_STORAGE_BITRATE_EXPIRATION=36E4;MediaPlayer.utils.DOMStorage.LOCAL_STORAGE_MEDIA_SETTINGS_EXPIRATION=36E4;MediaPlayer.utils.DOMStorage.STORAGE_TYPE_LOCAL="localStorage";MediaPlayer.utils.DOMStorage.STORAGE_TYPE_SESSION="sessionStorage";
MediaPlayer.utils.DOMStorage.prototype={constructor:MediaPlayer.utils.DOMStorage};
MediaPlayer.utils.Debug=function(){var e,b=!0,d=!1,c=!1,h=(new Date).getTime();return{system:void 0,eventBus:void 0,setup:function(){this.system.mapValue("log",this.log);this.system.mapOutlet("log");e=this.eventBus},setLogTimestampVisible:function(b){d=b},showCalleeName:function(b){c=b},setLogToBrowserConsole:function(c){b=c},getLogToBrowserConsole:function(){return b},log:function(){var f="",k=null;d&&(k=(new Date).getTime(),f+="["+(k-h)+"]");c&&this.getName&&(f+="["+this.getName()+"]");this.getMediaType&&
this.getMediaType()&&(f+="["+this.getMediaType()+"]");0<f.length&&(f+=" ");Array.apply(null,arguments).forEach(function(b){f+=b+" "});b&&console.log(f);e.dispatchEvent({type:"log",message:f})}}};
MediaPlayer.utils.EventBus=function(){var e,b=function(b,c){var h=(c?"1":"0")+b;return h in e||(e[h]=[]),e[h]};e={};return{addEventListener:function(d,c,e){d=b(d,e);-1===d.indexOf(c)&&d.push(c)},removeEventListener:function(d,c,e){d=b(d,e);c=d.indexOf(c);-1!==c&&d.splice(c,1)},dispatchEvent:function(d){for(var c=b(d.type,!1).slice(),e=0;e<c.length;e++)c[e].call(this,d);return!d.defaultPrevented}}};
MediaPlayer.utils.IsoFile=function(){var e,b={offset:"_offset",size:"size",type:"type"},d={references:"references",timescale:"timescale",earliest_presentation_time:"earliest_presentation_time",first_offset:"first_offset"},c={reference_type:"reference_type",referenced_size:"referenced_size",subsegment_duration:"subsegment_duration"},h={id:"id",value:"value",timescale:"timescale",scheme_id_uri:"scheme_id_uri",presentation_time_delta:"presentation_time_delta",event_duration:"event_duration",message_data:"message_data"},
    f={timescale:"timescale"},k={base_data_offset:"base_data_offset",sample_description_index:"sample_description_index",default_sample_duration:"default_sample_duration",default_sample_size:"default_sample_size",default_sample_flags:"default_sample_flags",flags:"flags"},g={version:"version",baseMediaDecodeTime:"baseMediaDecodeTime",flags:"flags"},m={sample_count:"sample_count",first_sample_flags:"first_sample_flags",data_offset:"data_offset",flags:"flags",samples:"samples"},l={sample_size:"sample_size",
        sample_duration:"sample_duration",sample_composition_time_offset:"sample_composition_time_offset"},n=function(b,c,d){for(var e in d)c[e]=b[d[e]]},p=function(e){if(!e)return null;var p,q,v=new MediaPlayer.vo.IsoBox;switch(n(e,v,b),e.hasOwnProperty("_incomplete")&&(v.isComplete=!e._incomplete),v.type){case "sidx":if(n(e,v,d),v.references)for(p=0,q=v.references.length;q>p;p+=1)n(e.references[p],v.references[p],c);break;case "emsg":n(e,v,h);break;case "mdhd":n(e,v,f);break;case "tfhd":n(e,v,k);break;
        case "tfdt":n(e,v,g);break;case "trun":if(n(e,v,m),v.samples)for(p=0,q=v.samples.length;q>p;p+=1)n(e.samples[p],v.samples[p],l)}return v},q=function(b){for(var c=e.fetchAll(b),d=[],f=0,g=c.length;g>f;f+=1)(b=p.call(this,c[f]))&&d.push(b);return d};return{getBox:function(b){return b&&e&&e.boxes&&0!==e.boxes.length?p.call(this,e.fetch(b)):null},getBoxes:q,setData:function(b){e=b},getLastBox:function(){if(!e||!e.boxes||!e.boxes.length)return null;var b=q.call(this,e.boxes[e.boxes.length-1].type);return b[b.length-
1]},getOffset:function(){return e._cursor.offset}}};MediaPlayer.utils.IsoFile.prototype={constructor:MediaPlayer.utils.IsoFile};
MediaPlayer.utils.VirtualBuffer=function(){var e={},b=function(b,c){b.sort(function(b,d){return b[c]<d[c]?-1:b[c]>d[c]?1:0})},d=function(b){var c=b.streamId;b=b.mediaType;return e[c]?e[c][b]:null},c=function(b,c,d){var e,m,l,n,p=[],q=c.start,t=c.end;return b.forEach(function(b){e=b.bufferedRange.start;m=b.bufferedRange.end;l=e>=q&&t>e;n=m>q&&t>=m;(l||n)&&(p.push(b),d&&(b.bufferedRange.start=l?e:q,b.bufferedRange.end=n?m:t))}),p};return{system:void 0,sourceBufferExt:void 0,notify:void 0,subscribe:void 0,
    unsubscribe:void 0,append:function(c){var d=c.streamId,k=c.mediaInfo.type,g=c.segmentType,m=c.start,l=c.end,n=e,p;(p=e[d])||(p={},p=(p.audio={calculatedBufferedRanges:new MediaPlayer.utils.CustomTimeRanges,actualBufferedRanges:new MediaPlayer.utils.CustomTimeRanges,appended:[]},p.audio[MediaPlayer.vo.metrics.HTTPRequest.MEDIA_SEGMENT_TYPE]=[],p.audio[MediaPlayer.vo.metrics.HTTPRequest.INIT_SEGMENT_TYPE]=[],p.video={calculatedBufferedRanges:new MediaPlayer.utils.CustomTimeRanges,actualBufferedRanges:new MediaPlayer.utils.CustomTimeRanges,
        appended:[]},p.video[MediaPlayer.vo.metrics.HTTPRequest.MEDIA_SEGMENT_TYPE]=[],p.video[MediaPlayer.vo.metrics.HTTPRequest.INIT_SEGMENT_TYPE]=[],p.fragmentedText={calculatedBufferedRanges:new MediaPlayer.utils.CustomTimeRanges,actualBufferedRanges:new MediaPlayer.utils.CustomTimeRanges,appended:[]},p.fragmentedText[MediaPlayer.vo.metrics.HTTPRequest.MEDIA_SEGMENT_TYPE]=[],p.fragmentedText[MediaPlayer.vo.metrics.HTTPRequest.INIT_SEGMENT_TYPE]=[],p));n[d]=p;e[d][k][g].push(c);b(e[d][k][g],"index");isNaN(m)||
    isNaN(l)||(e[d][k].calculatedBufferedRanges.add(m,l),this.notify(MediaPlayer.utils.VirtualBuffer.eventList.CHUNK_APPENDED,{chunk:c}))},storeAppendedChunk:function(c,d){if(c&&d){var k,g,m=c.streamId,l=c.mediaInfo.type,n=e[m][l].actualBufferedRanges,p=this.getChunks({streamId:m,mediaType:l,appended:!0,start:c.start})[0];if(p?(g=e[m][l].appended.indexOf(p),e[m][l].appended[g]=c):e[m][l].appended.push(c),b(e[m][l].appended,"start"),k=this.sourceBufferExt.getRangeDifference(n,d),!k)return void(p&&(c.bufferedRange=
        p.bufferedRange));c.bufferedRange=k;n.add(k.start,k.end);p&&(c.bufferedRange.start=Math.min(p.bufferedRange.start,k.start),c.bufferedRange.end=Math.max(p.bufferedRange.end,k.end))}},updateBufferedRanges:function(b,d){if(b){var k,g,m=b.streamId,l=b.mediaType,n=this.getChunks({streamId:m,mediaType:l,appended:!0}),p=[];if(e[m][l].actualBufferedRanges=new MediaPlayer.utils.CustomTimeRanges,!d||0===d.length)return void(e[m][l].appended=[]);for(var q=0,t=d.length;t>q;q+=1)k=d.start(q),g=d.end(q),e[m][l].actualBufferedRanges.add(k,
        g),p=p.concat(c.call(this,n,{start:k,end:g},!0));e[m][l].appended=p}},getChunks:function(b){var e,k=d.call(this,b),g=b.segmentType,m=b.appended,l=b.removeOrigin,n=b.limit||Number.POSITIVE_INFINITY,p=this.system.getObject("mediaController"),q=0,t=[];return k?(delete b.streamId,delete b.mediaType,delete b.segmentType,delete b.removeOrigin,delete b.limit,delete b.appended,e=m?k.appended:g?k[g]:[],t=e.filter(function(c,d,e){if(q>=n)return!1;for(var f in b){if("mediaInfo"===f)return p.isTracksEqual(c[f],
        b[f]);if(b.hasOwnProperty(f)&&c[f]!=b[f])return!1}return l&&(k.calculatedBufferedRanges.remove(c.start,c.end),e.splice(d,1)),q+=1,!0}),b.forRange&&(t=c.call(this,t,b.forRange,!1)),t):t},extract:function(b){return b.removeOrigin=!0,this.getChunks(b)},getTotalBufferLevel:function(b){b=b.type;var c=0,d;for(d in e)e.hasOwnProperty(d)&&(c+=this.sourceBufferExt.getTotalBufferedTime({buffered:e[d][b].calculatedBufferedRanges}));return c},reset:function(){e={}}}};
MediaPlayer.utils.VirtualBuffer.prototype={constructor:MediaPlayer.utils.VirtualBuffer};MediaPlayer.utils.VirtualBuffer.eventList={CHUNK_APPENDED:"chunkAppended"};MediaPlayer.vo.BitrateInfo=function(){this.bitrate=this.mediaType=null;this.qualityIndex=NaN};MediaPlayer.vo.BitrateInfo.prototype={constructor:MediaPlayer.vo.BitrateInfo};MediaPlayer.vo.DataChunk=function(){this.segmentType=this.mediaInfo=this.streamId=null;this.index=this.quality=NaN;this.bytes=null;this.duration=this.end=this.start=NaN};
MediaPlayer.vo.DataChunk.prototype={constructor:MediaPlayer.vo.DataChunk};MediaPlayer.vo.Error=function(e,b,d){this.code=e||null;this.message=b||null;this.data=d||null};MediaPlayer.vo.Error.prototype={constructor:MediaPlayer.vo.Error};MediaPlayer.vo.Event=function(){this.error=this.data=this.sender=this.type=null;this.timestamp=NaN};MediaPlayer.vo.Event.prototype={constructor:MediaPlayer.vo.Event};
MediaPlayer.vo.FragmentRequest=function(){this.action="download";this.startTime=NaN;this.type=this.mediaInfo=this.mediaType=null;this.timescale=this.duration=NaN;this.requestEndDate=this.firstByteDate=this.requestStartDate=this.url=this.range=null;this.index=this.quality=NaN;this.wallStartTime=this.availabilityEndTime=this.availabilityStartTime=null;this.bytesTotal=this.bytesLoaded=NaN};
MediaPlayer.vo.FragmentRequest.prototype={constructor:MediaPlayer.vo.FragmentRequest,ACTION_DOWNLOAD:"download",ACTION_COMPLETE:"complete"};MediaPlayer.vo.IsoBox=function(){this.offset=NaN;this.type=null;this.size=NaN;this.isComplete=!0};MediaPlayer.vo.IsoBox.prototype={constructor:MediaPlayer.vo.IsoBox};MediaPlayer.vo.ManifestInfo=function(){this.DVRWindowSize=NaN;this.availableFrom=this.loadedTime=null;this.duration=this.minBufferTime=NaN;this.isDynamic=!1;this.maxFragmentDuration=null};
MediaPlayer.vo.ManifestInfo.prototype={constructor:MediaPlayer.vo.ManifestInfo};MediaPlayer.vo.MediaInfo=function(){this.streamInfo=this.type=this.index=this.id=null;this.representationCount=0;this.contentProtection=this.mimeType=this.codec=this.roles=this.audioChannelConfiguration=this.accessibility=this.viewpoint=this.lang=null;this.isText=!1;this.bitrateList=this.KID=null};MediaPlayer.vo.MediaInfo.prototype={constructor:MediaPlayer.vo.MediaInfo};
MediaPlayer.models.MetricsList=function(){return{TcpList:[],HttpList:[],RepSwitchList:[],BufferLevel:[],BufferState:[],PlayList:[],DroppedFrames:[],SchedulingInfo:[],DVRInfo:[],ManifestUpdate:[],RequestsQueue:null}};MediaPlayer.models.MetricsList.prototype={constructor:MediaPlayer.models.MetricsList};MediaPlayer.vo.StreamInfo=function(){this.index=this.id=null;this.duration=this.start=NaN;this.manifestInfo=null;this.isLast=!0};MediaPlayer.vo.StreamInfo.prototype={constructor:MediaPlayer.vo.StreamInfo};
MediaPlayer.vo.TextTrackInfo=function(){this.lang=this.label=this.captionData=this.video=null;this.defaultTrack=!1;this.kind=null;this.isFragmented=!1};MediaPlayer.vo.TextTrackInfo.prototype={constructor:MediaPlayer.vo.TextTrackInfo};MediaPlayer.vo.TrackInfo=function(){this.MSETimeOffset=this.mediaInfo=this.fragmentDuration=this.DVRWindow=this.quality=this.id=null};MediaPlayer.vo.TrackInfo.prototype={constructor:MediaPlayer.vo.TrackInfo};
MediaPlayer.vo.URIFragmentData=function(){this.s=this.id=this.track=this.xywh=this.t=null};MediaPlayer.vo.URIFragmentData.prototype={constructor:MediaPlayer.vo.URIFragmentData};MediaPlayer.vo.metrics.BufferLevel=function(){this.level=this.t=null};MediaPlayer.vo.metrics.BufferLevel.prototype={constructor:MediaPlayer.vo.metrics.BufferLevel};MediaPlayer.vo.metrics.BufferState=function(){this.target=null;this.state=MediaPlayer.dependencies.BufferController.BUFFER_EMPTY};
MediaPlayer.vo.metrics.BufferState.prototype={constructor:MediaPlayer.vo.metrics.BufferState};MediaPlayer.vo.metrics.DVRInfo=function(){this.manifestInfo=this.range=this.time=null};MediaPlayer.vo.metrics.DVRInfo.prototype={constructor:MediaPlayer.vo.metrics.DVRInfo};MediaPlayer.vo.metrics.DroppedFrames=function(){this.droppedFrames=this.time=null};MediaPlayer.vo.metrics.DroppedFrames.prototype={constructor:MediaPlayer.vo.metrics.DroppedFrames};
MediaPlayer.vo.metrics.HTTPRequest=function(){this.responseHeaders=this.mediaduration=this.interval=this.responsecode=this.tfinish=this.tresponse=this.trequest=this.range=this.actualurl=this.url=this.type=this.tcpid=this.stream=null;this.trace=[]};MediaPlayer.vo.metrics.HTTPRequest.prototype={constructor:MediaPlayer.vo.metrics.HTTPRequest};MediaPlayer.vo.metrics.HTTPRequest.Trace=function(){this.d=this.s=null;this.b=[]};MediaPlayer.vo.metrics.HTTPRequest.Trace.prototype={constructor:MediaPlayer.vo.metrics.HTTPRequest.Trace};
MediaPlayer.vo.metrics.HTTPRequest.MPD_TYPE="MPD";MediaPlayer.vo.metrics.HTTPRequest.XLINK_EXPANSION_TYPE="XLink Expansion";MediaPlayer.vo.metrics.HTTPRequest.INIT_SEGMENT_TYPE="Initialization Segment";MediaPlayer.vo.metrics.HTTPRequest.INDEX_SEGMENT_TYPE="Index Segment";MediaPlayer.vo.metrics.HTTPRequest.MEDIA_SEGMENT_TYPE="Media Segment";MediaPlayer.vo.metrics.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE="Bitstream Switching Segment";MediaPlayer.vo.metrics.HTTPRequest.OTHER_TYPE="other";
MediaPlayer.vo.metrics.ManifestUpdate=function(){this.availabilityStartTime=this.fetchTime=this.requestTime=this.type=this.mediaType=null;this.clientTimeOffset=this.presentationStartTime=0;this.buffered=this.currentTime=null;this.latency=0;this.streamInfo=[];this.trackInfo=[]};MediaPlayer.vo.metrics.ManifestUpdate.StreamInfo=function(){this.duration=this.start=this.index=this.id=null};
MediaPlayer.vo.metrics.ManifestUpdate.TrackInfo=function(){this.fragmentInfoType=this.startNumber=this.presentationTimeOffset=this.streamIndex=this.mediaType=this.index=this.id=null};MediaPlayer.vo.metrics.ManifestUpdate.prototype={constructor:MediaPlayer.vo.metrics.ManifestUpdate};MediaPlayer.vo.metrics.ManifestUpdate.StreamInfo.prototype={constructor:MediaPlayer.vo.metrics.ManifestUpdate.StreamInfo};MediaPlayer.vo.metrics.ManifestUpdate.TrackInfo.prototype={constructor:MediaPlayer.vo.metrics.ManifestUpdate.TrackInfo};
MediaPlayer.vo.metrics.PlayList=function(){this.starttype=this.mstart=this.start=this.stream=null;this.trace=[]};MediaPlayer.vo.metrics.PlayList.Trace=function(){this.stopreason=this.playbackspeed=this.duration=this.mstart=this.start=this.subreplevel=this.representationid=null};MediaPlayer.vo.metrics.PlayList.prototype={constructor:MediaPlayer.vo.metrics.PlayList};MediaPlayer.vo.metrics.PlayList.INITIAL_PLAY_START_REASON="initial_start";MediaPlayer.vo.metrics.PlayList.SEEK_START_REASON="seek";
MediaPlayer.vo.metrics.PlayList.Trace.prototype={constructor:MediaPlayer.vo.metrics.PlayList.Trace()};MediaPlayer.vo.metrics.PlayList.Trace.USER_REQUEST_STOP_REASON="user_request";MediaPlayer.vo.metrics.PlayList.Trace.REPRESENTATION_SWITCH_STOP_REASON="representation_switch";MediaPlayer.vo.metrics.PlayList.Trace.END_OF_CONTENT_STOP_REASON="end_of_content";MediaPlayer.vo.metrics.PlayList.Trace.REBUFFERING_REASON="rebuffering";
MediaPlayer.vo.metrics.RepresentationSwitch=function(){this.lto=this.to=this.mt=this.t=null};MediaPlayer.vo.metrics.RepresentationSwitch.prototype={constructor:MediaPlayer.vo.metrics.RepresentationSwitch};MediaPlayer.vo.metrics.RequestsQueue=function(){this.pendingRequests=[];this.loadingRequests=[];this.executedRequests=[];this.rejectedRequests=[]};MediaPlayer.vo.metrics.RequestsQueue.prototype={constructor:MediaPlayer.vo.metrics.RequestsQueue};
MediaPlayer.vo.metrics.SchedulingInfo=function(){this.state=this.range=this.quality=this.duration=this.availabilityStartTime=this.startTime=this.type=this.t=this.mediaType=null};MediaPlayer.vo.metrics.SchedulingInfo.prototype={constructor:MediaPlayer.vo.metrics.SchedulingInfo};MediaPlayer.vo.metrics.TCPConnection=function(){this.tconnect=this.tclose=this.topen=this.dest=this.tcpid=null};MediaPlayer.vo.metrics.TCPConnection.prototype={constructor:MediaPlayer.vo.metrics.TCPConnection};
MediaPlayer.vo.protection.ClearKeyKeySet=function(e,b){if(b&&"persistent"!==b&&"temporary"!==b)throw Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=e;this.type=b;this.toJWK=function(){var b,c=this.keyPairs.length,e={keys:[]};for(b=0;c>b;b++)e.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[b].keyID,k:this.keyPairs[b].key});this.type&&(e.type=this.type);var c=JSON.stringify(e),e=c.length,f=new ArrayBuffer(e),k=new Uint8Array(f);for(b=0;e>b;b++)k[b]=
    c.charCodeAt(b);return f}};MediaPlayer.vo.protection.ClearKeyKeySet.prototype={constructor:MediaPlayer.vo.protection.ClearKeyKeySet};MediaPlayer.vo.protection.KeyError=function(e,b){this.sessionToken=e;this.error=b};MediaPlayer.vo.protection.KeyError.prototype={constructor:MediaPlayer.vo.protection.KeyError};MediaPlayer.vo.protection.KeyMessage=function(e,b,d,c){this.sessionToken=e;this.message=b;this.defaultURL=d;this.messageType=c?c:"license-request"};
MediaPlayer.vo.protection.KeyMessage.prototype={constructor:MediaPlayer.vo.protection.KeyMessage};MediaPlayer.vo.protection.KeyPair=function(e,b){this.keyID=e;this.key=b};MediaPlayer.vo.protection.KeyPair.prototype={constructor:MediaPlayer.vo.protection.KeyPair};MediaPlayer.vo.protection.KeySystemAccess=function(e,b){this.keySystem=e;this.ksConfiguration=b};MediaPlayer.vo.protection.KeySystemAccess.prototype={constructor:MediaPlayer.vo.protection.KeySystemAccess};
MediaPlayer.vo.protection.KeySystemConfiguration=function(e,b,d,c,h){this.initDataTypes=["cenc"];this.audioCapabilities=e;this.videoCapabilities=b;this.distinctiveIdentifier=d;this.persistentState=c;this.sessionTypes=h};MediaPlayer.vo.protection.KeySystemConfiguration.prototype={constructor:MediaPlayer.vo.protection.KeySystemConfiguration};MediaPlayer.vo.protection.LicenseRequestComplete=function(e,b,d){this.message=e;this.sessionToken=b;this.messageType=d?d:"license-request"};
MediaPlayer.vo.protection.LicenseRequestComplete.prototype={constructor:MediaPlayer.vo.protection.LicenseRequestComplete};MediaPlayer.vo.protection.MediaCapability=function(e,b){this.contentType=e;this.robustness=b};MediaPlayer.vo.protection.MediaCapability.prototype={constructor:MediaPlayer.vo.protection.MediaCapability};MediaPlayer.vo.protection.NeedKey=function(e,b){this.initData=e;this.initDataType=b};MediaPlayer.vo.protection.NeedKey.prototype={constructor:MediaPlayer.vo.protection.NeedKey};
MediaPlayer.vo.protection.ProtectionData=function(e,b,d){this.serverURL=e;this.httpRequestHeaders=b;this.clearkeys=d};MediaPlayer.vo.protection.ProtectionData.prototype={constructor:MediaPlayer.vo.protection.ProtectionData};MediaPlayer.vo.protection.SessionToken=function(){};(function(e,b){function d(c,e){var k=e.options_,g;this.tech_=e;this.el_=e.el();this.elParent_=this.el_.parentNode;c.src&&(e.isReady_=!1,g=c.src,this.keySystemOptions_=d.buildDashJSProtData(c.keySystemOptions),d.hideErrors(this.elParent_),d.useVideoJSDebug&&d.useVideoJSDebug(b),d.context_=d.context_||new Dash.di.DashContext,this.mediaPlayer_=new MediaPlayer(d.context_),this.mediaPlayer_.startup(),this.mediaPlayer_.attachView(this.el_),k.autoplay||this.mediaPlayer_.setAutoPlay(!1),this.mediaPlayer_.retrieveManifest(g,
    b.bind(this,this.initializeDashJS)))}var c=function(b,d){var e,g,m;for(e in d)d.hasOwnProperty(e)&&(g=b[e],m=d[e],"[object Object]"===Object.prototype.toString.call(g)&&"[object Object]"===Object.prototype.toString.call(m)?b[e]=c(g,m):b[e]=d[e]);return b};d.prototype.initializeDashJS=function(e,f){var k={};f?(d.showErrors(this.elParent_),this.tech_.triggerReady(),this.dispose()):(d.getWidevineProtectionData&&(k=d.getWidevineProtectionData(e),this.keySystemOptions_=c(this.keySystemOptions_,k)),this.resetSrc_(b.bind(this,
    function(){d.showErrors(this.elParent_);this.mediaPlayer_.attachSource(e,null,this.keySystemOptions_);this.tech_.triggerReady()})))};d.hideErrors=function(b){b.className+=" vjs-dashjs-hide-errors"};d.showErrors=function(b){setTimeout(function(){b.className=b.className.replace(" vjs-dashjs-hide-errors","")},250)};d.buildDashJSProtData=function(b){var d,e,g,m={};if(!b||"[object Array]"!==Object.prototype.toString.call(b))return m;for(g=0;g<b.length;g++)d=b[g],e=c({},d.options),e.licenseUrl&&(e.laURL=
    e.licenseUrl,delete e.licenseUrl),m[d.name]=e;return m};d.prototype.resetSrc_=function(b){this.el_&&(this.el_.src="",this.el_.setMediaKeys?this.el_.setMediaKeys(null).then(b,b):b())};d.prototype.dispose=function(){this.mediaPlayer_&&this.mediaPlayer_.reset();this.resetSrc_(function(){})};e.MediaSource&&b.getComponent("Html5").registerSourceHandler({canHandleSource:function(b){var c=/\.mpd/i;return/^application\/dash\+xml/i.test(b.type)?"probably":c.test(b.src)?"maybe":""},handleSource:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       c){return new d(b,c)}},0);b.Html5DashJS=d})(window,window.videojs);